var sM=Object.defineProperty;var aM=(t,e,n)=>e in t?sM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pm=(t,e,n)=>aM(t,typeof e!="symbol"?e+"":e,n);function lM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Kr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yP={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oc=Symbol.for("react.element"),uM=Symbol.for("react.portal"),cM=Symbol.for("react.fragment"),fM=Symbol.for("react.strict_mode"),hM=Symbol.for("react.profiler"),dM=Symbol.for("react.provider"),pM=Symbol.for("react.context"),mM=Symbol.for("react.forward_ref"),gM=Symbol.for("react.suspense"),yM=Symbol.for("react.memo"),vM=Symbol.for("react.lazy"),XE=Symbol.iterator;function _M(t){return t===null||typeof t!="object"?null:(t=XE&&t[XE]||t["@@iterator"],typeof t=="function"?t:null)}var vP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_P=Object.assign,wP={};function Za(t,e,n){this.props=t,this.context=e,this.refs=wP,this.updater=n||vP}Za.prototype.isReactComponent={};Za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function EP(){}EP.prototype=Za.prototype;function Gv(t,e,n){this.props=t,this.context=e,this.refs=wP,this.updater=n||vP}var Yv=Gv.prototype=new EP;Yv.constructor=Gv;_P(Yv,Za.prototype);Yv.isPureReactComponent=!0;var JE=Array.isArray,bP=Object.prototype.hasOwnProperty,Qv={current:null},TP={key:!0,ref:!0,__self:!0,__source:!0};function SP(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)bP.call(e,r)&&!TP.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:oc,type:t,key:o,ref:s,props:i,_owner:Qv.current}}function wM(t,e){return{$$typeof:oc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xv(t){return typeof t=="object"&&t!==null&&t.$$typeof===oc}function EM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ZE=/\/+/g;function Im(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EM(""+t.key):e.toString(36)}function Kf(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case oc:case uM:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Im(s,0):r,JE(i)?(n="",t!=null&&(n=t.replace(ZE,"$&/")+"/"),Kf(i,e,n,"",function(u){return u})):i!=null&&(Xv(i)&&(i=wM(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(ZE,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",JE(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Im(o,a);s+=Kf(o,e,n,l,i)}else if(l=_M(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Im(o,a++),s+=Kf(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function af(t,e,n){if(t==null)return t;var r=[],i=0;return Kf(t,r,"","",function(o){return e.call(n,o,i++)}),r}function bM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},Hf={transition:null},TM={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:Hf,ReactCurrentOwner:Qv};function AP(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:af,forEach:function(t,e,n){af(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return af(t,function(){e++}),e},toArray:function(t){return af(t,function(e){return e})||[]},only:function(t){if(!Xv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=Za;de.Fragment=cM;de.Profiler=hM;de.PureComponent=Gv;de.StrictMode=fM;de.Suspense=gM;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TM;de.act=AP;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_P({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Qv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)bP.call(e,l)&&!TP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:oc,type:t.type,key:i,ref:o,props:r,_owner:s}};de.createContext=function(t){return t={$$typeof:pM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dM,_context:t},t.Consumer=t};de.createElement=SP;de.createFactory=function(t){var e=SP.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:mM,render:t}};de.isValidElement=Xv;de.lazy=function(t){return{$$typeof:vM,_payload:{_status:-1,_result:t},_init:bM}};de.memo=function(t,e){return{$$typeof:yM,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=Hf.transition;Hf.transition={};try{t()}finally{Hf.transition=e}};de.unstable_act=AP;de.useCallback=function(t,e){return un.current.useCallback(t,e)};de.useContext=function(t){return un.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return un.current.useDeferredValue(t)};de.useEffect=function(t,e){return un.current.useEffect(t,e)};de.useId=function(){return un.current.useId()};de.useImperativeHandle=function(t,e,n){return un.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return un.current.useMemo(t,e)};de.useReducer=function(t,e,n){return un.current.useReducer(t,e,n)};de.useRef=function(t){return un.current.useRef(t)};de.useState=function(t){return un.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return un.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return un.current.useTransition()};de.version="18.3.1";yP.exports=de;var P=yP.exports;const M=Kr(P),SM=lM({__proto__:null,default:M},[P]);var $g={},PP={exports:{}},Fn={},IP={exports:{}},xP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,J){var te=W.length;W.push(J);e:for(;0<te;){var _e=te-1>>>1,H=W[_e];if(0<i(H,J))W[_e]=J,W[te]=H,te=_e;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var J=W[0],te=W.pop();if(te!==J){W[0]=te;e:for(var _e=0,H=W.length,Oe=H>>>1;_e<Oe;){var Nt=2*(_e+1)-1,je=W[Nt],bn=Nt+1,fn=W[bn];if(0>i(je,te))bn<H&&0>i(fn,je)?(W[_e]=fn,W[bn]=te,_e=bn):(W[_e]=je,W[Nt]=te,_e=Nt);else if(bn<H&&0>i(fn,te))W[_e]=fn,W[bn]=te,_e=bn;else break e}}return J}function i(W,J){var te=W.sortIndex-J.sortIndex;return te!==0?te:W.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,d=3,p=!1,g=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(W){for(var J=n(u);J!==null;){if(J.callback===null)r(u);else if(J.startTime<=W)r(u),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(u)}}function x(W){if(w=!1,b(W),!g)if(n(l)!==null)g=!0,ne(R);else{var J=n(u);J!==null&&ye(x,J.startTime-W)}}function R(W,J){g=!1,w&&(w=!1,y(T),T=-1),p=!0;var te=d;try{for(b(J),h=n(l);h!==null&&(!(h.expirationTime>J)||W&&!k());){var _e=h.callback;if(typeof _e=="function"){h.callback=null,d=h.priorityLevel;var H=_e(h.expirationTime<=J);J=t.unstable_now(),typeof H=="function"?h.callback=H:h===n(l)&&r(l),b(J)}else r(l);h=n(l)}if(h!==null)var Oe=!0;else{var Nt=n(u);Nt!==null&&ye(x,Nt.startTime-J),Oe=!1}return Oe}finally{h=null,d=te,p=!1}}var D=!1,S=null,T=-1,I=5,C=-1;function k(){return!(t.unstable_now()-C<I)}function N(){if(S!==null){var W=t.unstable_now();C=W;var J=!0;try{J=S(!0,W)}finally{J?O():(D=!1,S=null)}}else D=!1}var O;if(typeof v=="function")O=function(){v(N)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,Te=ue.port2;ue.port1.onmessage=N,O=function(){Te.postMessage(null)}}else O=function(){E(N,0)};function ne(W){S=W,D||(D=!0,O())}function ye(W,J){T=E(function(){W(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,ne(R))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(d){case 1:case 2:case 3:var J=3;break;default:J=d}var te=d;d=J;try{return W()}finally{d=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,J){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var te=d;d=W;try{return J()}finally{d=te}},t.unstable_scheduleCallback=function(W,J,te){var _e=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?_e+te:_e):te=_e,W){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=te+H,W={id:c++,callback:J,priorityLevel:W,startTime:te,expirationTime:H,sortIndex:-1},te>_e?(W.sortIndex=te,e(u,W),n(l)===null&&W===n(u)&&(w?(y(T),T=-1):w=!0,ye(x,te-_e))):(W.sortIndex=H,e(l,W),g||p||(g=!0,ne(R))),W},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(W){var J=d;return function(){var te=d;d=J;try{return W.apply(this,arguments)}finally{d=te}}}})(xP);IP.exports=xP;var AM=IP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PM=P,Ln=AM;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CP=new Set,Tu={};function As(t,e){xa(t,e),xa(t+"Capture",e)}function xa(t,e){for(Tu[t]=e,t=0;t<e.length;t++)CP.add(e[t])}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fg=Object.prototype.hasOwnProperty,IM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e1={},t1={};function xM(t){return Fg.call(t1,t)?!0:Fg.call(e1,t)?!1:IM.test(t)?t1[t]=!0:(e1[t]=!0,!1)}function CM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kM(t,e,n,r){if(e===null||typeof e>"u"||CM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jv=/[\-:]([a-z])/g;function Zv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jv,Zv);zt[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jv,Zv);zt[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jv,Zv);zt[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function e0(t,e,n,r){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kM(e,n,i,r)&&(n=null),r||i===null?xM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Si=PM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lf=Symbol.for("react.element"),ea=Symbol.for("react.portal"),ta=Symbol.for("react.fragment"),t0=Symbol.for("react.strict_mode"),Ug=Symbol.for("react.profiler"),kP=Symbol.for("react.provider"),OP=Symbol.for("react.context"),n0=Symbol.for("react.forward_ref"),Bg=Symbol.for("react.suspense"),zg=Symbol.for("react.suspense_list"),r0=Symbol.for("react.memo"),zi=Symbol.for("react.lazy"),RP=Symbol.for("react.offscreen"),n1=Symbol.iterator;function Ml(t){return t===null||typeof t!="object"?null:(t=n1&&t[n1]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,xm;function Xl(t){if(xm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xm=e&&e[1]||""}return`
`+xm+t}var Cm=!1;function km(t,e){if(!t||Cm)return"";Cm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Cm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xl(t):""}function OM(t){switch(t.tag){case 5:return Xl(t.type);case 16:return Xl("Lazy");case 13:return Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 2:case 15:return t=km(t.type,!1),t;case 11:return t=km(t.type.render,!1),t;case 1:return t=km(t.type,!0),t;default:return""}}function Wg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ta:return"Fragment";case ea:return"Portal";case Ug:return"Profiler";case t0:return"StrictMode";case Bg:return"Suspense";case zg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case OP:return(t.displayName||"Context")+".Consumer";case kP:return(t._context.displayName||"Context")+".Provider";case n0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case r0:return e=t.displayName||null,e!==null?e:Wg(t.type)||"Memo";case zi:e=t._payload,t=t._init;try{return Wg(t(e))}catch{}}return null}function RM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wg(e);case 8:return e===t0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function NP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NM(t){var e=NP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uf(t){t._valueTracker||(t._valueTracker=NM(t))}function DP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=NP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ph(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kg(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function r1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MP(t,e){e=e.checked,e!=null&&e0(t,"checked",e,!1)}function Hg(t,e){MP(t,e);var n=yo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qg(t,e.type,n):e.hasOwnProperty("defaultValue")&&qg(t,e.type,yo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function i1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qg(t,e,n){(e!=="number"||ph(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jl=Array.isArray;function ma(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Gg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function o1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Jl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yo(n)}}function LP(t,e){var n=yo(e.value),r=yo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function s1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cf,jP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cf=cf||document.createElement("div"),cf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Su(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var au={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DM=["Webkit","ms","Moz","O"];Object.keys(au).forEach(function(t){DM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),au[e]=au[t]})});function $P(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||au.hasOwnProperty(t)&&au[t]?(""+e).trim():e+"px"}function FP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$P(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var MM=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qg(t,e){if(e){if(MM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Xg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jg=null;function i0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zg=null,ga=null,ya=null;function a1(t){if(t=lc(t)){if(typeof Zg!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Wd(e),Zg(t.stateNode,t.type,e))}}function UP(t){ga?ya?ya.push(t):ya=[t]:ga=t}function BP(){if(ga){var t=ga,e=ya;if(ya=ga=null,a1(t),e)for(t=0;t<e.length;t++)a1(e[t])}}function zP(t,e){return t(e)}function WP(){}var Om=!1;function KP(t,e,n){if(Om)return t(e,n);Om=!0;try{return zP(t,e,n)}finally{Om=!1,(ga!==null||ya!==null)&&(WP(),BP())}}function Au(t,e){var n=t.stateNode;if(n===null)return null;var r=Wd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var ey=!1;if(ci)try{var Ll={};Object.defineProperty(Ll,"passive",{get:function(){ey=!0}}),window.addEventListener("test",Ll,Ll),window.removeEventListener("test",Ll,Ll)}catch{ey=!1}function LM(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var lu=!1,mh=null,gh=!1,ty=null,VM={onError:function(t){lu=!0,mh=t}};function jM(t,e,n,r,i,o,s,a,l){lu=!1,mh=null,LM.apply(VM,arguments)}function $M(t,e,n,r,i,o,s,a,l){if(jM.apply(this,arguments),lu){if(lu){var u=mh;lu=!1,mh=null}else throw Error(z(198));gh||(gh=!0,ty=u)}}function Ps(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function HP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function l1(t){if(Ps(t)!==t)throw Error(z(188))}function FM(t){var e=t.alternate;if(!e){if(e=Ps(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return l1(i),t;if(o===r)return l1(i),e;o=o.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function qP(t){return t=FM(t),t!==null?GP(t):null}function GP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=GP(t);if(e!==null)return e;t=t.sibling}return null}var YP=Ln.unstable_scheduleCallback,u1=Ln.unstable_cancelCallback,UM=Ln.unstable_shouldYield,BM=Ln.unstable_requestPaint,it=Ln.unstable_now,zM=Ln.unstable_getCurrentPriorityLevel,o0=Ln.unstable_ImmediatePriority,QP=Ln.unstable_UserBlockingPriority,yh=Ln.unstable_NormalPriority,WM=Ln.unstable_LowPriority,XP=Ln.unstable_IdlePriority,Fd=null,Rr=null;function KM(t){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(Fd,t,void 0,(t.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:GM,HM=Math.log,qM=Math.LN2;function GM(t){return t>>>=0,t===0?32:31-(HM(t)/qM|0)|0}var ff=64,hf=4194304;function Zl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Zl(a):(o&=s,o!==0&&(r=Zl(o)))}else s=n&~i,s!==0?r=Zl(s):o!==0&&(r=Zl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vr(e),i=1<<n,r|=t[n],e&=~i;return r}function YM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-vr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=YM(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function ny(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JP(){var t=ff;return ff<<=1,!(ff&4194240)&&(ff=64),t}function Rm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vr(e),t[e]=n}function XM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-vr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function s0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ce=0;function ZP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eI,a0,tI,nI,rI,ry=!1,df=[],no=null,ro=null,io=null,Pu=new Map,Iu=new Map,Hi=[],JM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c1(t,e){switch(t){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":Pu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(e.pointerId)}}function Vl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=lc(e),e!==null&&a0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ZM(t,e,n,r,i){switch(e){case"focusin":return no=Vl(no,t,e,n,r,i),!0;case"dragenter":return ro=Vl(ro,t,e,n,r,i),!0;case"mouseover":return io=Vl(io,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pu.set(o,Vl(Pu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Iu.set(o,Vl(Iu.get(o)||null,t,e,n,r,i)),!0}return!1}function iI(t){var e=qo(t.target);if(e!==null){var n=Ps(e);if(n!==null){if(e=n.tag,e===13){if(e=HP(n),e!==null){t.blockedOn=e,rI(t.priority,function(){tI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=iy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Jg=r,n.target.dispatchEvent(r),Jg=null}else return e=lc(n),e!==null&&a0(e),t.blockedOn=n,!1;e.shift()}return!0}function f1(t,e,n){qf(t)&&n.delete(e)}function eL(){ry=!1,no!==null&&qf(no)&&(no=null),ro!==null&&qf(ro)&&(ro=null),io!==null&&qf(io)&&(io=null),Pu.forEach(f1),Iu.forEach(f1)}function jl(t,e){t.blockedOn===e&&(t.blockedOn=null,ry||(ry=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,eL)))}function xu(t){function e(i){return jl(i,t)}if(0<df.length){jl(df[0],t);for(var n=1;n<df.length;n++){var r=df[n];r.blockedOn===t&&(r.blockedOn=null)}}for(no!==null&&jl(no,t),ro!==null&&jl(ro,t),io!==null&&jl(io,t),Pu.forEach(e),Iu.forEach(e),n=0;n<Hi.length;n++)r=Hi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hi.length&&(n=Hi[0],n.blockedOn===null);)iI(n),n.blockedOn===null&&Hi.shift()}var va=Si.ReactCurrentBatchConfig,_h=!0;function tL(t,e,n,r){var i=Ce,o=va.transition;va.transition=null;try{Ce=1,l0(t,e,n,r)}finally{Ce=i,va.transition=o}}function nL(t,e,n,r){var i=Ce,o=va.transition;va.transition=null;try{Ce=4,l0(t,e,n,r)}finally{Ce=i,va.transition=o}}function l0(t,e,n,r){if(_h){var i=iy(t,e,n,r);if(i===null)Bm(t,e,r,wh,n),c1(t,r);else if(ZM(i,t,e,n,r))r.stopPropagation();else if(c1(t,r),e&4&&-1<JM.indexOf(t)){for(;i!==null;){var o=lc(i);if(o!==null&&eI(o),o=iy(t,e,n,r),o===null&&Bm(t,e,r,wh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Bm(t,e,r,null,n)}}var wh=null;function iy(t,e,n,r){if(wh=null,t=i0(r),t=qo(t),t!==null)if(e=Ps(t),e===null)t=null;else if(n=e.tag,n===13){if(t=HP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wh=t,null}function oI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zM()){case o0:return 1;case QP:return 4;case yh:case WM:return 16;case XP:return 536870912;default:return 16}default:return 16}}var Zi=null,u0=null,Gf=null;function sI(){if(Gf)return Gf;var t,e=u0,n=e.length,r,i="value"in Zi?Zi.value:Zi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Gf=i.slice(t,1<r?1-r:void 0)}function Yf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pf(){return!0}function h1(){return!1}function Un(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?pf:h1,this.isPropagationStopped=h1,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pf)},persist:function(){},isPersistent:pf}),e}var el={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},c0=Un(el),ac=Qe({},el,{view:0,detail:0}),rL=Un(ac),Nm,Dm,$l,Ud=Qe({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$l&&($l&&t.type==="mousemove"?(Nm=t.screenX-$l.screenX,Dm=t.screenY-$l.screenY):Dm=Nm=0,$l=t),Nm)},movementY:function(t){return"movementY"in t?t.movementY:Dm}}),d1=Un(Ud),iL=Qe({},Ud,{dataTransfer:0}),oL=Un(iL),sL=Qe({},ac,{relatedTarget:0}),Mm=Un(sL),aL=Qe({},el,{animationName:0,elapsedTime:0,pseudoElement:0}),lL=Un(aL),uL=Qe({},el,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cL=Un(uL),fL=Qe({},el,{data:0}),p1=Un(fL),hL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pL[t])?!!e[t]:!1}function f0(){return mL}var gL=Qe({},ac,{key:function(t){if(t.key){var e=hL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f0,charCode:function(t){return t.type==="keypress"?Yf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yL=Un(gL),vL=Qe({},Ud,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m1=Un(vL),_L=Qe({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f0}),wL=Un(_L),EL=Qe({},el,{propertyName:0,elapsedTime:0,pseudoElement:0}),bL=Un(EL),TL=Qe({},Ud,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SL=Un(TL),AL=[9,13,27,32],h0=ci&&"CompositionEvent"in window,uu=null;ci&&"documentMode"in document&&(uu=document.documentMode);var PL=ci&&"TextEvent"in window&&!uu,aI=ci&&(!h0||uu&&8<uu&&11>=uu),g1=" ",y1=!1;function lI(t,e){switch(t){case"keyup":return AL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var na=!1;function IL(t,e){switch(t){case"compositionend":return uI(e);case"keypress":return e.which!==32?null:(y1=!0,g1);case"textInput":return t=e.data,t===g1&&y1?null:t;default:return null}}function xL(t,e){if(na)return t==="compositionend"||!h0&&lI(t,e)?(t=sI(),Gf=u0=Zi=null,na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aI&&e.locale!=="ko"?null:e.data;default:return null}}var CL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CL[t.type]:e==="textarea"}function cI(t,e,n,r){UP(r),e=Eh(e,"onChange"),0<e.length&&(n=new c0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cu=null,Cu=null;function kL(t){EI(t,0)}function Bd(t){var e=oa(t);if(DP(e))return t}function OL(t,e){if(t==="change")return e}var fI=!1;if(ci){var Lm;if(ci){var Vm="oninput"in document;if(!Vm){var _1=document.createElement("div");_1.setAttribute("oninput","return;"),Vm=typeof _1.oninput=="function"}Lm=Vm}else Lm=!1;fI=Lm&&(!document.documentMode||9<document.documentMode)}function w1(){cu&&(cu.detachEvent("onpropertychange",hI),Cu=cu=null)}function hI(t){if(t.propertyName==="value"&&Bd(Cu)){var e=[];cI(e,Cu,t,i0(t)),KP(kL,e)}}function RL(t,e,n){t==="focusin"?(w1(),cu=e,Cu=n,cu.attachEvent("onpropertychange",hI)):t==="focusout"&&w1()}function NL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bd(Cu)}function DL(t,e){if(t==="click")return Bd(e)}function ML(t,e){if(t==="input"||t==="change")return Bd(e)}function LL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wr=typeof Object.is=="function"?Object.is:LL;function ku(t,e){if(wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fg.call(e,i)||!wr(t[i],e[i]))return!1}return!0}function E1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function b1(t,e){var n=E1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=E1(n)}}function dI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pI(){for(var t=window,e=ph();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ph(t.document)}return e}function d0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VL(t){var e=pI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dI(n.ownerDocument.documentElement,n)){if(r!==null&&d0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=b1(n,o);var s=b1(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jL=ci&&"documentMode"in document&&11>=document.documentMode,ra=null,oy=null,fu=null,sy=!1;function T1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sy||ra==null||ra!==ph(r)||(r=ra,"selectionStart"in r&&d0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fu&&ku(fu,r)||(fu=r,r=Eh(oy,"onSelect"),0<r.length&&(e=new c0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ra)))}function mf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ia={animationend:mf("Animation","AnimationEnd"),animationiteration:mf("Animation","AnimationIteration"),animationstart:mf("Animation","AnimationStart"),transitionend:mf("Transition","TransitionEnd")},jm={},mI={};ci&&(mI=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function zd(t){if(jm[t])return jm[t];if(!ia[t])return t;var e=ia[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mI)return jm[t]=e[n];return t}var gI=zd("animationend"),yI=zd("animationiteration"),vI=zd("animationstart"),_I=zd("transitionend"),wI=new Map,S1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(t,e){wI.set(t,e),As(e,[t])}for(var $m=0;$m<S1.length;$m++){var Fm=S1[$m],$L=Fm.toLowerCase(),FL=Fm[0].toUpperCase()+Fm.slice(1);Po($L,"on"+FL)}Po(gI,"onAnimationEnd");Po(yI,"onAnimationIteration");Po(vI,"onAnimationStart");Po("dblclick","onDoubleClick");Po("focusin","onFocus");Po("focusout","onBlur");Po(_I,"onTransitionEnd");xa("onMouseEnter",["mouseout","mouseover"]);xa("onMouseLeave",["mouseout","mouseover"]);xa("onPointerEnter",["pointerout","pointerover"]);xa("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UL=new Set("cancel close invalid load scroll toggle".split(" ").concat(eu));function A1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$M(r,e,void 0,t),t.currentTarget=null}function EI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;A1(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;A1(i,a,u),o=l}}}if(gh)throw t=ty,gh=!1,ty=null,t}function Fe(t,e){var n=e[fy];n===void 0&&(n=e[fy]=new Set);var r=t+"__bubble";n.has(r)||(bI(e,t,2,!1),n.add(r))}function Um(t,e,n){var r=0;e&&(r|=4),bI(n,t,r,e)}var gf="_reactListening"+Math.random().toString(36).slice(2);function Ou(t){if(!t[gf]){t[gf]=!0,CP.forEach(function(n){n!=="selectionchange"&&(UL.has(n)||Um(n,!1,t),Um(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gf]||(e[gf]=!0,Um("selectionchange",!1,e))}}function bI(t,e,n,r){switch(oI(e)){case 1:var i=tL;break;case 4:i=nL;break;default:i=l0}n=i.bind(null,e,n,t),i=void 0,!ey||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Bm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=qo(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}KP(function(){var u=o,c=i0(n),h=[];e:{var d=wI.get(t);if(d!==void 0){var p=c0,g=t;switch(t){case"keypress":if(Yf(n)===0)break e;case"keydown":case"keyup":p=yL;break;case"focusin":g="focus",p=Mm;break;case"focusout":g="blur",p=Mm;break;case"beforeblur":case"afterblur":p=Mm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=d1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=oL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=wL;break;case gI:case yI:case vI:p=lL;break;case _I:p=bL;break;case"scroll":p=rL;break;case"wheel":p=SL;break;case"copy":case"cut":case"paste":p=cL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=m1}var w=(e&4)!==0,E=!w&&t==="scroll",y=w?d!==null?d+"Capture":null:d;w=[];for(var v=u,b;v!==null;){b=v;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,y!==null&&(x=Au(v,y),x!=null&&w.push(Ru(v,x,b)))),E)break;v=v.return}0<w.length&&(d=new p(d,g,null,n,c),h.push({event:d,listeners:w}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Jg&&(g=n.relatedTarget||n.fromElement)&&(qo(g)||g[fi]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?qo(g):null,g!==null&&(E=Ps(g),g!==E||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(w=d1,x="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=m1,x="onPointerLeave",y="onPointerEnter",v="pointer"),E=p==null?d:oa(p),b=g==null?d:oa(g),d=new w(x,v+"leave",p,n,c),d.target=E,d.relatedTarget=b,x=null,qo(c)===u&&(w=new w(y,v+"enter",g,n,c),w.target=b,w.relatedTarget=E,x=w),E=x,p&&g)t:{for(w=p,y=g,v=0,b=w;b;b=Hs(b))v++;for(b=0,x=y;x;x=Hs(x))b++;for(;0<v-b;)w=Hs(w),v--;for(;0<b-v;)y=Hs(y),b--;for(;v--;){if(w===y||y!==null&&w===y.alternate)break t;w=Hs(w),y=Hs(y)}w=null}else w=null;p!==null&&P1(h,d,p,w,!1),g!==null&&E!==null&&P1(h,E,g,w,!0)}}e:{if(d=u?oa(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var R=OL;else if(v1(d))if(fI)R=ML;else{R=NL;var D=RL}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(R=DL);if(R&&(R=R(t,u))){cI(h,R,n,c);break e}D&&D(t,d,u),t==="focusout"&&(D=d._wrapperState)&&D.controlled&&d.type==="number"&&qg(d,"number",d.value)}switch(D=u?oa(u):window,t){case"focusin":(v1(D)||D.contentEditable==="true")&&(ra=D,oy=u,fu=null);break;case"focusout":fu=oy=ra=null;break;case"mousedown":sy=!0;break;case"contextmenu":case"mouseup":case"dragend":sy=!1,T1(h,n,c);break;case"selectionchange":if(jL)break;case"keydown":case"keyup":T1(h,n,c)}var S;if(h0)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else na?lI(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(aI&&n.locale!=="ko"&&(na||T!=="onCompositionStart"?T==="onCompositionEnd"&&na&&(S=sI()):(Zi=c,u0="value"in Zi?Zi.value:Zi.textContent,na=!0)),D=Eh(u,T),0<D.length&&(T=new p1(T,t,null,n,c),h.push({event:T,listeners:D}),S?T.data=S:(S=uI(n),S!==null&&(T.data=S)))),(S=PL?IL(t,n):xL(t,n))&&(u=Eh(u,"onBeforeInput"),0<u.length&&(c=new p1("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=S))}EI(h,e)})}function Ru(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Eh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Au(t,n),o!=null&&r.unshift(Ru(t,o,i)),o=Au(t,e),o!=null&&r.push(Ru(t,o,i))),t=t.return}return r}function Hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function P1(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Au(n,o),l!=null&&s.unshift(Ru(n,l,a))):i||(l=Au(n,o),l!=null&&s.push(Ru(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var BL=/\r\n?/g,zL=/\u0000|\uFFFD/g;function I1(t){return(typeof t=="string"?t:""+t).replace(BL,`
`).replace(zL,"")}function yf(t,e,n){if(e=I1(e),I1(t)!==e&&n)throw Error(z(425))}function bh(){}var ay=null,ly=null;function uy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cy=typeof setTimeout=="function"?setTimeout:void 0,WL=typeof clearTimeout=="function"?clearTimeout:void 0,x1=typeof Promise=="function"?Promise:void 0,KL=typeof queueMicrotask=="function"?queueMicrotask:typeof x1<"u"?function(t){return x1.resolve(null).then(t).catch(HL)}:cy;function HL(t){setTimeout(function(){throw t})}function zm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xu(e)}function oo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function C1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tl=Math.random().toString(36).slice(2),kr="__reactFiber$"+tl,Nu="__reactProps$"+tl,fi="__reactContainer$"+tl,fy="__reactEvents$"+tl,qL="__reactListeners$"+tl,GL="__reactHandles$"+tl;function qo(t){var e=t[kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fi]||n[kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=C1(t);t!==null;){if(n=t[kr])return n;t=C1(t)}return e}t=n,n=t.parentNode}return null}function lc(t){return t=t[kr]||t[fi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function oa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Wd(t){return t[Nu]||null}var hy=[],sa=-1;function Io(t){return{current:t}}function We(t){0>sa||(t.current=hy[sa],hy[sa]=null,sa--)}function Ve(t,e){sa++,hy[sa]=t.current,t.current=e}var vo={},tn=Io(vo),vn=Io(!1),cs=vo;function Ca(t,e){var n=t.type.contextTypes;if(!n)return vo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _n(t){return t=t.childContextTypes,t!=null}function Th(){We(vn),We(tn)}function k1(t,e,n){if(tn.current!==vo)throw Error(z(168));Ve(tn,e),Ve(vn,n)}function TI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,RM(t)||"Unknown",i));return Qe({},n,r)}function Sh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vo,cs=tn.current,Ve(tn,t),Ve(vn,vn.current),!0}function O1(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=TI(t,e,cs),r.__reactInternalMemoizedMergedChildContext=t,We(vn),We(tn),Ve(tn,t)):We(vn),Ve(vn,n)}var Xr=null,Kd=!1,Wm=!1;function SI(t){Xr===null?Xr=[t]:Xr.push(t)}function YL(t){Kd=!0,SI(t)}function xo(){if(!Wm&&Xr!==null){Wm=!0;var t=0,e=Ce;try{var n=Xr;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xr=null,Kd=!1}catch(i){throw Xr!==null&&(Xr=Xr.slice(t+1)),YP(o0,xo),i}finally{Ce=e,Wm=!1}}return null}var aa=[],la=0,Ah=null,Ph=0,Gn=[],Yn=0,fs=null,ei=1,ti="";function Fo(t,e){aa[la++]=Ph,aa[la++]=Ah,Ah=t,Ph=e}function AI(t,e,n){Gn[Yn++]=ei,Gn[Yn++]=ti,Gn[Yn++]=fs,fs=t;var r=ei;t=ti;var i=32-vr(r)-1;r&=~(1<<i),n+=1;var o=32-vr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ei=1<<32-vr(e)+i|n<<i|r,ti=o+t}else ei=1<<o|n<<i|r,ti=t}function p0(t){t.return!==null&&(Fo(t,1),AI(t,1,0))}function m0(t){for(;t===Ah;)Ah=aa[--la],aa[la]=null,Ph=aa[--la],aa[la]=null;for(;t===fs;)fs=Gn[--Yn],Gn[Yn]=null,ti=Gn[--Yn],Gn[Yn]=null,ei=Gn[--Yn],Gn[Yn]=null}var Dn=null,On=null,He=!1,pr=null;function PI(t,e){var n=Zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function R1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dn=t,On=oo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dn=t,On=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fs!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dn=t,On=null,!0):!1;default:return!1}}function dy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function py(t){if(He){var e=On;if(e){var n=e;if(!R1(t,e)){if(dy(t))throw Error(z(418));e=oo(n.nextSibling);var r=Dn;e&&R1(t,e)?PI(r,n):(t.flags=t.flags&-4097|2,He=!1,Dn=t)}}else{if(dy(t))throw Error(z(418));t.flags=t.flags&-4097|2,He=!1,Dn=t}}}function N1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dn=t}function vf(t){if(t!==Dn)return!1;if(!He)return N1(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uy(t.type,t.memoizedProps)),e&&(e=On)){if(dy(t))throw II(),Error(z(418));for(;e;)PI(t,e),e=oo(e.nextSibling)}if(N1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){On=oo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}On=null}}else On=Dn?oo(t.stateNode.nextSibling):null;return!0}function II(){for(var t=On;t;)t=oo(t.nextSibling)}function ka(){On=Dn=null,He=!1}function g0(t){pr===null?pr=[t]:pr.push(t)}var QL=Si.ReactCurrentBatchConfig;function Fl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function _f(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function D1(t){var e=t._init;return e(t._payload)}function xI(t){function e(y,v){if(t){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=uo(y,v),y.index=0,y.sibling=null,y}function o(y,v,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,v,b,x){return v===null||v.tag!==6?(v=Xm(b,y.mode,x),v.return=y,v):(v=i(v,b),v.return=y,v)}function l(y,v,b,x){var R=b.type;return R===ta?c(y,v,b.props.children,x,b.key):v!==null&&(v.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===zi&&D1(R)===v.type)?(x=i(v,b.props),x.ref=Fl(y,v,b),x.return=y,x):(x=nh(b.type,b.key,b.props,null,y.mode,x),x.ref=Fl(y,v,b),x.return=y,x)}function u(y,v,b,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Jm(b,y.mode,x),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function c(y,v,b,x,R){return v===null||v.tag!==7?(v=ns(b,y.mode,x,R),v.return=y,v):(v=i(v,b),v.return=y,v)}function h(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Xm(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case lf:return b=nh(v.type,v.key,v.props,null,y.mode,b),b.ref=Fl(y,null,v),b.return=y,b;case ea:return v=Jm(v,y.mode,b),v.return=y,v;case zi:var x=v._init;return h(y,x(v._payload),b)}if(Jl(v)||Ml(v))return v=ns(v,y.mode,b,null),v.return=y,v;_f(y,v)}return null}function d(y,v,b,x){var R=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return R!==null?null:a(y,v,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case lf:return b.key===R?l(y,v,b,x):null;case ea:return b.key===R?u(y,v,b,x):null;case zi:return R=b._init,d(y,v,R(b._payload),x)}if(Jl(b)||Ml(b))return R!==null?null:c(y,v,b,x,null);_f(y,b)}return null}function p(y,v,b,x,R){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(b)||null,a(v,y,""+x,R);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case lf:return y=y.get(x.key===null?b:x.key)||null,l(v,y,x,R);case ea:return y=y.get(x.key===null?b:x.key)||null,u(v,y,x,R);case zi:var D=x._init;return p(y,v,b,D(x._payload),R)}if(Jl(x)||Ml(x))return y=y.get(b)||null,c(v,y,x,R,null);_f(v,x)}return null}function g(y,v,b,x){for(var R=null,D=null,S=v,T=v=0,I=null;S!==null&&T<b.length;T++){S.index>T?(I=S,S=null):I=S.sibling;var C=d(y,S,b[T],x);if(C===null){S===null&&(S=I);break}t&&S&&C.alternate===null&&e(y,S),v=o(C,v,T),D===null?R=C:D.sibling=C,D=C,S=I}if(T===b.length)return n(y,S),He&&Fo(y,T),R;if(S===null){for(;T<b.length;T++)S=h(y,b[T],x),S!==null&&(v=o(S,v,T),D===null?R=S:D.sibling=S,D=S);return He&&Fo(y,T),R}for(S=r(y,S);T<b.length;T++)I=p(S,y,T,b[T],x),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?T:I.key),v=o(I,v,T),D===null?R=I:D.sibling=I,D=I);return t&&S.forEach(function(k){return e(y,k)}),He&&Fo(y,T),R}function w(y,v,b,x){var R=Ml(b);if(typeof R!="function")throw Error(z(150));if(b=R.call(b),b==null)throw Error(z(151));for(var D=R=null,S=v,T=v=0,I=null,C=b.next();S!==null&&!C.done;T++,C=b.next()){S.index>T?(I=S,S=null):I=S.sibling;var k=d(y,S,C.value,x);if(k===null){S===null&&(S=I);break}t&&S&&k.alternate===null&&e(y,S),v=o(k,v,T),D===null?R=k:D.sibling=k,D=k,S=I}if(C.done)return n(y,S),He&&Fo(y,T),R;if(S===null){for(;!C.done;T++,C=b.next())C=h(y,C.value,x),C!==null&&(v=o(C,v,T),D===null?R=C:D.sibling=C,D=C);return He&&Fo(y,T),R}for(S=r(y,S);!C.done;T++,C=b.next())C=p(S,y,T,C.value,x),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?T:C.key),v=o(C,v,T),D===null?R=C:D.sibling=C,D=C);return t&&S.forEach(function(N){return e(y,N)}),He&&Fo(y,T),R}function E(y,v,b,x){if(typeof b=="object"&&b!==null&&b.type===ta&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case lf:e:{for(var R=b.key,D=v;D!==null;){if(D.key===R){if(R=b.type,R===ta){if(D.tag===7){n(y,D.sibling),v=i(D,b.props.children),v.return=y,y=v;break e}}else if(D.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===zi&&D1(R)===D.type){n(y,D.sibling),v=i(D,b.props),v.ref=Fl(y,D,b),v.return=y,y=v;break e}n(y,D);break}else e(y,D);D=D.sibling}b.type===ta?(v=ns(b.props.children,y.mode,x,b.key),v.return=y,y=v):(x=nh(b.type,b.key,b.props,null,y.mode,x),x.ref=Fl(y,v,b),x.return=y,y=x)}return s(y);case ea:e:{for(D=b.key;v!==null;){if(v.key===D)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),v=i(v,b.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=Jm(b,y.mode,x),v.return=y,y=v}return s(y);case zi:return D=b._init,E(y,v,D(b._payload),x)}if(Jl(b))return g(y,v,b,x);if(Ml(b))return w(y,v,b,x);_f(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,b),v.return=y,y=v):(n(y,v),v=Xm(b,y.mode,x),v.return=y,y=v),s(y)):n(y,v)}return E}var Oa=xI(!0),CI=xI(!1),Ih=Io(null),xh=null,ua=null,y0=null;function v0(){y0=ua=xh=null}function _0(t){var e=Ih.current;We(Ih),t._currentValue=e}function my(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _a(t,e){xh=t,y0=ua=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gn=!0),t.firstContext=null)}function rr(t){var e=t._currentValue;if(y0!==t)if(t={context:t,memoizedValue:e,next:null},ua===null){if(xh===null)throw Error(z(308));ua=t,xh.dependencies={lanes:0,firstContext:t}}else ua=ua.next=t;return e}var Go=null;function w0(t){Go===null?Go=[t]:Go.push(t)}function kI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,w0(e)):(n.next=i.next,i.next=n),e.interleaved=n,hi(t,r)}function hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wi=!1;function E0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function si(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function so(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hi(t,n)}return i=r.interleaved,i===null?(e.next=e,w0(r)):(e.next=i.next,i.next=e),r.interleaved=e,hi(t,n)}function Qf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,s0(t,n)}}function M1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ch(t,e,n,r){var i=t.updateQueue;Wi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,w=a;switch(d=e,p=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){h=g.call(p,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,d=typeof g=="function"?g.call(p,h,d):g,d==null)break e;h=Qe({},h,d);break e;case 2:Wi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ds|=s,t.lanes=s,t.memoizedState=h}}function L1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var uc={},Nr=Io(uc),Du=Io(uc),Mu=Io(uc);function Yo(t){if(t===uc)throw Error(z(174));return t}function b0(t,e){switch(Ve(Mu,e),Ve(Du,t),Ve(Nr,uc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yg(e,t)}We(Nr),Ve(Nr,e)}function Ra(){We(Nr),We(Du),We(Mu)}function RI(t){Yo(Mu.current);var e=Yo(Nr.current),n=Yg(e,t.type);e!==n&&(Ve(Du,t),Ve(Nr,n))}function T0(t){Du.current===t&&(We(Nr),We(Du))}var Ge=Io(0);function kh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Km=[];function S0(){for(var t=0;t<Km.length;t++)Km[t]._workInProgressVersionPrimary=null;Km.length=0}var Xf=Si.ReactCurrentDispatcher,Hm=Si.ReactCurrentBatchConfig,hs=0,Ye=null,yt=null,It=null,Oh=!1,hu=!1,Lu=0,XL=0;function qt(){throw Error(z(321))}function A0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wr(t[n],e[n]))return!1;return!0}function P0(t,e,n,r,i,o){if(hs=o,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xf.current=t===null||t.memoizedState===null?tV:nV,t=n(r,i),hu){o=0;do{if(hu=!1,Lu=0,25<=o)throw Error(z(301));o+=1,It=yt=null,e.updateQueue=null,Xf.current=rV,t=n(r,i)}while(hu)}if(Xf.current=Rh,e=yt!==null&&yt.next!==null,hs=0,It=yt=Ye=null,Oh=!1,e)throw Error(z(300));return t}function I0(){var t=Lu!==0;return Lu=0,t}function xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ye.memoizedState=It=t:It=It.next=t,It}function ir(){if(yt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=It===null?Ye.memoizedState:It.next;if(e!==null)It=e,yt=t;else{if(t===null)throw Error(z(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},It===null?Ye.memoizedState=It=t:It=It.next=t}return It}function Vu(t,e){return typeof e=="function"?e(t):e}function qm(t){var e=ir(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=yt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((hs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,Ye.lanes|=c,ds|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,wr(r,e.memoizedState)||(gn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ye.lanes|=o,ds|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gm(t){var e=ir(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);wr(o,e.memoizedState)||(gn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function NI(){}function DI(t,e){var n=Ye,r=ir(),i=e(),o=!wr(r.memoizedState,i);if(o&&(r.memoizedState=i,gn=!0),r=r.queue,x0(VI.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,ju(9,LI.bind(null,n,r,i,e),void 0,null),Ct===null)throw Error(z(349));hs&30||MI(n,e,i)}return i}function MI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LI(t,e,n,r){e.value=n,e.getSnapshot=r,jI(e)&&$I(t)}function VI(t,e,n){return n(function(){jI(e)&&$I(t)})}function jI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wr(t,n)}catch{return!0}}function $I(t){var e=hi(t,1);e!==null&&_r(e,t,1,-1)}function V1(t){var e=xr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:t},e.queue=t,t=t.dispatch=eV.bind(null,Ye,t),[e.memoizedState,t]}function ju(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function FI(){return ir().memoizedState}function Jf(t,e,n,r){var i=xr();Ye.flags|=t,i.memoizedState=ju(1|e,n,void 0,r===void 0?null:r)}function Hd(t,e,n,r){var i=ir();r=r===void 0?null:r;var o=void 0;if(yt!==null){var s=yt.memoizedState;if(o=s.destroy,r!==null&&A0(r,s.deps)){i.memoizedState=ju(e,n,o,r);return}}Ye.flags|=t,i.memoizedState=ju(1|e,n,o,r)}function j1(t,e){return Jf(8390656,8,t,e)}function x0(t,e){return Hd(2048,8,t,e)}function UI(t,e){return Hd(4,2,t,e)}function BI(t,e){return Hd(4,4,t,e)}function zI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WI(t,e,n){return n=n!=null?n.concat([t]):null,Hd(4,4,zI.bind(null,e,t),n)}function C0(){}function KI(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&A0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HI(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&A0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qI(t,e,n){return hs&21?(wr(n,e)||(n=JP(),Ye.lanes|=n,ds|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=n)}function JL(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=Hm.transition;Hm.transition={};try{t(!1),e()}finally{Ce=n,Hm.transition=r}}function GI(){return ir().memoizedState}function ZL(t,e,n){var r=lo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YI(t))QI(e,n);else if(n=kI(t,e,n,r),n!==null){var i=an();_r(n,t,r,i),XI(n,e,r)}}function eV(t,e,n){var r=lo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YI(t))QI(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,wr(a,s)){var l=e.interleaved;l===null?(i.next=i,w0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=kI(t,e,i,r),n!==null&&(i=an(),_r(n,t,r,i),XI(n,e,r))}}function YI(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function QI(t,e){hu=Oh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,s0(t,n)}}var Rh={readContext:rr,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},tV={readContext:rr,useCallback:function(t,e){return xr().memoizedState=[t,e===void 0?null:e],t},useContext:rr,useEffect:j1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jf(4194308,4,zI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jf(4,2,t,e)},useMemo:function(t,e){var n=xr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZL.bind(null,Ye,t),[r.memoizedState,t]},useRef:function(t){var e=xr();return t={current:t},e.memoizedState=t},useState:V1,useDebugValue:C0,useDeferredValue:function(t){return xr().memoizedState=t},useTransition:function(){var t=V1(!1),e=t[0];return t=JL.bind(null,t[1]),xr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ye,i=xr();if(He){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Ct===null)throw Error(z(349));hs&30||MI(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,j1(VI.bind(null,r,o,t),[t]),r.flags|=2048,ju(9,LI.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=xr(),e=Ct.identifierPrefix;if(He){var n=ti,r=ei;n=(r&~(1<<32-vr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nV={readContext:rr,useCallback:KI,useContext:rr,useEffect:x0,useImperativeHandle:WI,useInsertionEffect:UI,useLayoutEffect:BI,useMemo:HI,useReducer:qm,useRef:FI,useState:function(){return qm(Vu)},useDebugValue:C0,useDeferredValue:function(t){var e=ir();return qI(e,yt.memoizedState,t)},useTransition:function(){var t=qm(Vu)[0],e=ir().memoizedState;return[t,e]},useMutableSource:NI,useSyncExternalStore:DI,useId:GI,unstable_isNewReconciler:!1},rV={readContext:rr,useCallback:KI,useContext:rr,useEffect:x0,useImperativeHandle:WI,useInsertionEffect:UI,useLayoutEffect:BI,useMemo:HI,useReducer:Gm,useRef:FI,useState:function(){return Gm(Vu)},useDebugValue:C0,useDeferredValue:function(t){var e=ir();return yt===null?e.memoizedState=t:qI(e,yt.memoizedState,t)},useTransition:function(){var t=Gm(Vu)[0],e=ir().memoizedState;return[t,e]},useMutableSource:NI,useSyncExternalStore:DI,useId:GI,unstable_isNewReconciler:!1};function hr(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function gy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qd={isMounted:function(t){return(t=t._reactInternals)?Ps(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),i=lo(t),o=si(r,i);o.payload=e,n!=null&&(o.callback=n),e=so(t,o,i),e!==null&&(_r(e,t,i,r),Qf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),i=lo(t),o=si(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=so(t,o,i),e!==null&&(_r(e,t,i,r),Qf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=lo(t),i=si(n,r);i.tag=2,e!=null&&(i.callback=e),e=so(t,i,r),e!==null&&(_r(e,t,r,n),Qf(e,t,r))}};function $1(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ku(n,r)||!ku(i,o):!0}function JI(t,e,n){var r=!1,i=vo,o=e.contextType;return typeof o=="object"&&o!==null?o=rr(o):(i=_n(e)?cs:tn.current,r=e.contextTypes,o=(r=r!=null)?Ca(t,i):vo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function F1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qd.enqueueReplaceState(e,e.state,null)}function yy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},E0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=rr(o):(o=_n(e)?cs:tn.current,i.context=Ca(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(gy(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&qd.enqueueReplaceState(i,i.state,null),Ch(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Na(t,e){try{var n="",r=e;do n+=OM(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ym(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iV=typeof WeakMap=="function"?WeakMap:Map;function ZI(t,e,n){n=si(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Dh||(Dh=!0,xy=r),vy(t,e)},n}function ex(t,e,n){n=si(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){vy(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){vy(t,e),typeof r!="function"&&(ao===null?ao=new Set([this]):ao.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function U1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=vV.bind(null,t,e,n),e.then(t,t))}function B1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function z1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=si(-1,1),e.tag=2,so(n,e,1))),n.lanes|=1),t)}var oV=Si.ReactCurrentOwner,gn=!1;function on(t,e,n,r){e.child=t===null?CI(e,null,n,r):Oa(e,t.child,n,r)}function W1(t,e,n,r,i){n=n.render;var o=e.ref;return _a(e,i),r=P0(t,e,n,r,o,i),n=I0(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,di(t,e,i)):(He&&n&&p0(e),e.flags|=1,on(t,e,r,i),e.child)}function K1(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!V0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,tx(t,e,o,r,i)):(t=nh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ku,n(s,r)&&t.ref===e.ref)return di(t,e,i)}return e.flags|=1,t=uo(o,r),t.ref=e.ref,t.return=e,e.child=t}function tx(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ku(o,r)&&t.ref===e.ref)if(gn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,di(t,e,i)}return _y(t,e,n,r,i)}function nx(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(fa,In),In|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(fa,In),In|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ve(fa,In),In|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ve(fa,In),In|=r;return on(t,e,i,n),e.child}function rx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _y(t,e,n,r,i){var o=_n(n)?cs:tn.current;return o=Ca(e,o),_a(e,i),n=P0(t,e,n,r,o,i),r=I0(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,di(t,e,i)):(He&&r&&p0(e),e.flags|=1,on(t,e,n,i),e.child)}function H1(t,e,n,r,i){if(_n(n)){var o=!0;Sh(e)}else o=!1;if(_a(e,i),e.stateNode===null)Zf(t,e),JI(e,n,r),yy(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=rr(u):(u=_n(n)?cs:tn.current,u=Ca(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&F1(e,s,r,u),Wi=!1;var d=e.memoizedState;s.state=d,Ch(e,r,s,i),l=e.memoizedState,a!==r||d!==l||vn.current||Wi?(typeof c=="function"&&(gy(e,n,c,r),l=e.memoizedState),(a=Wi||$1(e,n,a,r,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,OI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:hr(e.type,a),s.props=u,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=rr(l):(l=_n(n)?cs:tn.current,l=Ca(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&F1(e,s,r,l),Wi=!1,d=e.memoizedState,s.state=d,Ch(e,r,s,i);var g=e.memoizedState;a!==h||d!==g||vn.current||Wi?(typeof p=="function"&&(gy(e,n,p,r),g=e.memoizedState),(u=Wi||$1(e,n,u,r,d,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return wy(t,e,n,r,o,i)}function wy(t,e,n,r,i,o){rx(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&O1(e,n,!1),di(t,e,o);r=e.stateNode,oV.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Oa(e,t.child,null,o),e.child=Oa(e,null,a,o)):on(t,e,a,o),e.memoizedState=r.state,i&&O1(e,n,!0),e.child}function ix(t){var e=t.stateNode;e.pendingContext?k1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&k1(t,e.context,!1),b0(t,e.containerInfo)}function q1(t,e,n,r,i){return ka(),g0(i),e.flags|=256,on(t,e,n,r),e.child}var Ey={dehydrated:null,treeContext:null,retryLane:0};function by(t){return{baseLanes:t,cachePool:null,transitions:null}}function ox(t,e,n){var r=e.pendingProps,i=Ge.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ve(Ge,i&1),t===null)return py(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Qd(s,r,0,null),t=ns(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=by(n),e.memoizedState=Ey,t):k0(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sV(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=uo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=uo(a,o):(o=ns(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?by(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Ey,r}return o=t.child,t=o.sibling,r=uo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function k0(t,e){return e=Qd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wf(t,e,n,r){return r!==null&&g0(r),Oa(e,t.child,null,n),t=k0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sV(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ym(Error(z(422))),wf(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Qd({mode:"visible",children:r.children},i,0,null),o=ns(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Oa(e,t.child,null,s),e.child.memoizedState=by(s),e.memoizedState=Ey,o);if(!(e.mode&1))return wf(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(z(419)),r=Ym(o,r,void 0),wf(t,e,s,r)}if(a=(s&t.childLanes)!==0,gn||a){if(r=Ct,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,hi(t,i),_r(r,t,i,-1))}return L0(),r=Ym(Error(z(421))),wf(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_V.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,On=oo(i.nextSibling),Dn=e,He=!0,pr=null,t!==null&&(Gn[Yn++]=ei,Gn[Yn++]=ti,Gn[Yn++]=fs,ei=t.id,ti=t.overflow,fs=e),e=k0(e,r.children),e.flags|=4096,e)}function G1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),my(t.return,e,n)}function Qm(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function sx(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(on(t,e,r.children,n),r=Ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&G1(t,n,e);else if(t.tag===19)G1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(Ge,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&kh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qm(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&kh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qm(e,!0,n,null,o);break;case"together":Qm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function di(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ds|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=uo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=uo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aV(t,e,n){switch(e.tag){case 3:ix(e),ka();break;case 5:RI(e);break;case 1:_n(e.type)&&Sh(e);break;case 4:b0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ve(Ih,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?ox(t,e,n):(Ve(Ge,Ge.current&1),t=di(t,e,n),t!==null?t.sibling:null);Ve(Ge,Ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(Ge,Ge.current),r)break;return null;case 22:case 23:return e.lanes=0,nx(t,e,n)}return di(t,e,n)}var ax,Ty,lx,ux;ax=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ty=function(){};lx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Yo(Nr.current);var o=null;switch(n){case"input":i=Kg(t,i),r=Kg(t,r),o=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),o=[];break;case"textarea":i=Gg(t,i),r=Gg(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bh)}Qg(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};ux=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ul(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lV(t,e,n){var r=e.pendingProps;switch(m0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return _n(e.type)&&Th(),Gt(e),null;case 3:return r=e.stateNode,Ra(),We(vn),We(tn),S0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pr!==null&&(Oy(pr),pr=null))),Ty(t,e),Gt(e),null;case 5:T0(e);var i=Yo(Mu.current);if(n=e.type,t!==null&&e.stateNode!=null)lx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Gt(e),null}if(t=Yo(Nr.current),vf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[kr]=e,r[Nu]=o,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<eu.length;i++)Fe(eu[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":r1(r,o),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fe("invalid",r);break;case"textarea":o1(r,o),Fe("invalid",r)}Qg(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&yf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&yf(r.textContent,a,t),i=["children",""+a]):Tu.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Fe("scroll",r)}switch(n){case"input":uf(r),i1(r,o,!0);break;case"textarea":uf(r),s1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=bh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[kr]=e,t[Nu]=r,ax(t,e,!1,!1),e.stateNode=t;e:{switch(s=Xg(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<eu.length;i++)Fe(eu[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":r1(t,r),i=Kg(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":o1(t,r),i=Gg(t,r),Fe("invalid",t);break;default:i=r}Qg(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?FP(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jP(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Su(t,l):typeof l=="number"&&Su(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Tu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Fe("scroll",t):l!=null&&e0(t,o,l,s))}switch(n){case"input":uf(t),i1(t,r,!1);break;case"textarea":uf(t),s1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ma(t,!!r.multiple,o,!1):r.defaultValue!=null&&ma(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)ux(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Yo(Mu.current),Yo(Nr.current),vf(e)){if(r=e.stateNode,n=e.memoizedProps,r[kr]=e,(o=r.nodeValue!==n)&&(t=Dn,t!==null))switch(t.tag){case 3:yf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yf(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kr]=e,e.stateNode=r}return Gt(e),null;case 13:if(We(Ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&On!==null&&e.mode&1&&!(e.flags&128))II(),ka(),e.flags|=98560,o=!1;else if(o=vf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[kr]=e}else ka(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),o=!1}else pr!==null&&(Oy(pr),pr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?vt===0&&(vt=3):L0())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return Ra(),Ty(t,e),t===null&&Ou(e.stateNode.containerInfo),Gt(e),null;case 10:return _0(e.type._context),Gt(e),null;case 17:return _n(e.type)&&Th(),Gt(e),null;case 19:if(We(Ge),o=e.memoizedState,o===null)return Gt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ul(o,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=kh(t),s!==null){for(e.flags|=128,Ul(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(Ge,Ge.current&1|2),e.child}t=t.sibling}o.tail!==null&&it()>Da&&(e.flags|=128,r=!0,Ul(o,!1),e.lanes=4194304)}else{if(!r)if(t=kh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ul(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!He)return Gt(e),null}else 2*it()-o.renderingStartTime>Da&&n!==1073741824&&(e.flags|=128,r=!0,Ul(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=it(),e.sibling=null,n=Ge.current,Ve(Ge,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return M0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?In&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function uV(t,e){switch(m0(e),e.tag){case 1:return _n(e.type)&&Th(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ra(),We(vn),We(tn),S0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return T0(e),null;case 13:if(We(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ka()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ge),null;case 4:return Ra(),null;case 10:return _0(e.type._context),null;case 22:case 23:return M0(),null;case 24:return null;default:return null}}var Ef=!1,Jt=!1,cV=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ca(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function Sy(t,e,n){try{n()}catch(r){tt(t,e,r)}}var Y1=!1;function fV(t,e){if(ay=_h,t=pI(),d0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ly={focusedElem:t,selectionRange:n},_h=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,E=g.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:hr(e.type,w),E);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(x){tt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return g=Y1,Y1=!1,g}function du(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Sy(e,n,o)}i=i.next}while(i!==r)}}function Gd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ay(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cx(t){var e=t.alternate;e!==null&&(t.alternate=null,cx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kr],delete e[Nu],delete e[fy],delete e[qL],delete e[GL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fx(t){return t.tag===5||t.tag===3||t.tag===4}function Q1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Py(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bh));else if(r!==4&&(t=t.child,t!==null))for(Py(t,e,n),t=t.sibling;t!==null;)Py(t,e,n),t=t.sibling}function Iy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Iy(t,e,n),t=t.sibling;t!==null;)Iy(t,e,n),t=t.sibling}var Vt=null,dr=!1;function ji(t,e,n){for(n=n.child;n!==null;)hx(t,e,n),n=n.sibling}function hx(t,e,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(Fd,n)}catch{}switch(n.tag){case 5:Jt||ca(n,e);case 6:var r=Vt,i=dr;Vt=null,ji(t,e,n),Vt=r,dr=i,Vt!==null&&(dr?(t=Vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(dr?(t=Vt,n=n.stateNode,t.nodeType===8?zm(t.parentNode,n):t.nodeType===1&&zm(t,n),xu(t)):zm(Vt,n.stateNode));break;case 4:r=Vt,i=dr,Vt=n.stateNode.containerInfo,dr=!0,ji(t,e,n),Vt=r,dr=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Sy(n,e,s),i=i.next}while(i!==r)}ji(t,e,n);break;case 1:if(!Jt&&(ca(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,e,a)}ji(t,e,n);break;case 21:ji(t,e,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,ji(t,e,n),Jt=r):ji(t,e,n);break;default:ji(t,e,n)}}function X1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cV),e.forEach(function(r){var i=wV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Vt=a.stateNode,dr=!1;break e;case 3:Vt=a.stateNode.containerInfo,dr=!0;break e;case 4:Vt=a.stateNode.containerInfo,dr=!0;break e}a=a.return}if(Vt===null)throw Error(z(160));hx(o,s,i),Vt=null,dr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){tt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dx(e,t),e=e.sibling}function dx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fr(e,t),Ir(t),r&4){try{du(3,t,t.return),Gd(3,t)}catch(w){tt(t,t.return,w)}try{du(5,t,t.return)}catch(w){tt(t,t.return,w)}}break;case 1:fr(e,t),Ir(t),r&512&&n!==null&&ca(n,n.return);break;case 5:if(fr(e,t),Ir(t),r&512&&n!==null&&ca(n,n.return),t.flags&32){var i=t.stateNode;try{Su(i,"")}catch(w){tt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&MP(i,o),Xg(a,s);var u=Xg(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?FP(i,h):c==="dangerouslySetInnerHTML"?jP(i,h):c==="children"?Su(i,h):e0(i,c,h,u)}switch(a){case"input":Hg(i,o);break;case"textarea":LP(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ma(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?ma(i,!!o.multiple,o.defaultValue,!0):ma(i,!!o.multiple,o.multiple?[]:"",!1))}i[Nu]=o}catch(w){tt(t,t.return,w)}}break;case 6:if(fr(e,t),Ir(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){tt(t,t.return,w)}}break;case 3:if(fr(e,t),Ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xu(e.containerInfo)}catch(w){tt(t,t.return,w)}break;case 4:fr(e,t),Ir(t);break;case 13:fr(e,t),Ir(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(N0=it())),r&4&&X1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Jt=(u=Jt)||c,fr(e,t),Jt=u):fr(e,t),Ir(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Q=t,c=t.child;c!==null;){for(h=Q=c;Q!==null;){switch(d=Q,p=d.child,d.tag){case 0:case 11:case 14:case 15:du(4,d,d.return);break;case 1:ca(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(w){tt(r,n,w)}}break;case 5:ca(d,d.return);break;case 22:if(d.memoizedState!==null){Z1(h);continue}}p!==null?(p.return=d,Q=p):Z1(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$P("display",s))}catch(w){tt(t,t.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){tt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fr(e,t),Ir(t),r&4&&X1(t);break;case 21:break;default:fr(e,t),Ir(t)}}function Ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fx(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Su(i,""),r.flags&=-33);var o=Q1(t);Iy(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Q1(t);Py(t,a,s);break;default:throw Error(z(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hV(t,e,n){Q=t,px(t)}function px(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ef;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Jt;a=Ef;var u=Jt;if(Ef=s,(Jt=l)&&!u)for(Q=i;Q!==null;)s=Q,l=s.child,s.tag===22&&s.memoizedState!==null?eb(i):l!==null?(l.return=s,Q=l):eb(i);for(;o!==null;)Q=o,px(o),o=o.sibling;Q=i,Ef=a,Jt=u}J1(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Q=o):J1(t)}}function J1(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||Gd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:hr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&L1(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}L1(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&xu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Jt||e.flags&512&&Ay(e)}catch(d){tt(e,e.return,d)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Z1(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function eb(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gd(4,e)}catch(l){tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){tt(e,i,l)}}var o=e.return;try{Ay(e)}catch(l){tt(e,o,l)}break;case 5:var s=e.return;try{Ay(e)}catch(l){tt(e,s,l)}}}catch(l){tt(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var dV=Math.ceil,Nh=Si.ReactCurrentDispatcher,O0=Si.ReactCurrentOwner,tr=Si.ReactCurrentBatchConfig,be=0,Ct=null,lt=null,Bt=0,In=0,fa=Io(0),vt=0,$u=null,ds=0,Yd=0,R0=0,pu=null,pn=null,N0=0,Da=1/0,Qr=null,Dh=!1,xy=null,ao=null,bf=!1,eo=null,Mh=0,mu=0,Cy=null,eh=-1,th=0;function an(){return be&6?it():eh!==-1?eh:eh=it()}function lo(t){return t.mode&1?be&2&&Bt!==0?Bt&-Bt:QL.transition!==null?(th===0&&(th=JP()),th):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:oI(t.type)),t):1}function _r(t,e,n,r){if(50<mu)throw mu=0,Cy=null,Error(z(185));sc(t,n,r),(!(be&2)||t!==Ct)&&(t===Ct&&(!(be&2)&&(Yd|=n),vt===4&&qi(t,Bt)),wn(t,r),n===1&&be===0&&!(e.mode&1)&&(Da=it()+500,Kd&&xo()))}function wn(t,e){var n=t.callbackNode;QM(t,e);var r=vh(t,t===Ct?Bt:0);if(r===0)n!==null&&u1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&u1(n),e===1)t.tag===0?YL(tb.bind(null,t)):SI(tb.bind(null,t)),KL(function(){!(be&6)&&xo()}),n=null;else{switch(ZP(r)){case 1:n=o0;break;case 4:n=QP;break;case 16:n=yh;break;case 536870912:n=XP;break;default:n=yh}n=bx(n,mx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mx(t,e){if(eh=-1,th=0,be&6)throw Error(z(327));var n=t.callbackNode;if(wa()&&t.callbackNode!==n)return null;var r=vh(t,t===Ct?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Lh(t,r);else{e=r;var i=be;be|=2;var o=yx();(Ct!==t||Bt!==e)&&(Qr=null,Da=it()+500,ts(t,e));do try{gV();break}catch(a){gx(t,a)}while(!0);v0(),Nh.current=o,be=i,lt!==null?e=0:(Ct=null,Bt=0,e=vt)}if(e!==0){if(e===2&&(i=ny(t),i!==0&&(r=i,e=ky(t,i))),e===1)throw n=$u,ts(t,0),qi(t,r),wn(t,it()),n;if(e===6)qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!pV(i)&&(e=Lh(t,r),e===2&&(o=ny(t),o!==0&&(r=o,e=ky(t,o))),e===1))throw n=$u,ts(t,0),qi(t,r),wn(t,it()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Uo(t,pn,Qr);break;case 3:if(qi(t,r),(r&130023424)===r&&(e=N0+500-it(),10<e)){if(vh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=cy(Uo.bind(null,t,pn,Qr),e);break}Uo(t,pn,Qr);break;case 4:if(qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-vr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dV(r/1960))-r,10<r){t.timeoutHandle=cy(Uo.bind(null,t,pn,Qr),r);break}Uo(t,pn,Qr);break;case 5:Uo(t,pn,Qr);break;default:throw Error(z(329))}}}return wn(t,it()),t.callbackNode===n?mx.bind(null,t):null}function ky(t,e){var n=pu;return t.current.memoizedState.isDehydrated&&(ts(t,e).flags|=256),t=Lh(t,e),t!==2&&(e=pn,pn=n,e!==null&&Oy(e)),t}function Oy(t){pn===null?pn=t:pn.push.apply(pn,t)}function pV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!wr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qi(t,e){for(e&=~R0,e&=~Yd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vr(e),r=1<<n;t[n]=-1,e&=~r}}function tb(t){if(be&6)throw Error(z(327));wa();var e=vh(t,0);if(!(e&1))return wn(t,it()),null;var n=Lh(t,e);if(t.tag!==0&&n===2){var r=ny(t);r!==0&&(e=r,n=ky(t,r))}if(n===1)throw n=$u,ts(t,0),qi(t,e),wn(t,it()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Uo(t,pn,Qr),wn(t,it()),null}function D0(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(Da=it()+500,Kd&&xo())}}function ps(t){eo!==null&&eo.tag===0&&!(be&6)&&wa();var e=be;be|=1;var n=tr.transition,r=Ce;try{if(tr.transition=null,Ce=1,t)return t()}finally{Ce=r,tr.transition=n,be=e,!(be&6)&&xo()}}function M0(){In=fa.current,We(fa)}function ts(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WL(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(m0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Th();break;case 3:Ra(),We(vn),We(tn),S0();break;case 5:T0(r);break;case 4:Ra();break;case 13:We(Ge);break;case 19:We(Ge);break;case 10:_0(r.type._context);break;case 22:case 23:M0()}n=n.return}if(Ct=t,lt=t=uo(t.current,null),Bt=In=e,vt=0,$u=null,R0=Yd=ds=0,pn=pu=null,Go!==null){for(e=0;e<Go.length;e++)if(n=Go[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Go=null}return t}function gx(t,e){do{var n=lt;try{if(v0(),Xf.current=Rh,Oh){for(var r=Ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Oh=!1}if(hs=0,It=yt=Ye=null,hu=!1,Lu=0,O0.current=null,n===null||n.return===null){vt=1,$u=e,lt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=B1(s);if(p!==null){p.flags&=-257,z1(p,s,a,o,e),p.mode&1&&U1(o,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var w=new Set;w.add(l),e.updateQueue=w}else g.add(l);break e}else{if(!(e&1)){U1(o,u,e),L0();break e}l=Error(z(426))}}else if(He&&a.mode&1){var E=B1(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),z1(E,s,a,o,e),g0(Na(l,a));break e}}o=l=Na(l,a),vt!==4&&(vt=2),pu===null?pu=[o]:pu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=ZI(o,l,e);M1(o,y);break e;case 1:a=l;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ao===null||!ao.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=ex(o,a,e);M1(o,x);break e}}o=o.return}while(o!==null)}_x(n)}catch(R){e=R,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function yx(){var t=Nh.current;return Nh.current=Rh,t===null?Rh:t}function L0(){(vt===0||vt===3||vt===2)&&(vt=4),Ct===null||!(ds&268435455)&&!(Yd&268435455)||qi(Ct,Bt)}function Lh(t,e){var n=be;be|=2;var r=yx();(Ct!==t||Bt!==e)&&(Qr=null,ts(t,e));do try{mV();break}catch(i){gx(t,i)}while(!0);if(v0(),be=n,Nh.current=r,lt!==null)throw Error(z(261));return Ct=null,Bt=0,vt}function mV(){for(;lt!==null;)vx(lt)}function gV(){for(;lt!==null&&!UM();)vx(lt)}function vx(t){var e=Ex(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?_x(t):lt=e,O0.current=null}function _x(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uV(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,lt=null;return}}else if(n=lV(n,e,In),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);vt===0&&(vt=5)}function Uo(t,e,n){var r=Ce,i=tr.transition;try{tr.transition=null,Ce=1,yV(t,e,n,r)}finally{tr.transition=i,Ce=r}return null}function yV(t,e,n,r){do wa();while(eo!==null);if(be&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(XM(t,o),t===Ct&&(lt=Ct=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bf||(bf=!0,bx(yh,function(){return wa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=tr.transition,tr.transition=null;var s=Ce;Ce=1;var a=be;be|=4,O0.current=null,fV(t,n),dx(n,t),VL(ly),_h=!!ay,ly=ay=null,t.current=n,hV(n),BM(),be=a,Ce=s,tr.transition=o}else t.current=n;if(bf&&(bf=!1,eo=t,Mh=i),o=t.pendingLanes,o===0&&(ao=null),KM(n.stateNode),wn(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Dh)throw Dh=!1,t=xy,xy=null,t;return Mh&1&&t.tag!==0&&wa(),o=t.pendingLanes,o&1?t===Cy?mu++:(mu=0,Cy=t):mu=0,xo(),null}function wa(){if(eo!==null){var t=ZP(Mh),e=tr.transition,n=Ce;try{if(tr.transition=null,Ce=16>t?16:t,eo===null)var r=!1;else{if(t=eo,eo=null,Mh=0,be&6)throw Error(z(331));var i=be;for(be|=4,Q=t.current;Q!==null;){var o=Q,s=o.child;if(Q.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var c=Q;switch(c.tag){case 0:case 11:case 15:du(8,c,o)}var h=c.child;if(h!==null)h.return=c,Q=h;else for(;Q!==null;){c=Q;var d=c.sibling,p=c.return;if(cx(c),c===u){Q=null;break}if(d!==null){d.return=p,Q=d;break}Q=p}}}var g=o.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}Q=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Q=s;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:du(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Q=y;break e}Q=o.return}}var v=t.current;for(Q=v;Q!==null;){s=Q;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Q=b;else e:for(s=v;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gd(9,a)}}catch(R){tt(a,a.return,R)}if(a===s){Q=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Q=x;break e}Q=a.return}}if(be=i,xo(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(Fd,t)}catch{}r=!0}return r}finally{Ce=n,tr.transition=e}}return!1}function nb(t,e,n){e=Na(n,e),e=ZI(t,e,1),t=so(t,e,1),e=an(),t!==null&&(sc(t,1,e),wn(t,e))}function tt(t,e,n){if(t.tag===3)nb(t,t,n);else for(;e!==null;){if(e.tag===3){nb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ao===null||!ao.has(r))){t=Na(n,t),t=ex(e,t,1),e=so(e,t,1),t=an(),e!==null&&(sc(e,1,t),wn(e,t));break}}e=e.return}}function vV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(Bt&n)===n&&(vt===4||vt===3&&(Bt&130023424)===Bt&&500>it()-N0?ts(t,0):R0|=n),wn(t,e)}function wx(t,e){e===0&&(t.mode&1?(e=hf,hf<<=1,!(hf&130023424)&&(hf=4194304)):e=1);var n=an();t=hi(t,e),t!==null&&(sc(t,e,n),wn(t,n))}function _V(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wx(t,n)}function wV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),wx(t,n)}var Ex;Ex=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vn.current)gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gn=!1,aV(t,e,n);gn=!!(t.flags&131072)}else gn=!1,He&&e.flags&1048576&&AI(e,Ph,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zf(t,e),t=e.pendingProps;var i=Ca(e,tn.current);_a(e,n),i=P0(null,e,r,t,i,n);var o=I0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_n(r)?(o=!0,Sh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,E0(e),i.updater=qd,e.stateNode=i,i._reactInternals=e,yy(e,r,t,n),e=wy(null,e,r,!0,o,n)):(e.tag=0,He&&o&&p0(e),on(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=bV(r),t=hr(r,t),i){case 0:e=_y(null,e,r,t,n);break e;case 1:e=H1(null,e,r,t,n);break e;case 11:e=W1(null,e,r,t,n);break e;case 14:e=K1(null,e,r,hr(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hr(r,i),_y(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hr(r,i),H1(t,e,r,i,n);case 3:e:{if(ix(e),t===null)throw Error(z(387));r=e.pendingProps,o=e.memoizedState,i=o.element,OI(t,e),Ch(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Na(Error(z(423)),e),e=q1(t,e,r,n,i);break e}else if(r!==i){i=Na(Error(z(424)),e),e=q1(t,e,r,n,i);break e}else for(On=oo(e.stateNode.containerInfo.firstChild),Dn=e,He=!0,pr=null,n=CI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ka(),r===i){e=di(t,e,n);break e}on(t,e,r,n)}e=e.child}return e;case 5:return RI(e),t===null&&py(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,uy(r,i)?s=null:o!==null&&uy(r,o)&&(e.flags|=32),rx(t,e),on(t,e,s,n),e.child;case 6:return t===null&&py(e),null;case 13:return ox(t,e,n);case 4:return b0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oa(e,null,r,n):on(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hr(r,i),W1(t,e,r,i,n);case 7:return on(t,e,e.pendingProps,n),e.child;case 8:return on(t,e,e.pendingProps.children,n),e.child;case 12:return on(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ve(Ih,r._currentValue),r._currentValue=s,o!==null)if(wr(o.value,s)){if(o.children===i.children&&!vn.current){e=di(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=si(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),my(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),my(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}on(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_a(e,n),i=rr(i),r=r(i),e.flags|=1,on(t,e,r,n),e.child;case 14:return r=e.type,i=hr(r,e.pendingProps),i=hr(r.type,i),K1(t,e,r,i,n);case 15:return tx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hr(r,i),Zf(t,e),e.tag=1,_n(r)?(t=!0,Sh(e)):t=!1,_a(e,n),JI(e,r,i),yy(e,r,i,n),wy(null,e,r,!0,t,n);case 19:return sx(t,e,n);case 22:return nx(t,e,n)}throw Error(z(156,e.tag))};function bx(t,e){return YP(t,e)}function EV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,e,n,r){return new EV(t,e,n,r)}function V0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bV(t){if(typeof t=="function")return V0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===n0)return 11;if(t===r0)return 14}return 2}function uo(t,e){var n=t.alternate;return n===null?(n=Zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nh(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")V0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ta:return ns(n.children,i,o,e);case t0:s=8,i|=8;break;case Ug:return t=Zn(12,n,e,i|2),t.elementType=Ug,t.lanes=o,t;case Bg:return t=Zn(13,n,e,i),t.elementType=Bg,t.lanes=o,t;case zg:return t=Zn(19,n,e,i),t.elementType=zg,t.lanes=o,t;case RP:return Qd(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kP:s=10;break e;case OP:s=9;break e;case n0:s=11;break e;case r0:s=14;break e;case zi:s=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Zn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ns(t,e,n,r){return t=Zn(7,t,r,e),t.lanes=n,t}function Qd(t,e,n,r){return t=Zn(22,t,r,e),t.elementType=RP,t.lanes=n,t.stateNode={isHidden:!1},t}function Xm(t,e,n){return t=Zn(6,t,null,e),t.lanes=n,t}function Jm(t,e,n){return e=Zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function TV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rm(0),this.expirationTimes=Rm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function j0(t,e,n,r,i,o,s,a,l){return t=new TV(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Zn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},E0(o),t}function SV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ea,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Tx(t){if(!t)return vo;t=t._reactInternals;e:{if(Ps(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(_n(n))return TI(t,n,e)}return e}function Sx(t,e,n,r,i,o,s,a,l){return t=j0(n,r,!0,t,i,o,s,a,l),t.context=Tx(null),n=t.current,r=an(),i=lo(n),o=si(r,i),o.callback=e??null,so(n,o,i),t.current.lanes=i,sc(t,i,r),wn(t,r),t}function Xd(t,e,n,r){var i=e.current,o=an(),s=lo(i);return n=Tx(n),e.context===null?e.context=n:e.pendingContext=n,e=si(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=so(i,e,s),t!==null&&(_r(t,i,s,o),Qf(t,i,s)),s}function Vh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $0(t,e){rb(t,e),(t=t.alternate)&&rb(t,e)}function AV(){return null}var Ax=typeof reportError=="function"?reportError:function(t){console.error(t)};function F0(t){this._internalRoot=t}Jd.prototype.render=F0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Xd(t,e,null,null)};Jd.prototype.unmount=F0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ps(function(){Xd(null,t,null,null)}),e[fi]=null}};function Jd(t){this._internalRoot=t}Jd.prototype.unstable_scheduleHydration=function(t){if(t){var e=nI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hi.length&&e!==0&&e<Hi[n].priority;n++);Hi.splice(n,0,t),n===0&&iI(t)}};function U0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ib(){}function PV(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Vh(s);o.call(u)}}var s=Sx(e,r,t,0,null,!1,!1,"",ib);return t._reactRootContainer=s,t[fi]=s.current,Ou(t.nodeType===8?t.parentNode:t),ps(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Vh(l);a.call(u)}}var l=j0(t,0,!1,null,null,!1,!1,"",ib);return t._reactRootContainer=l,t[fi]=l.current,Ou(t.nodeType===8?t.parentNode:t),ps(function(){Xd(e,l,n,r)}),l}function ep(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Vh(s);a.call(l)}}Xd(e,s,t,i)}else s=PV(n,e,t,i,r);return Vh(s)}eI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zl(e.pendingLanes);n!==0&&(s0(e,n|1),wn(e,it()),!(be&6)&&(Da=it()+500,xo()))}break;case 13:ps(function(){var r=hi(t,1);if(r!==null){var i=an();_r(r,t,1,i)}}),$0(t,1)}};a0=function(t){if(t.tag===13){var e=hi(t,134217728);if(e!==null){var n=an();_r(e,t,134217728,n)}$0(t,134217728)}};tI=function(t){if(t.tag===13){var e=lo(t),n=hi(t,e);if(n!==null){var r=an();_r(n,t,e,r)}$0(t,e)}};nI=function(){return Ce};rI=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};Zg=function(t,e,n){switch(e){case"input":if(Hg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Wd(r);if(!i)throw Error(z(90));DP(r),Hg(r,i)}}}break;case"textarea":LP(t,n);break;case"select":e=n.value,e!=null&&ma(t,!!n.multiple,e,!1)}};zP=D0;WP=ps;var IV={usingClientEntryPoint:!1,Events:[lc,oa,Wd,UP,BP,D0]},Bl={findFiberByHostInstance:qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xV={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qP(t),t===null?null:t.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||AV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tf.isDisabled&&Tf.supportsFiber)try{Fd=Tf.inject(xV),Rr=Tf}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IV;Fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U0(e))throw Error(z(200));return SV(t,e,null,n)};Fn.createRoot=function(t,e){if(!U0(t))throw Error(z(299));var n=!1,r="",i=Ax;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=j0(t,1,!1,null,null,n,!1,r,i),t[fi]=e.current,Ou(t.nodeType===8?t.parentNode:t),new F0(e)};Fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=qP(e),t=t===null?null:t.stateNode,t};Fn.flushSync=function(t){return ps(t)};Fn.hydrate=function(t,e,n){if(!Zd(e))throw Error(z(200));return ep(null,t,e,!0,n)};Fn.hydrateRoot=function(t,e,n){if(!U0(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Ax;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Sx(e,null,t,1,n??null,i,!1,o,s),t[fi]=e.current,Ou(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Jd(e)};Fn.render=function(t,e,n){if(!Zd(e))throw Error(z(200));return ep(null,t,e,!1,n)};Fn.unmountComponentAtNode=function(t){if(!Zd(t))throw Error(z(40));return t._reactRootContainer?(ps(function(){ep(null,null,t,!1,function(){t._reactRootContainer=null,t[fi]=null})}),!0):!1};Fn.unstable_batchedUpdates=D0;Fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zd(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return ep(t,e,n,!1,r)};Fn.version="18.3.1-next-f1338f8080-20240426";function Px(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Px)}catch(t){console.error(t)}}Px(),PP.exports=Fn;var Ix=PP.exports,ob=Ix;$g.createRoot=ob.createRoot,$g.hydrateRoot=ob.hydrateRoot;const CV=()=>{};var sb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Cx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(d=64)),r.push(n[c],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new OV;const d=o<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RV=function(t){const e=xx(t);return Cx.encodeByteArray(e,!0)},jh=function(t){return RV(t).replace(/\./g,"")},kx=function(t){try{return Cx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=()=>NV().__FIREBASE_DEFAULTS__,MV=()=>{if(typeof process>"u"||typeof sb>"u")return;const t=sb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kx(t[1]);return e&&JSON.parse(e)},tp=()=>{try{return CV()||DV()||MV()||LV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ox=t=>{var e,n;return(n=(e=tp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},VV=t=>{const e=Ox(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Rx=()=>{var t;return(t=tp())==null?void 0:t.config},Nx=t=>{var e;return(e=tp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[jh(JSON.stringify(n)),jh(JSON.stringify(s)),""].join(".")}const gu={};function FV(){const t={prod:[],emulator:[]};for(const e of Object.keys(gu))gu[e]?t.emulator.push(e):t.prod.push(e);return t}function UV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ab=!1;function Mx(t,e){if(typeof window>"u"||typeof document>"u"||!nl(window.location.host)||gu[t]===e||gu[t]||ab)return;gu[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",o=FV().prod.length>0;function s(){const d=document.getElementById(r);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{ab=!0,s()},d}function c(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function h(){const d=UV(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),w=n("learnmore"),E=document.getElementById(w)||document.createElement("a"),y=n("preprendIcon"),v=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const b=d.element;a(b),c(E,w);const x=u();l(v,y),b.append(v,g,E,x),document.body.appendChild(b)}o?(g.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function zV(){var e;const t=(e=tp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qV(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GV(){return!zV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YV(){try{return typeof indexedDB=="object"}catch{return!1}}function QV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="FirebaseError";class Ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XV,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cc.prototype.create)}}class cc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?JV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ai(i,a,r)}}function JV(t,e){return t.replace(ZV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZV=/\{\$([^}]+)}/g;function e4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ms(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(lb(o)&&lb(s)){if(!ms(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function t4(t,e){const n=new n4(t,e);return n.subscribe.bind(n)}class n4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");r4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zm),i.error===void 0&&(i.error=Zm),i.complete===void 0&&(i.complete=Zm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i4=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s4(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function o4(t){return t===Bo?void 0:t}function s4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const l4={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},u4=pe.INFO,c4={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},f4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=c4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class B0{constructor(e){this.name=e,this._logLevel=u4,this._logHandler=f4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const h4=(t,e)=>e.some(n=>t instanceof n);let ub,cb;function d4(){return ub||(ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p4(){return cb||(cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lx=new WeakMap,Ry=new WeakMap,Vx=new WeakMap,eg=new WeakMap,z0=new WeakMap;function m4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(co(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Lx.set(n,t)}).catch(()=>{}),z0.set(e,t),e}function g4(t){if(Ry.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ry.set(t,e)}let Ny={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ry.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Vx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y4(t){Ny=t(Ny)}function v4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tg(this),e,...n);return Vx.set(r,e.sort?e.sort():[e]),co(r)}:p4().includes(t)?function(...e){return t.apply(tg(this),e),co(Lx.get(this))}:function(...e){return co(t.apply(tg(this),e))}}function _4(t){return typeof t=="function"?v4(t):(t instanceof IDBTransaction&&g4(t),h4(t,d4())?new Proxy(t,Ny):t)}function co(t){if(t instanceof IDBRequest)return m4(t);if(eg.has(t))return eg.get(t);const e=_4(t);return e!==t&&(eg.set(t,e),z0.set(e,t)),e}const tg=t=>z0.get(t);function w4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=co(s);return r&&s.addEventListener("upgradeneeded",l=>{r(co(s.result),l.oldVersion,l.newVersion,co(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const E4=["get","getKey","getAll","getAllKeys","count"],b4=["put","add","delete","clear"],ng=new Map;function fb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ng.get(e))return ng.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=b4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||E4.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ng.set(e,o),o}y4(t=>({...t,get:(e,n,r)=>fb(e,n)||t.get(e,n,r),has:(e,n)=>!!fb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(S4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function S4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dy="@firebase/app",hb="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new B0("@firebase/app"),A4="@firebase/app-compat",P4="@firebase/analytics-compat",I4="@firebase/analytics",x4="@firebase/app-check-compat",C4="@firebase/app-check",k4="@firebase/auth",O4="@firebase/auth-compat",R4="@firebase/database",N4="@firebase/data-connect",D4="@firebase/database-compat",M4="@firebase/functions",L4="@firebase/functions-compat",V4="@firebase/installations",j4="@firebase/installations-compat",$4="@firebase/messaging",F4="@firebase/messaging-compat",U4="@firebase/performance",B4="@firebase/performance-compat",z4="@firebase/remote-config",W4="@firebase/remote-config-compat",K4="@firebase/storage",H4="@firebase/storage-compat",q4="@firebase/firestore",G4="@firebase/ai",Y4="@firebase/firestore-compat",Q4="firebase",X4="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="[DEFAULT]",J4={[Dy]:"fire-core",[A4]:"fire-core-compat",[I4]:"fire-analytics",[P4]:"fire-analytics-compat",[C4]:"fire-app-check",[x4]:"fire-app-check-compat",[k4]:"fire-auth",[O4]:"fire-auth-compat",[R4]:"fire-rtdb",[N4]:"fire-data-connect",[D4]:"fire-rtdb-compat",[M4]:"fire-fn",[L4]:"fire-fn-compat",[V4]:"fire-iid",[j4]:"fire-iid-compat",[$4]:"fire-fcm",[F4]:"fire-fcm-compat",[U4]:"fire-perf",[B4]:"fire-perf-compat",[z4]:"fire-rc",[W4]:"fire-rc-compat",[K4]:"fire-gcs",[H4]:"fire-gcs-compat",[q4]:"fire-fst",[Y4]:"fire-fst-compat",[G4]:"fire-vertex","fire-js":"fire-js",[Q4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new Map,Z4=new Map,Ly=new Map;function db(t,e){try{t.container.addComponent(e)}catch(n){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ma(t){const e=t.name;if(Ly.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;Ly.set(e,t);for(const n of $h.values())db(n,t);for(const n of Z4.values())db(n,t);return!0}function W0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fo=new cc("app","Firebase",ej);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=X4;function jx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:My,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw fo.create("bad-app-name",{appName:String(i)});if(n||(n=Rx()),!n)throw fo.create("no-options");const o=$h.get(i);if(o){if(ms(n,o.options)&&ms(r,o.config))return o;throw fo.create("duplicate-app",{appName:i})}const s=new a4(i);for(const l of Ly.values())s.addComponent(l);const a=new tj(n,r,s);return $h.set(i,a),a}function $x(t=My){const e=$h.get(t);if(!e&&t===My&&Rx())return jx();if(!e)throw fo.create("no-app",{appName:t});return e}function ho(t,e,n){let r=J4[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(s.join(" "));return}Ma(new gs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="firebase-heartbeat-database",rj=1,Fu="firebase-heartbeat-store";let rg=null;function Fx(){return rg||(rg=w4(nj,rj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw fo.create("idb-open",{originalErrorMessage:t.message})})),rg}async function ij(t){try{const n=(await Fx()).transaction(Fu),r=await n.objectStore(Fu).get(Ux(t));return await n.done,r}catch(e){if(e instanceof Ai)pi.warn(e.message);else{const n=fo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pi.warn(n.message)}}}async function pb(t,e){try{const r=(await Fx()).transaction(Fu,"readwrite");await r.objectStore(Fu).put(e,Ux(t)),await r.done}catch(n){if(n instanceof Ai)pi.warn(n.message);else{const r=fo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pi.warn(r.message)}}}function Ux(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=1024,sj=30;class aj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=mb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>sj){const s=cj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mb(),{heartbeatsToSend:r,unsentEntries:i}=lj(this._heartbeatsCache.heartbeats),o=jh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return pi.warn(n),""}}}function mb(){return new Date().toISOString().substring(0,10)}function lj(t,e=oj){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),gb(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YV()?QV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ij(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function gb(t){return jh(JSON.stringify({version:2,heartbeats:t})).length}function cj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t){Ma(new gs("platform-logger",e=>new T4(e),"PRIVATE")),Ma(new gs("heartbeat",e=>new aj(e),"PRIVATE")),ho(Dy,hb,t),ho(Dy,hb,"esm2020"),ho("fire-js","")}fj("");var hj="firebase",dj="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ho(hj,dj,"app");function Bx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pj=Bx,zx=new cc("auth","Firebase",Bx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new B0("@firebase/auth");function mj(t,...e){Fh.logLevel<=pe.WARN&&Fh.warn(`Auth (${rl}): ${t}`,...e)}function rh(t,...e){Fh.logLevel<=pe.ERROR&&Fh.error(`Auth (${rl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(t,...e){throw K0(t,...e)}function Dr(t,...e){return K0(t,...e)}function Wx(t,e,n){const r={...pj(),[e]:n};return new cc("auth","Firebase",r).create(e,{appName:t.name})}function ai(t){return Wx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function K0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zx.create(t,...e)}function se(t,e,...n){if(!t)throw K0(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rh(e),new Error(e)}function gi(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function gj(){return yb()==="http:"||yb()==="https:"}function yb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gj()||KV()||"connection"in navigator)?navigator.onLine:!0}function vj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,gi(n>e,"Short delay should be less than long delay!"),this.isMobile=BV()||HV()}get(){return yj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t,e){gi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ej=new hc(3e4,6e4);function dc(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function il(t,e,n,r,i={}){return Hx(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=fc({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...o};return WV()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&nl(t.emulatorConfig.host)&&(u.credentials="include"),Kx.fetch()(await qx(t,t.config.apiHost,n,a),u)})}async function Hx(t,e,n){t._canInitEmulator=!1;const r={..._j,...e};try{const i=new bj(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Sf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sf(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Sf(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Sf(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Wx(t,c,u);mi(t,c)}}catch(i){if(i instanceof Ai)throw i;mi(t,"network-request-failed",{message:String(i)})}}async function q0(t,e,n,r,i={}){const o=await il(t,e,n,r,i);return"mfaPendingCredential"in o&&mi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function qx(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?H0(t.config,i):`${t.config.apiScheme}://${i}`;return wj.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class bj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dr(this.auth,"network-request-failed")),Ej.get())})}}function Sf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Dr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(t,e){return il(t,"POST","/v1/accounts:delete",e)}async function Uh(t,e){return il(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sj(t,e=!1){const n=rn(t),r=await n.getIdToken(e),i=G0(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:yu(ig(i.auth_time)),issuedAtTime:yu(ig(i.iat)),expirationTime:yu(ig(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ig(t){return Number(t)*1e3}function G0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const i=kx(n);return i?JSON.parse(i):(rh("Failed to decode base64 JWT payload"),null)}catch(i){return rh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function vb(t){const e=G0(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ai&&Aj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Aj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yu(this.lastLoginAt),this.creationTime=yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Uu(t,Uh(e,{idToken:n}));se(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(h=i.providerUserInfo)!=null&&h.length?Gx(i.providerUserInfo):[],s=xj(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=a?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new jy(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function Ij(t){const e=rn(t);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Gx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cj(t,e){const n=await Hx(t,{},async()=>{const r=fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await qx(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&nl(t.emulatorConfig.host)&&(l.credentials="include"),Kx.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kj(t,e){return il(t,"POST","/v2/accounts:revokeToken",dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=vb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Cj(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Ea;return r&&(se(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(se(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ea,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Pj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new jy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Uu(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Sj(this,e)}reload(){return Ij(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await Uu(this,Tj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:h,emailVerified:d,isAnonymous:p,providerData:g,stsTokenManager:w}=n;se(h&&w,e,"internal-error");const E=Ea.fromJSON(this.name,w);se(typeof h=="string",e,"internal-error"),$i(r,e.name),$i(i,e.name),se(typeof d=="boolean",e,"internal-error"),se(typeof p=="boolean",e,"internal-error"),$i(o,e.name),$i(s,e.name),$i(a,e.name),$i(l,e.name),$i(u,e.name),$i(c,e.name);const y=new yr({uid:h,auth:e,email:i,emailVerified:d,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:E,createdAt:u,lastLoginAt:c});return g&&Array.isArray(g)&&(y.providerData=g.map(v=>({...v}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ea;i.updateFromServerResponse(n);const o=new yr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];se(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Gx(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Ea;a.updateFromIdToken(r);const l=new yr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new jy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new Map;function ri(t){gi(t instanceof Function,"Expected a class definition");let e=_b.get(t);return e?(gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_b.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Yx.type="NONE";const wb=Yx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t,e,n){return`firebase:${t}:${e}:${n}`}class ba{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ih(this.userKey,i.apiKey,o),this.fullPersistenceKey=ih("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uh(this.auth,{idToken:e}).catch(()=>{});return n?yr._fromGetAccountInfoResponse(this.auth,n,e):null}return yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ba(ri(wb),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ri(wb);const s=ih(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){let h;if(typeof c=="string"){const d=await Uh(e,{idToken:c}).catch(()=>{});if(!d)break;h=await yr._fromGetAccountInfoResponse(e,d,c)}else h=yr._fromJSON(e,c);u!==o&&(a=h),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ba(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new ba(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tC(e))return"Blackberry";if(nC(e))return"Webos";if(Xx(e))return"Safari";if((e.includes("chrome/")||Jx(e))&&!e.includes("edge/"))return"Chrome";if(eC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Qx(t=nn()){return/firefox\//i.test(t)}function Xx(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jx(t=nn()){return/crios\//i.test(t)}function Zx(t=nn()){return/iemobile/i.test(t)}function eC(t=nn()){return/android/i.test(t)}function tC(t=nn()){return/blackberry/i.test(t)}function nC(t=nn()){return/webos/i.test(t)}function Y0(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Oj(t=nn()){var e;return Y0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Rj(){return qV()&&document.documentMode===10}function rC(t=nn()){return Y0(t)||eC(t)||nC(t)||tC(t)||/windows phone/i.test(t)||Zx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e=[]){let n;switch(t){case"Browser":n=Eb(nn());break;case"Worker":n=`${Eb(nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(t,e={}){return il(t,"GET","/v2/passwordPolicy",dc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=6;class Lj{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Mj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bb(this),this.idTokenSubscription=new bb(this),this.beforeStateQueue=new Nj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await ba.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uh(this,{idToken:e}),r=await yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Xn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(ai(this));const n=e?rn(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Dj(this),n=new Lj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await ba.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&mj(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function pc(t){return rn(t)}class bb{constructor(e){this.auth=e,this.observer=null,this.addObserver=t4(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jj(t){Q0=t}function $j(t){return Q0.loadJS(t)}function Fj(){return Q0.gapiScript}function Uj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t,e){const n=W0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ms(o,e??{}))return i;mi(i,"already-initialized")}return n.initialize({options:e})}function zj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Wj(t,e,n){const r=pc(t);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=oC(e),{host:s,port:a}=Kj(e),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},c=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(ms(u,r.config.emulator)&&ms(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,nl(s)?(Dx(`${o}//${s}${l}`),Mx("Auth",!0)):Hj()}function oC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Kj(t){const e=oC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Tb(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Tb(s)}}}function Tb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Hj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t,e){return q0(t,"POST","/v1/accounts:signInWithIdp",dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj="http://localhost";class ys extends sC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new ys(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ta(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ta(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ta(e,n)}buildRequest(){const e={requestUri:qj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends aC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends mc{constructor(){super("facebook.com")}static credential(e){return ys._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ys._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yi.credential(n,r)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends mc{constructor(){super("github.com")}static credential(e){return ys._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends mc{constructor(){super("twitter.com")}static credential(e,n){return ys._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(t,e){return q0(t,"POST","/v1/accounts:signUp",dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await yr._fromIdTokenResponse(e,r,i),s=Sb(r);return new yi({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Sb(r);return new yi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Sb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ab(t){var i;if(Xn(t.app))return Promise.reject(ai(t));const e=pc(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new yi({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await Gj(e,{returnSecureToken:!0}),r=await yi._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends Ai{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zh(e,n,r,i)}}function lC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(t,o,e,r):o})}async function Yj(t,e,n=!1){const r=await Uu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(t,e,n=!1){const{auth:r}=t;if(Xn(r.app))return Promise.reject(ai(r));const i="reauthenticate";try{const o=await Uu(t,lC(r,i,e,t),n);se(o.idToken,r,"internal-error");const s=G0(o.idToken);se(s,r,"internal-error");const{sub:a}=s;return se(t.uid===a,r,"user-mismatch"),yi._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&mi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(t,e,n=!1){if(Xn(t.app))return Promise.reject(ai(t));const r="signIn",i=await lC(t,r,e),o=await yi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(t,e){return q0(t,"POST","/v1/accounts:signInWithCustomToken",dc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zj(t,e){if(Xn(t.app))return Promise.reject(ai(t));const n=pc(t),r=await Jj(n,{token:e,returnSecureToken:!0}),i=await yi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function e3(t,e,n,r){return rn(t).onIdTokenChanged(e,n,r)}function t3(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}const Wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=1e3,r3=10;class cC extends uC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Rj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,r3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},n3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cC.type="LOCAL";const i3=cC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC extends uC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fC.type="SESSION";const hC=fC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new np(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await o3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}np.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=X0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function a3(t){Mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function l3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function c3(){return dC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firebaseLocalStorageDb",f3=1,Kh="firebaseLocalStorage",mC="fbase_key";class gc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rp(t,e){return t.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function h3(){const t=indexedDB.deleteDatabase(pC);return new gc(t).toPromise()}function $y(){const t=indexedDB.open(pC,f3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Kh,{keyPath:mC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Kh)?e(r):(r.close(),await h3(),e(await $y()))})})}async function Pb(t,e,n){const r=rp(t,!0).put({[mC]:e,value:n});return new gc(r).toPromise()}async function d3(t,e){const n=rp(t,!1).get(e),r=await new gc(n).toPromise();return r===void 0?null:r.value}function Ib(t,e){const n=rp(t,!0).delete(e);return new gc(n).toPromise()}const p3=800,m3=3;class gC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $y(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>m3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=np._getInstance(c3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await l3(),!this.activeServiceWorker)return;this.sender=new s3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||u3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $y();return await Pb(e,Wh,"1"),await Ib(e,Wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Pb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>d3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ib(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=rp(i,!1).getAll();return new gc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gC.type="LOCAL";const g3=gC;new hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t,e){return e?ri(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends sC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function v3(t){return Xj(t.auth,new J0(t),t.bypassAuthState)}function _3(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),Qj(n,new J0(t),t.bypassAuthState)}async function w3(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),Yj(n,new J0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return v3;case"linkViaPopup":case"linkViaRedirect":return w3;case"reauthViaPopup":case"reauthViaRedirect":return _3;default:mi(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=new hc(2e3,1e4);class ha extends yC{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=X0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,E3.get())};e()}}ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="pendingRedirect",oh=new Map;class T3 extends yC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const r=await S3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S3(t,e){const n=I3(e),r=P3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function A3(t,e){oh.set(t._key(),e)}function P3(t){return ri(t._redirectPersistence)}function I3(t){return ih(b3,t.config.apiKey,t.name)}async function x3(t,e,n=!1){if(Xn(t.app))return Promise.reject(ai(t));const r=pc(t),i=y3(r,e),s=await new T3(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=10*60*1e3;class k3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!O3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vC(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C3&&this.cachedEventUids.clear(),this.cachedEventUids.has(xb(e))}saveEventToCache(e){this.cachedEventUids.add(xb(e)),this.lastProcessedEventTime=Date.now()}}function xb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function O3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3(t,e={}){return il(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D3=/^https?/;async function M3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await R3(t);for(const n of e)try{if(L3(n))return}catch{}mi(t,"unauthorized-domain")}function L3(t){const e=Vy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!D3.test(n))return!1;if(N3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=new hc(3e4,6e4);function Cb(){const t=Mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function j3(t){return new Promise((e,n)=>{var i,o,s;function r(){Cb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cb(),n(Dr(t,"network-request-failed"))},timeout:V3.get()})}if((o=(i=Mr().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=Mr().gapi)!=null&&s.load)r();else{const a=Uj("iframefcb");return Mr()[a]=()=>{gapi.load?r():n(Dr(t,"network-request-failed"))},$j(`${Fj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw sh=null,e})}let sh=null;function $3(t){return sh=sh||j3(t),sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=new hc(5e3,15e3),U3="__/auth/iframe",B3="emulator/auth/iframe",z3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K3(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?H0(e,B3):`https://${t.config.authDomain}/${U3}`,r={apiKey:e.apiKey,appName:t.name,v:rl},i=W3.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${fc(r).slice(1)}`}async function H3(t){const e=await $3(t),n=Mr().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:K3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z3,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Dr(t,"network-request-failed"),a=Mr().setTimeout(()=>{o(s)},F3.get());function l(){Mr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G3=500,Y3=600,Q3="_blank",X3="http://localhost";class kb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function J3(t,e,n,r=G3,i=Y3){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...q3,width:r.toString(),height:i.toString(),top:o,left:s},u=nn().toLowerCase();n&&(a=Jx(u)?Q3:n),Qx(u)&&(e=e||X3,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,g])=>`${d}${p}=${g},`,"");if(Oj(u)&&a!=="_self")return Z3(e||"",a),new kb(null);const h=window.open(e||"",a,c);se(h,t,"popup-blocked");try{h.focus()}catch{}return new kb(h)}function Z3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6="__/auth/handler",t6="emulator/auth/handler",n6=encodeURIComponent("fac");async function Ob(t,e,n,r,i,o){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rl,eventId:i};if(e instanceof aC){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",e4(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries({}))s[c]=h}if(e instanceof mc){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${n6}=${encodeURIComponent(l)}`:"";return`${r6(t)}?${fc(a).slice(1)}${u}`}function r6({config:t}){return t.emulator?H0(t,t6):`https://${t.authDomain}/${e6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="webStorageSupport";class i6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hC,this._completeRedirectFn=x3,this._overrideRedirectResult=A3}async _openPopup(e,n,r,i){var s;gi((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Ob(e,n,r,Vy(),i);return J3(e,o,X0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Ob(e,n,r,Vy(),i);return a3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(gi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await H3(e),r=new k3(e);return n.register("authEvent",i=>(se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(og,{type:og},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[og];o!==void 0&&n(!!o),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rC()||Xx()||Y0()}}const o6=i6;var Rb="@firebase/auth",Nb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l6(t){Ma(new gs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;se(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iC(t)},u=new Vj(r,i,o,l);return zj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ma(new gs("auth-internal",e=>{const n=pc(e.getProvider("auth").getImmediate());return(r=>new s6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ho(Rb,Nb,a6(t)),ho(Rb,Nb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=5*60,c6=Nx("authIdTokenMaxAge")||u6;let Db=null;const f6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>c6)return;const i=n==null?void 0:n.token;Db!==i&&(Db=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function h6(t=$x()){const e=W0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Bj(t,{popupRedirectResolver:o6,persistence:[g3,i3,hC]}),r=Nx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=f6(o.toString());t3(n,s,()=>s(n.currentUser)),e3(n,a=>s(a))}}const i=Ox("auth");return i&&Wj(n,`http://${i}`),n}function d6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}jj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Dr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",d6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l6("Browser");var Mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var po,_C;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function I(){}I.prototype=T.prototype,S.D=T.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(C,k,N){for(var O=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)O[ue-2]=arguments[ue];return T.prototype[k].apply(C,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,T,I){I||(I=0);var C=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)C[k]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(k=0;16>k;++k)C[k]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=S.g[0],I=S.g[1],k=S.g[2];var N=S.g[3],O=T+(N^I&(k^N))+C[0]+3614090360&4294967295;T=I+(O<<7&4294967295|O>>>25),O=N+(k^T&(I^k))+C[1]+3905402710&4294967295,N=T+(O<<12&4294967295|O>>>20),O=k+(I^N&(T^I))+C[2]+606105819&4294967295,k=N+(O<<17&4294967295|O>>>15),O=I+(T^k&(N^T))+C[3]+3250441966&4294967295,I=k+(O<<22&4294967295|O>>>10),O=T+(N^I&(k^N))+C[4]+4118548399&4294967295,T=I+(O<<7&4294967295|O>>>25),O=N+(k^T&(I^k))+C[5]+1200080426&4294967295,N=T+(O<<12&4294967295|O>>>20),O=k+(I^N&(T^I))+C[6]+2821735955&4294967295,k=N+(O<<17&4294967295|O>>>15),O=I+(T^k&(N^T))+C[7]+4249261313&4294967295,I=k+(O<<22&4294967295|O>>>10),O=T+(N^I&(k^N))+C[8]+1770035416&4294967295,T=I+(O<<7&4294967295|O>>>25),O=N+(k^T&(I^k))+C[9]+2336552879&4294967295,N=T+(O<<12&4294967295|O>>>20),O=k+(I^N&(T^I))+C[10]+4294925233&4294967295,k=N+(O<<17&4294967295|O>>>15),O=I+(T^k&(N^T))+C[11]+2304563134&4294967295,I=k+(O<<22&4294967295|O>>>10),O=T+(N^I&(k^N))+C[12]+1804603682&4294967295,T=I+(O<<7&4294967295|O>>>25),O=N+(k^T&(I^k))+C[13]+4254626195&4294967295,N=T+(O<<12&4294967295|O>>>20),O=k+(I^N&(T^I))+C[14]+2792965006&4294967295,k=N+(O<<17&4294967295|O>>>15),O=I+(T^k&(N^T))+C[15]+1236535329&4294967295,I=k+(O<<22&4294967295|O>>>10),O=T+(k^N&(I^k))+C[1]+4129170786&4294967295,T=I+(O<<5&4294967295|O>>>27),O=N+(I^k&(T^I))+C[6]+3225465664&4294967295,N=T+(O<<9&4294967295|O>>>23),O=k+(T^I&(N^T))+C[11]+643717713&4294967295,k=N+(O<<14&4294967295|O>>>18),O=I+(N^T&(k^N))+C[0]+3921069994&4294967295,I=k+(O<<20&4294967295|O>>>12),O=T+(k^N&(I^k))+C[5]+3593408605&4294967295,T=I+(O<<5&4294967295|O>>>27),O=N+(I^k&(T^I))+C[10]+38016083&4294967295,N=T+(O<<9&4294967295|O>>>23),O=k+(T^I&(N^T))+C[15]+3634488961&4294967295,k=N+(O<<14&4294967295|O>>>18),O=I+(N^T&(k^N))+C[4]+3889429448&4294967295,I=k+(O<<20&4294967295|O>>>12),O=T+(k^N&(I^k))+C[9]+568446438&4294967295,T=I+(O<<5&4294967295|O>>>27),O=N+(I^k&(T^I))+C[14]+3275163606&4294967295,N=T+(O<<9&4294967295|O>>>23),O=k+(T^I&(N^T))+C[3]+4107603335&4294967295,k=N+(O<<14&4294967295|O>>>18),O=I+(N^T&(k^N))+C[8]+1163531501&4294967295,I=k+(O<<20&4294967295|O>>>12),O=T+(k^N&(I^k))+C[13]+2850285829&4294967295,T=I+(O<<5&4294967295|O>>>27),O=N+(I^k&(T^I))+C[2]+4243563512&4294967295,N=T+(O<<9&4294967295|O>>>23),O=k+(T^I&(N^T))+C[7]+1735328473&4294967295,k=N+(O<<14&4294967295|O>>>18),O=I+(N^T&(k^N))+C[12]+2368359562&4294967295,I=k+(O<<20&4294967295|O>>>12),O=T+(I^k^N)+C[5]+4294588738&4294967295,T=I+(O<<4&4294967295|O>>>28),O=N+(T^I^k)+C[8]+2272392833&4294967295,N=T+(O<<11&4294967295|O>>>21),O=k+(N^T^I)+C[11]+1839030562&4294967295,k=N+(O<<16&4294967295|O>>>16),O=I+(k^N^T)+C[14]+4259657740&4294967295,I=k+(O<<23&4294967295|O>>>9),O=T+(I^k^N)+C[1]+2763975236&4294967295,T=I+(O<<4&4294967295|O>>>28),O=N+(T^I^k)+C[4]+1272893353&4294967295,N=T+(O<<11&4294967295|O>>>21),O=k+(N^T^I)+C[7]+4139469664&4294967295,k=N+(O<<16&4294967295|O>>>16),O=I+(k^N^T)+C[10]+3200236656&4294967295,I=k+(O<<23&4294967295|O>>>9),O=T+(I^k^N)+C[13]+681279174&4294967295,T=I+(O<<4&4294967295|O>>>28),O=N+(T^I^k)+C[0]+3936430074&4294967295,N=T+(O<<11&4294967295|O>>>21),O=k+(N^T^I)+C[3]+3572445317&4294967295,k=N+(O<<16&4294967295|O>>>16),O=I+(k^N^T)+C[6]+76029189&4294967295,I=k+(O<<23&4294967295|O>>>9),O=T+(I^k^N)+C[9]+3654602809&4294967295,T=I+(O<<4&4294967295|O>>>28),O=N+(T^I^k)+C[12]+3873151461&4294967295,N=T+(O<<11&4294967295|O>>>21),O=k+(N^T^I)+C[15]+530742520&4294967295,k=N+(O<<16&4294967295|O>>>16),O=I+(k^N^T)+C[2]+3299628645&4294967295,I=k+(O<<23&4294967295|O>>>9),O=T+(k^(I|~N))+C[0]+4096336452&4294967295,T=I+(O<<6&4294967295|O>>>26),O=N+(I^(T|~k))+C[7]+1126891415&4294967295,N=T+(O<<10&4294967295|O>>>22),O=k+(T^(N|~I))+C[14]+2878612391&4294967295,k=N+(O<<15&4294967295|O>>>17),O=I+(N^(k|~T))+C[5]+4237533241&4294967295,I=k+(O<<21&4294967295|O>>>11),O=T+(k^(I|~N))+C[12]+1700485571&4294967295,T=I+(O<<6&4294967295|O>>>26),O=N+(I^(T|~k))+C[3]+2399980690&4294967295,N=T+(O<<10&4294967295|O>>>22),O=k+(T^(N|~I))+C[10]+4293915773&4294967295,k=N+(O<<15&4294967295|O>>>17),O=I+(N^(k|~T))+C[1]+2240044497&4294967295,I=k+(O<<21&4294967295|O>>>11),O=T+(k^(I|~N))+C[8]+1873313359&4294967295,T=I+(O<<6&4294967295|O>>>26),O=N+(I^(T|~k))+C[15]+4264355552&4294967295,N=T+(O<<10&4294967295|O>>>22),O=k+(T^(N|~I))+C[6]+2734768916&4294967295,k=N+(O<<15&4294967295|O>>>17),O=I+(N^(k|~T))+C[13]+1309151649&4294967295,I=k+(O<<21&4294967295|O>>>11),O=T+(k^(I|~N))+C[4]+4149444226&4294967295,T=I+(O<<6&4294967295|O>>>26),O=N+(I^(T|~k))+C[11]+3174756917&4294967295,N=T+(O<<10&4294967295|O>>>22),O=k+(T^(N|~I))+C[2]+718787259&4294967295,k=N+(O<<15&4294967295|O>>>17),O=I+(N^(k|~T))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+N&4294967295}r.prototype.u=function(S,T){T===void 0&&(T=S.length);for(var I=T-this.blockSize,C=this.B,k=this.h,N=0;N<T;){if(k==0)for(;N<=I;)i(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<T;)if(C[k++]=S.charCodeAt(N++),k==this.blockSize){i(this,C),k=0;break}}else for(;N<T;)if(C[k++]=S[N++],k==this.blockSize){i(this,C),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;var I=8*this.o;for(T=S.length-8;T<S.length;++T)S[T]=I&255,I/=256;for(this.u(S),S=Array(16),T=I=0;4>T;++T)for(var C=0;32>C;C+=8)S[I++]=this.g[T]>>>C&255;return S};function o(S,T){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=T(S)}function s(S,T){this.h=T;for(var I=[],C=!0,k=S.length-1;0<=k;k--){var N=S[k]|0;C&&N==T||(I[k]=N,C=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?o(S,function(T){return new s([T|0],0>T?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return E(u(-S));for(var T=[],I=1,C=0;S>=I;C++)T[C]=S/I|0,I*=4294967296;return new s(T,0)}function c(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return E(c(S.substring(1),T));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(T,8)),C=h,k=0;k<S.length;k+=8){var N=Math.min(8,S.length-k),O=parseInt(S.substring(k,k+N),T);8>N?(N=u(Math.pow(T,N)),C=C.j(N).add(u(O))):(C=C.j(I),C=C.add(u(O)))}return C}var h=l(0),d=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(w(this))return-E(this).m();for(var S=0,T=1,I=0;I<this.g.length;I++){var C=this.i(I);S+=(0<=C?C:4294967296+C)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(w(this))return"-"+E(this).toString(S);for(var T=u(Math.pow(S,6)),I=this,C="";;){var k=x(I,T).g;I=y(I,k.j(T));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=k,g(I))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=y(this,S),w(S)?-1:g(S)?0:1};function E(S){for(var T=S.g.length,I=[],C=0;C<T;C++)I[C]=~S.g[C];return new s(I,~S.h).add(d)}t.abs=function(){return w(this)?E(this):this},t.add=function(S){for(var T=Math.max(this.g.length,S.g.length),I=[],C=0,k=0;k<=T;k++){var N=C+(this.i(k)&65535)+(S.i(k)&65535),O=(N>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);C=O>>>16,N&=65535,O&=65535,I[k]=O<<16|N}return new s(I,I[I.length-1]&-2147483648?-1:0)};function y(S,T){return S.add(E(T))}t.j=function(S){if(g(this)||g(S))return h;if(w(this))return w(S)?E(this).j(E(S)):E(E(this).j(S));if(w(S))return E(this.j(E(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var T=this.g.length+S.g.length,I=[],C=0;C<2*T;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<S.g.length;k++){var N=this.i(C)>>>16,O=this.i(C)&65535,ue=S.i(k)>>>16,Te=S.i(k)&65535;I[2*C+2*k]+=O*Te,v(I,2*C+2*k),I[2*C+2*k+1]+=N*Te,v(I,2*C+2*k+1),I[2*C+2*k+1]+=O*ue,v(I,2*C+2*k+1),I[2*C+2*k+2]+=N*ue,v(I,2*C+2*k+2)}for(C=0;C<T;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=T;C<2*T;C++)I[C]=0;return new s(I,0)};function v(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function b(S,T){this.g=S,this.h=T}function x(S,T){if(g(T))throw Error("division by zero");if(g(S))return new b(h,h);if(w(S))return T=x(E(S),T),new b(E(T.g),E(T.h));if(w(T))return T=x(S,E(T)),new b(E(T.g),T.h);if(30<S.g.length){if(w(S)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var I=d,C=T;0>=C.l(S);)I=R(I),C=R(C);var k=D(I,1),N=D(C,1);for(C=D(C,2),I=D(I,2);!g(C);){var O=N.add(C);0>=O.l(S)&&(k=k.add(I),N=O),C=D(C,1),I=D(I,1)}return T=y(S,k.j(T)),new b(k,T)}for(k=h;0<=S.l(T);){for(I=Math.max(1,Math.floor(S.m()/T.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=u(I),O=N.j(T);w(O)||0<O.l(S);)I-=C,N=u(I),O=N.j(T);g(N)&&(N=d),k=k.add(N),S=y(S,O)}return new b(k,S)}t.A=function(S){return x(this,S).h},t.and=function(S){for(var T=Math.max(this.g.length,S.g.length),I=[],C=0;C<T;C++)I[C]=this.i(C)&S.i(C);return new s(I,this.h&S.h)},t.or=function(S){for(var T=Math.max(this.g.length,S.g.length),I=[],C=0;C<T;C++)I[C]=this.i(C)|S.i(C);return new s(I,this.h|S.h)},t.xor=function(S){for(var T=Math.max(this.g.length,S.g.length),I=[],C=0;C<T;C++)I[C]=this.i(C)^S.i(C);return new s(I,this.h^S.h)};function R(S){for(var T=S.g.length+1,I=[],C=0;C<T;C++)I[C]=S.i(C)<<1|S.i(C-1)>>>31;return new s(I,S.h)}function D(S,T){var I=T>>5;T%=32;for(var C=S.g.length-I,k=[],N=0;N<C;N++)k[N]=0<T?S.i(N+I)>>>T|S.i(N+I+1)<<32-T:S.i(N+I);return new s(k,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_C=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,po=s}).apply(typeof Mb<"u"?Mb:typeof self<"u"?self:typeof window<"u"?window:{});var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wC,tu,EC,ah,Fy,bC,TC,SC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,m,_){return f==Array.prototype||f==Object.prototype||(f[m]=_.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Af=="object"&&Af];for(var m=0;m<f.length;++m){var _=f[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(f,m){if(m)e:{var _=r;f=f.split(".");for(var A=0;A<f.length-1;A++){var L=f[A];if(!(L in _))break e;_=_[L]}f=f[f.length-1],A=_[f],m=m(A),m!=A&&m!=null&&e(_,f,{configurable:!0,writable:!0,value:m})}}function o(f,m){f instanceof String&&(f+="");var _=0,A=!1,L={next:function(){if(!A&&_<f.length){var j=_++;return{value:m(j,f[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(f){return f||function(){return o(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(f){var m=typeof f;return m=m!="object"?m:f?Array.isArray(f)?"array":m:"null",m=="array"||m=="object"&&typeof f.length=="number"}function u(f){var m=typeof f;return m=="object"&&f!=null||m=="function"}function c(f,m,_){return f.call.apply(f.bind,arguments)}function h(f,m,_){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),f.apply(m,L)}}return function(){return f.apply(m,arguments)}}function d(f,m,_){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,d.apply(null,arguments)}function p(f,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function g(f,m){function _(){}_.prototype=m.prototype,f.aa=m.prototype,f.prototype=new _,f.prototype.constructor=f,f.Qb=function(A,L,j){for(var K=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)K[Re-2]=arguments[Re];return m.prototype[L].apply(A,K)}}function w(f){const m=f.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=f[A];return _}return[]}function E(f,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(l(A)){const L=f.length||0,j=A.length||0;f.length=L+j;for(let K=0;K<j;K++)f[L+K]=A[K]}else f.push(A)}}class y{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function v(f){return/^[\s\xa0]*$/.test(f)}function b(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function x(f){return x[" "](f),f}x[" "]=function(){};var R=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function D(f,m,_){for(const A in f)m.call(_,f[A],A,f)}function S(f,m){for(const _ in f)m.call(void 0,f[_],_,f)}function T(f){const m={};for(const _ in f)m[_]=f[_];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(f,m){let _,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(_ in A)f[_]=A[_];for(let j=0;j<I.length;j++)_=I[j],Object.prototype.hasOwnProperty.call(A,_)&&(f[_]=A[_])}}function k(f){var m=1;f=f.split(":");const _=[];for(;0<m&&f.length;)_.push(f.shift()),m--;return f.length&&_.push(f.join(":")),_}function N(f){a.setTimeout(()=>{throw f},0)}function O(){var f=J;let m=null;return f.g&&(m=f.g,f.g=f.g.next,f.g||(f.h=null),m.next=null),m}class ue{constructor(){this.h=this.g=null}add(m,_){const A=Te.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Te=new y(()=>new ne,f=>f.reset());class ne{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,W=!1,J=new ue,te=()=>{const f=a.Promise.resolve(void 0);ye=()=>{f.then(_e)}};var _e=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(_){N(_)}var m=Te;m.j(f),100>m.h&&(m.h++,f.next=m.g,m.g=f)}W=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Oe(f,m){this.type=f,this.g=this.target=m,this.defaultPrevented=!1}Oe.prototype.h=function(){this.defaultPrevented=!0};var Nt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,m=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const _=()=>{};a.addEventListener("test",_,m),a.removeEventListener("test",_,m)}catch{}return f}();function je(f,m){if(Oe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var _=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=m,m=f.relatedTarget){if(R){e:{try{x(m.nodeName);var L=!0;break e}catch{}L=!1}L||(m=null)}}else _=="mouseover"?m=f.fromElement:_=="mouseout"&&(m=f.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:bn[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&je.aa.h.call(this)}}g(je,Oe);var bn={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var fn="closure_listenable_"+(1e6*Math.random()|0),_l=0;function q(f,m,_,A,L){this.listener=f,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=L,this.key=++_l,this.da=this.fa=!1}function fe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function he(f){this.src=f,this.g={},this.h=0}he.prototype.add=function(f,m,_,A,L){var j=f.toString();f=this.g[j],f||(f=this.g[j]=[],this.h++);var K=Je(f,m,A,L);return-1<K?(m=f[K],_||(m.fa=!1)):(m=new q(m,this.src,j,!!A,L),m.fa=_,f.push(m)),m};function B(f,m){var _=m.type;if(_ in f.g){var A=f.g[_],L=Array.prototype.indexOf.call(A,m,void 0),j;(j=0<=L)&&Array.prototype.splice.call(A,L,1),j&&(fe(m),f.g[_].length==0&&(delete f.g[_],f.h--))}}function Je(f,m,_,A){for(var L=0;L<f.length;++L){var j=f[L];if(!j.da&&j.listener==m&&j.capture==!!_&&j.ha==A)return L}return-1}var we="closure_lm_"+(1e6*Math.random()|0),nt={};function dt(f,m,_,A,L){if(Array.isArray(m)){for(var j=0;j<m.length;j++)dt(f,m[j],_,A,L);return null}return _=wl(_),f&&f[fn]?f.K(m,_,u(A)?!!A.capture:!1,L):Tn(f,m,_,!1,A,L)}function Tn(f,m,_,A,L,j){if(!m)throw Error("Invalid event type");var K=u(L)?!!L.capture:!!L,Re=Vs(f);if(Re||(f[we]=Re=new he(f)),_=Re.add(m,_,A,K,j),_.proxy)return _;if(A=Mo(),_.proxy=A,A.src=f,A.listener=_,f.addEventListener)Nt||(L=K),L===void 0&&(L=!1),f.addEventListener(m.toString(),A,L);else if(f.attachEvent)f.attachEvent(Ls(m.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Mo(){function f(_){return m.call(f.src,f.listener,_)}const m=$c;return f}function Ds(f,m,_,A,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)Ds(f,m[j],_,A,L);else A=u(A)?!!A.capture:!!A,_=wl(_),f&&f[fn]?(f=f.i,m=String(m).toString(),m in f.g&&(j=f.g[m],_=Je(j,_,A,L),-1<_&&(fe(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete f.g[m],f.h--)))):f&&(f=Vs(f))&&(m=f.g[m.toString()],f=-1,m&&(f=Je(m,_,A,L)),(_=-1<f?m[f]:null)&&Ms(_))}function Ms(f){if(typeof f!="number"&&f&&!f.da){var m=f.src;if(m&&m[fn])B(m.i,f);else{var _=f.type,A=f.proxy;m.removeEventListener?m.removeEventListener(_,A,f.capture):m.detachEvent?m.detachEvent(Ls(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Vs(m))?(B(_,f),_.h==0&&(_.src=null,m[we]=null)):fe(f)}}}function Ls(f){return f in nt?nt[f]:nt[f]="on"+f}function $c(f,m){if(f.da)f=!0;else{m=new je(m,this);var _=f.listener,A=f.ha||f.src;f.fa&&Ms(f),f=_.call(A,m)}return f}function Vs(f){return f=f[we],f instanceof he?f:null}var js="__closure_events_fn_"+(1e9*Math.random()>>>0);function wl(f){return typeof f=="function"?f:(f[js]||(f[js]=function(m){return f.handleEvent(m)}),f[js])}function st(){H.call(this),this.i=new he(this),this.M=this,this.F=null}g(st,H),st.prototype[fn]=!0,st.prototype.removeEventListener=function(f,m,_,A){Ds(this,f,m,_,A)};function St(f,m){var _,A=f.F;if(A)for(_=[];A;A=A.F)_.push(A);if(f=f.M,A=m.type||m,typeof m=="string")m=new Oe(m,f);else if(m instanceof Oe)m.target=m.target||f;else{var L=m;m=new Oe(A,f),C(m,L)}if(L=!0,_)for(var j=_.length-1;0<=j;j--){var K=m.g=_[j];L=Oi(K,A,!0,m)&&L}if(K=m.g=f,L=Oi(K,A,!0,m)&&L,L=Oi(K,A,!1,m)&&L,_)for(j=0;j<_.length;j++)K=m.g=_[j],L=Oi(K,A,!1,m)&&L}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var f=this.i,m;for(m in f.g){for(var _=f.g[m],A=0;A<_.length;A++)fe(_[A]);delete f.g[m],f.h--}}this.F=null},st.prototype.K=function(f,m,_,A){return this.i.add(String(f),m,!1,_,A)},st.prototype.L=function(f,m,_,A){return this.i.add(String(f),m,!0,_,A)};function Oi(f,m,_,A){if(m=f.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,j=0;j<m.length;++j){var K=m[j];if(K&&!K.da&&K.capture==_){var Re=K.listener,Mt=K.ha||K.src;K.fa&&B(f.i,K),L=Re.call(Mt,A)!==!1&&L}}return L&&!A.defaultPrevented}function El(f,m,_){if(typeof f=="function")_&&(f=d(f,_));else if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(f,m||0)}function $s(f){f.g=El(()=>{f.g=null,f.i&&(f.i=!1,$s(f))},f.l);const m=f.h;f.h=null,f.m.apply(null,m)}class Fc extends H{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$s(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ri(f){H.call(this),this.h=f,this.g={}}g(Ri,H);var bl=[];function Ni(f){D(f.g,function(m,_){this.g.hasOwnProperty(_)&&Ms(m)},f),f.g={}}Ri.prototype.N=function(){Ri.aa.N.call(this),Ni(this)},Ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fs=a.JSON.stringify,Tl=a.JSON.parse,Uc=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Di(){}Di.prototype.h=null;function Bc(f){return f.h||(f.h=f.i())}function Ke(){}var Hr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sl(){Oe.call(this,"d")}g(Sl,Oe);function Al(){Oe.call(this,"c")}g(Al,Oe);var Ar={},zc=null;function Mi(){return zc=zc||new st}Ar.La="serverreachability";function Wc(f){Oe.call(this,Ar.La,f)}g(Wc,Oe);function Lo(f){const m=Mi();St(m,new Wc(m))}Ar.STAT_EVENT="statevent";function Kc(f,m){Oe.call(this,Ar.STAT_EVENT,f),this.stat=m}g(Kc,Oe);function Dt(f){const m=Mi();St(m,new Kc(m,f))}Ar.Ma="timingevent";function Hc(f,m){Oe.call(this,Ar.Ma,f),this.size=m}g(Hc,Oe);function V(f,m){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},m)}function re(){this.g=!0}re.prototype.xa=function(){this.g=!1};function ae(f,m,_,A,L,j){f.info(function(){if(f.g)if(j)for(var K="",Re=j.split("&"),Mt=0;Mt<Re.length;Mt++){var Se=Re[Mt].split("=");if(1<Se.length){var Kt=Se[0];Se=Se[1];var Ht=Kt.split("_");K=2<=Ht.length&&Ht[1]=="type"?K+(Kt+"="+Se+"&"):K+(Kt+"=redacted&")}}else K=null;else K=j;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+_+`
`+K})}function Pe(f,m,_,A,L,j,K){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+_+`
`+j+" "+K})}function Ee(f,m,_,A){f.info(function(){return"XMLHTTP TEXT ("+m+"): "+qr(f,_)+(A?" "+A:"")})}function pt(f,m){f.info(function(){return"TIMEOUT: "+m})}re.prototype.info=function(){};function qr(f,m){if(!f.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(f=0;f<_.length;f++)if(Array.isArray(_[f])){var A=_[f];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var K=1;K<L.length;K++)L[K]=""}}}}return Fs(_)}catch{return m}}var Us={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pl;function Bs(){}g(Bs,Di),Bs.prototype.g=function(){return new XMLHttpRequest},Bs.prototype.i=function(){return{}},Pl=new Bs;function Pr(f,m,_,A){this.j=f,this.i=m,this.l=_,this.R=A||1,this.U=new Ri(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var zn={},Wn={};function gm(f,m,_){f.L=1,f.v=Xc(Gr(m)),f.m=_,f.P=!0,mE(f,null)}function mE(f,m){f.F=Date.now(),Gc(f),f.A=Gr(f.v);var _=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),CE(_.i,"t",A),f.C=0,_=f.j.J,f.h=new mt,f.g=qE(f.j,_?m:null,!f.m),0<f.O&&(f.M=new Fc(d(f.Y,f,f.g),f.O)),m=f.U,_=f.g,A=f.ca;var L="readystatechange";Array.isArray(L)||(L&&(bl[0]=L.toString()),L=bl);for(var j=0;j<L.length;j++){var K=dt(_,L[j],A||m.handleEvent,!1,m.h||m);if(!K)break;m.g[K.key]=K}m=f.H?T(f.H):{},f.m?(f.u||(f.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,m)):(f.u="GET",f.g.ea(f.A,f.u,null,m)),Lo(),ae(f.i,f.u,f.A,f.l,f.R,f.m)}Pr.prototype.ca=function(f){f=f.target;const m=this.M;m&&Yr(f)==3?m.j():this.Y(f)},Pr.prototype.Y=function(f){try{if(f==this.g)e:{const Ht=Yr(this.g);var m=this.g.Ba();const Ks=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||LE(this.g)))){this.J||Ht!=4||m==7||(m==8||0>=Ks?Lo(3):Lo(2)),ym(this);var _=this.g.Z();this.X=_;t:if(gE(this)){var A=LE(this.g);f="";var L=A.length,j=Yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vo(this),Il(this);var K="";break t}this.h.i=new a.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,f+=this.h.i.decode(A[m],{stream:!(j&&m==L-1)});A.length=0,this.h.g+=f,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=_==200,Pe(this.i,this.u,this.A,this.l,this.R,Ht,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,Mt=this.g;if((Re=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Re)){var Se=Re;break t}}Se=null}if(_=Se)Ee(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vm(this,_);else{this.o=!1,this.s=3,Dt(12),Vo(this),Il(this);break e}}if(this.P){_=!0;let cr;for(;!this.J&&this.C<K.length;)if(cr=UD(this,K),cr==Wn){Ht==4&&(this.s=4,Dt(14),_=!1),Ee(this.i,this.l,null,"[Incomplete Response]");break}else if(cr==zn){this.s=4,Dt(15),Ee(this.i,this.l,K,"[Invalid Chunk]"),_=!1;break}else Ee(this.i,this.l,cr,null),vm(this,cr);if(gE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||K.length!=0||this.h.h||(this.s=1,Dt(16),_=!1),this.o=this.o&&_,!_)Ee(this.i,this.l,K,"[Invalid Chunked Response]"),Vo(this),Il(this);else if(0<K.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Sm(Kt),Kt.M=!0,Dt(11))}}else Ee(this.i,this.l,K,null),vm(this,K);Ht==4&&Vo(this),this.o&&!this.J&&(Ht==4?zE(this.j,this):(this.o=!1,Gc(this)))}else iM(this.g),_==400&&0<K.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Vo(this),Il(this)}}}catch{}finally{}};function gE(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function UD(f,m){var _=f.C,A=m.indexOf(`
`,_);return A==-1?Wn:(_=Number(m.substring(_,A)),isNaN(_)?zn:(A+=1,A+_>m.length?Wn:(m=m.slice(A,A+_),f.C=A+_,m)))}Pr.prototype.cancel=function(){this.J=!0,Vo(this)};function Gc(f){f.S=Date.now()+f.I,yE(f,f.I)}function yE(f,m){if(f.B!=null)throw Error("WatchDog timer not null");f.B=V(d(f.ba,f),m)}function ym(f){f.B&&(a.clearTimeout(f.B),f.B=null)}Pr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(pt(this.i,this.A),this.L!=2&&(Lo(),Dt(17)),Vo(this),this.s=2,Il(this)):yE(this,this.S-f)};function Il(f){f.j.G==0||f.J||zE(f.j,f)}function Vo(f){ym(f);var m=f.M;m&&typeof m.ma=="function"&&m.ma(),f.M=null,Ni(f.U),f.g&&(m=f.g,f.g=null,m.abort(),m.ma())}function vm(f,m){try{var _=f.j;if(_.G!=0&&(_.g==f||_m(_.h,f))){if(!f.K&&_m(_.h,f)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<f.F)rf(_),tf(_);else break e;Tm(_),Dt(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=V(d(_.Za,_),6e3));if(1>=wE(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else $o(_,11)}else if((f.K||_.g==f)&&rf(_),!v(m))for(L=_.Da.g.parse(m),m=0;m<L.length;m++){let Se=L[m];if(_.T=Se[0],Se=Se[1],_.G==2)if(Se[0]=="c"){_.K=Se[1],_.ia=Se[2];const Kt=Se[3];Kt!=null&&(_.la=Kt,_.j.info("VER="+_.la));const Ht=Se[4];Ht!=null&&(_.Aa=Ht,_.j.info("SVER="+_.Aa));const Ks=Se[5];Ks!=null&&typeof Ks=="number"&&0<Ks&&(A=1.5*Ks,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const cr=f.g;if(cr){const sf=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sf){var j=A.h;j.g||sf.indexOf("spdy")==-1&&sf.indexOf("quic")==-1&&sf.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(wm(j,j.h),j.h=null))}if(A.D){const Am=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Am&&(A.ya=Am,$e(A.I,A.D,Am))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-f.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var K=f;if(A.qa=HE(A,A.J?A.ia:null,A.W),K.K){EE(A.h,K);var Re=K,Mt=A.L;Mt&&(Re.I=Mt),Re.B&&(ym(Re),Gc(Re)),A.g=K}else UE(A);0<_.i.length&&nf(_)}else Se[0]!="stop"&&Se[0]!="close"||$o(_,7);else _.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?$o(_,7):bm(_):Se[0]!="noop"&&_.l&&_.l.ta(Se),_.v=0)}}Lo(4)}catch{}}var BD=class{constructor(f,m){this.g=f,this.map=m}};function vE(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _E(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function wE(f){return f.h?1:f.g?f.g.size:0}function _m(f,m){return f.h?f.h==m:f.g?f.g.has(m):!1}function wm(f,m){f.g?f.g.add(m):f.h=m}function EE(f,m){f.h&&f.h==m?f.h=null:f.g&&f.g.has(m)&&f.g.delete(m)}vE.prototype.cancel=function(){if(this.i=bE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function bE(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let m=f.i;for(const _ of f.g.values())m=m.concat(_.D);return m}return w(f.i)}function zD(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var m=[],_=f.length,A=0;A<_;A++)m.push(f[A]);return m}m=[],_=0;for(A in f)m[_++]=f[A];return m}function WD(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var m=[];f=f.length;for(var _=0;_<f;_++)m.push(_);return m}m=[],_=0;for(const A in f)m[_++]=A;return m}}}function TE(f,m){if(f.forEach&&typeof f.forEach=="function")f.forEach(m,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,m,void 0);else for(var _=WD(f),A=zD(f),L=A.length,j=0;j<L;j++)m.call(void 0,A[j],_&&_[j],f)}var SE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KD(f,m){if(f){f=f.split("&");for(var _=0;_<f.length;_++){var A=f[_].indexOf("="),L=null;if(0<=A){var j=f[_].substring(0,A);L=f[_].substring(A+1)}else j=f[_];m(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function jo(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof jo){this.h=f.h,Yc(this,f.j),this.o=f.o,this.g=f.g,Qc(this,f.s),this.l=f.l;var m=f.i,_=new kl;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),AE(this,_),this.m=f.m}else f&&(m=String(f).match(SE))?(this.h=!1,Yc(this,m[1]||"",!0),this.o=xl(m[2]||""),this.g=xl(m[3]||"",!0),Qc(this,m[4]),this.l=xl(m[5]||"",!0),AE(this,m[6]||"",!0),this.m=xl(m[7]||"")):(this.h=!1,this.i=new kl(null,this.h))}jo.prototype.toString=function(){var f=[],m=this.j;m&&f.push(Cl(m,PE,!0),":");var _=this.g;return(_||m=="file")&&(f.push("//"),(m=this.o)&&f.push(Cl(m,PE,!0),"@"),f.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&f.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&f.push("/"),f.push(Cl(_,_.charAt(0)=="/"?GD:qD,!0))),(_=this.i.toString())&&f.push("?",_),(_=this.m)&&f.push("#",Cl(_,QD)),f.join("")};function Gr(f){return new jo(f)}function Yc(f,m,_){f.j=_?xl(m,!0):m,f.j&&(f.j=f.j.replace(/:$/,""))}function Qc(f,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);f.s=m}else f.s=null}function AE(f,m,_){m instanceof kl?(f.i=m,XD(f.i,f.h)):(_||(m=Cl(m,YD)),f.i=new kl(m,f.h))}function $e(f,m,_){f.i.set(m,_)}function Xc(f){return $e(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function xl(f,m){return f?m?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Cl(f,m,_){return typeof f=="string"?(f=encodeURI(f).replace(m,HD),_&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function HD(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var PE=/[#\/\?@]/g,qD=/[#\?:]/g,GD=/[#\?]/g,YD=/[#\?@]/g,QD=/#/g;function kl(f,m){this.h=this.g=null,this.i=f||null,this.j=!!m}function Li(f){f.g||(f.g=new Map,f.h=0,f.i&&KD(f.i,function(m,_){f.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=kl.prototype,t.add=function(f,m){Li(this),this.i=null,f=zs(this,f);var _=this.g.get(f);return _||this.g.set(f,_=[]),_.push(m),this.h+=1,this};function IE(f,m){Li(f),m=zs(f,m),f.g.has(m)&&(f.i=null,f.h-=f.g.get(m).length,f.g.delete(m))}function xE(f,m){return Li(f),m=zs(f,m),f.g.has(m)}t.forEach=function(f,m){Li(this),this.g.forEach(function(_,A){_.forEach(function(L){f.call(m,L,A,this)},this)},this)},t.na=function(){Li(this);const f=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const L=f[A];for(let j=0;j<L.length;j++)_.push(m[A])}return _},t.V=function(f){Li(this);let m=[];if(typeof f=="string")xE(this,f)&&(m=m.concat(this.g.get(zs(this,f))));else{f=Array.from(this.g.values());for(let _=0;_<f.length;_++)m=m.concat(f[_])}return m},t.set=function(f,m){return Li(this),this.i=null,f=zs(this,f),xE(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[m]),this.h+=1,this},t.get=function(f,m){return f?(f=this.V(f),0<f.length?String(f[0]):m):m};function CE(f,m,_){IE(f,m),0<_.length&&(f.i=null,f.g.set(zs(f,m),w(_)),f.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const j=encodeURIComponent(String(A)),K=this.V(A);for(A=0;A<K.length;A++){var L=j;K[A]!==""&&(L+="="+encodeURIComponent(String(K[A]))),f.push(L)}}return this.i=f.join("&")};function zs(f,m){return m=String(m),f.j&&(m=m.toLowerCase()),m}function XD(f,m){m&&!f.j&&(Li(f),f.i=null,f.g.forEach(function(_,A){var L=A.toLowerCase();A!=L&&(IE(this,A),CE(this,L,_))},f)),f.j=m}function JD(f,m){const _=new re;if(a.Image){const A=new Image;A.onload=p(Vi,_,"TestLoadImage: loaded",!0,m,A),A.onerror=p(Vi,_,"TestLoadImage: error",!1,m,A),A.onabort=p(Vi,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=p(Vi,_,"TestLoadImage: timeout",!1,m,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else m(!1)}function ZD(f,m){const _=new re,A=new AbortController,L=setTimeout(()=>{A.abort(),Vi(_,"TestPingServer: timeout",!1,m)},1e4);fetch(f,{signal:A.signal}).then(j=>{clearTimeout(L),j.ok?Vi(_,"TestPingServer: ok",!0,m):Vi(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Vi(_,"TestPingServer: error",!1,m)})}function Vi(f,m,_,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(_)}catch{}}function eM(){this.g=new Uc}function tM(f,m,_){const A=_||"";try{TE(f,function(L,j){let K=L;u(L)&&(K=Fs(L)),m.push(A+j+"="+encodeURIComponent(K))})}catch(L){throw m.push(A+"type="+encodeURIComponent("_badmap")),L}}function Jc(f){this.l=f.Ub||null,this.j=f.eb||!1}g(Jc,Di),Jc.prototype.g=function(){return new Zc(this.l,this.j)},Jc.prototype.i=function(f){return function(){return f}}({});function Zc(f,m){st.call(this),this.D=f,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Zc,st),t=Zc.prototype,t.open=function(f,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=m,this.readyState=1,Rl(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(m.body=f),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ol(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Rl(this)),this.g&&(this.readyState=3,Rl(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kE(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function kE(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var m=f.value?f.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!f.done}))&&(this.response=this.responseText+=m)}f.done?Ol(this):Rl(this),this.readyState==3&&kE(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Ol(this))},t.Qa=function(f){this.g&&(this.response=f,Ol(this))},t.ga=function(){this.g&&Ol(this)};function Ol(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Rl(f)}t.setRequestHeader=function(f,m){this.u.append(f,m)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,f.push(_[0]+": "+_[1]),_=m.next();return f.join(`\r
`)};function Rl(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Zc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function OE(f){let m="";return D(f,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Em(f,m,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=OE(_),typeof f=="string"?_!=null&&encodeURIComponent(String(_)):$e(f,m,_))}function Ze(f){st.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Ze,st);var nM=/^https?$/i,rM=["POST","PUT"];t=Ze.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);m=m?m.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pl.g(),this.v=this.o?Bc(this.o):Bc(Pl),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(m,String(f),!0),this.B=!1}catch(j){RE(this,j);return}if(f=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)_.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())_.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),L=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(rM,m,void 0))||A||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,K]of _)this.g.setRequestHeader(j,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ME(this),this.u=!0,this.g.send(f),this.u=!1}catch(j){RE(this,j)}};function RE(f,m){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=m,f.m=5,NE(f),ef(f)}function NE(f){f.A||(f.A=!0,St(f,"complete"),St(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,St(this,"complete"),St(this,"abort"),ef(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ef(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?DE(this):this.bb())},t.bb=function(){DE(this)};function DE(f){if(f.h&&typeof s<"u"&&(!f.v[1]||Yr(f)!=4||f.Z()!=2)){if(f.u&&Yr(f)==4)El(f.Ea,0,f);else if(St(f,"readystatechange"),Yr(f)==4){f.h=!1;try{const K=f.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var A;if(A=K===0){var L=String(f.D).match(SE)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),A=!nM.test(L?L.toLowerCase():"")}_=A}if(_)St(f,"complete"),St(f,"success");else{f.m=6;try{var j=2<Yr(f)?f.g.statusText:""}catch{j=""}f.l=j+" ["+f.Z()+"]",NE(f)}}finally{ef(f)}}}}function ef(f,m){if(f.g){ME(f);const _=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,m||St(f,"ready");try{_.onreadystatechange=A}catch{}}}function ME(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Yr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var m=this.g.responseText;return f&&m.indexOf(f)==0&&(m=m.substring(f.length)),Tl(m)}};function LE(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function iM(f){const m={};f=(f.g&&2<=Yr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(v(f[A]))continue;var _=k(f[A]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=m[L]||[];m[L]=j,j.push(_)}S(m,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nl(f,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[f]||m}function VE(f){this.Aa=0,this.i=[],this.j=new re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nl("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nl("baseRetryDelayMs",5e3,f),this.cb=Nl("retryDelaySeedMs",1e4,f),this.Wa=Nl("forwardChannelMaxRetries",2,f),this.wa=Nl("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new vE(f&&f.concurrentRequestLimit),this.Da=new eM,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=VE.prototype,t.la=8,t.G=1,t.connect=function(f,m,_,A){Dt(0),this.W=f,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=HE(this,null,this.W),nf(this)};function bm(f){if(jE(f),f.G==3){var m=f.U++,_=Gr(f.I);if($e(_,"SID",f.K),$e(_,"RID",m),$e(_,"TYPE","terminate"),Dl(f,_),m=new Pr(f,f.j,m),m.L=2,m.v=Xc(Gr(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=m.v,_=!0),_||(m.g=qE(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Gc(m)}KE(f)}function tf(f){f.g&&(Sm(f),f.g.cancel(),f.g=null)}function jE(f){tf(f),f.u&&(a.clearTimeout(f.u),f.u=null),rf(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function nf(f){if(!_E(f.h)&&!f.s){f.s=!0;var m=f.Ga;ye||te(),W||(ye(),W=!0),J.add(m,f),f.B=0}}function oM(f,m){return wE(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=m.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=V(d(f.Ga,f,m),WE(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const L=new Pr(this,this.j,f);let j=this.o;if(this.S&&(j?(j=T(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=FE(this,L,m),_=Gr(this.I),$e(_,"RID",f),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),Dl(this,_),j&&(this.O?m="headers="+encodeURIComponent(String(OE(j)))+"&"+m:this.m&&Em(_,this.m,j)),wm(this.h,L),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",m),$e(_,"SID","null"),L.T=!0,gm(L,_,null)):gm(L,_,m),this.G=2}}else this.G==3&&(f?$E(this,f):this.i.length==0||_E(this.h)||$E(this))};function $E(f,m){var _;m?_=m.l:_=f.U++;const A=Gr(f.I);$e(A,"SID",f.K),$e(A,"RID",_),$e(A,"AID",f.T),Dl(f,A),f.m&&f.o&&Em(A,f.m,f.o),_=new Pr(f,f.j,_,f.B+1),f.m===null&&(_.H=f.o),m&&(f.i=m.D.concat(f.i)),m=FE(f,_,1e3),_.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),wm(f.h,_),gm(_,A,m)}function Dl(f,m){f.H&&D(f.H,function(_,A){$e(m,A,_)}),f.l&&TE({},function(_,A){$e(m,A,_)})}function FE(f,m,_){_=Math.min(f.i.length,_);var A=f.l?d(f.l.Na,f.l,f):null;e:{var L=f.i;let j=-1;for(;;){const K=["count="+_];j==-1?0<_?(j=L[0].g,K.push("ofs="+j)):j=0:K.push("ofs="+j);let Re=!0;for(let Mt=0;Mt<_;Mt++){let Se=L[Mt].g;const Kt=L[Mt].map;if(Se-=j,0>Se)j=Math.max(0,L[Mt].g-100),Re=!1;else try{tM(Kt,K,"req"+Se+"_")}catch{A&&A(Kt)}}if(Re){A=K.join("&");break e}}}return f=f.i.splice(0,_),m.D=f,A}function UE(f){if(!f.g&&!f.u){f.Y=1;var m=f.Fa;ye||te(),W||(ye(),W=!0),J.add(m,f),f.v=0}}function Tm(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=V(d(f.Fa,f),WE(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,BE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=V(d(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),tf(this),BE(this))};function Sm(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function BE(f){f.g=new Pr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var m=Gr(f.qa);$e(m,"RID","rpc"),$e(m,"SID",f.K),$e(m,"AID",f.T),$e(m,"CI",f.F?"0":"1"),!f.F&&f.ja&&$e(m,"TO",f.ja),$e(m,"TYPE","xmlhttp"),Dl(f,m),f.m&&f.o&&Em(m,f.m,f.o),f.L&&(f.g.I=f.L);var _=f.g;f=f.ia,_.L=1,_.v=Xc(Gr(m)),_.m=null,_.P=!0,mE(_,f)}t.Za=function(){this.C!=null&&(this.C=null,tf(this),Tm(this),Dt(19))};function rf(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function zE(f,m){var _=null;if(f.g==m){rf(f),Sm(f),f.g=null;var A=2}else if(_m(f.h,m))_=m.D,EE(f.h,m),A=1;else return;if(f.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var L=f.B;A=Mi(),St(A,new Hc(A,_)),nf(f)}else UE(f);else if(L=m.s,L==3||L==0&&0<m.X||!(A==1&&oM(f,m)||A==2&&Tm(f)))switch(_&&0<_.length&&(m=f.h,m.i=m.i.concat(_)),L){case 1:$o(f,5);break;case 4:$o(f,10);break;case 3:$o(f,6);break;default:$o(f,2)}}}function WE(f,m){let _=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(_*=2),_*m}function $o(f,m){if(f.j.info("Error code "+m),m==2){var _=d(f.fb,f),A=f.Xa;const L=!A;A=new jo(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Yc(A,"https"),Xc(A),L?JD(A.toString(),_):ZD(A.toString(),_)}else Dt(2);f.G=0,f.l&&f.l.sa(m),KE(f),jE(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function KE(f){if(f.G=0,f.ka=[],f.l){const m=bE(f.h);(m.length!=0||f.i.length!=0)&&(E(f.ka,m),E(f.ka,f.i),f.h.i.length=0,w(f.i),f.i.length=0),f.l.ra()}}function HE(f,m,_){var A=_ instanceof jo?Gr(_):new jo(_);if(A.g!="")m&&(A.g=m+"."+A.g),Qc(A,A.s);else{var L=a.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var j=new jo(null);A&&Yc(j,A),m&&(j.g=m),L&&Qc(j,L),_&&(j.l=_),A=j}return _=f.D,m=f.ya,_&&m&&$e(A,_,m),$e(A,"VER",f.la),Dl(f,A),A}function qE(f,m,_){if(m&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=f.Ca&&!f.pa?new Ze(new Jc({eb:_})):new Ze(f.pa),m.Ha(f.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function GE(){}t=GE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function of(){}of.prototype.g=function(f,m){return new Sn(f,m)};function Sn(f,m){st.call(this),this.g=new VE(m),this.l=f,this.h=m&&m.messageUrlParams||null,f=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(f?f["X-WebChannel-Content-Type"]=m.messageContentType:f={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(f?f["X-WebChannel-Client-Profile"]=m.va:f={"X-WebChannel-Client-Profile":m.va}),this.g.S=f,(f=m&&m.Sb)&&!v(f)&&(this.g.m=f),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!v(m)&&(this.g.D=m,f=this.h,f!==null&&m in f&&(f=this.h,m in f&&delete f[m])),this.j=new Ws(this)}g(Sn,st),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){bm(this.g)},Sn.prototype.o=function(f){var m=this.g;if(typeof f=="string"){var _={};_.__data__=f,f=_}else this.u&&(_={},_.__data__=Fs(f),f=_);m.i.push(new BD(m.Ya++,f)),m.G==3&&nf(m)},Sn.prototype.N=function(){this.g.l=null,delete this.j,bm(this.g),delete this.g,Sn.aa.N.call(this)};function YE(f){Sl.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var m=f.__sm__;if(m){e:{for(const _ in m){f=_;break e}f=void 0}(this.i=f)&&(f=this.i,m=m!==null&&f in m?m[f]:void 0),this.data=m}else this.data=f}g(YE,Sl);function QE(){Al.call(this),this.status=1}g(QE,Al);function Ws(f){this.g=f}g(Ws,GE),Ws.prototype.ua=function(){St(this.g,"a")},Ws.prototype.ta=function(f){St(this.g,new YE(f))},Ws.prototype.sa=function(f){St(this.g,new QE)},Ws.prototype.ra=function(){St(this.g,"b")},of.prototype.createWebChannel=of.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,SC=function(){return new of},TC=function(){return Mi()},bC=Ar,Fy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Us.NO_ERROR=0,Us.TIMEOUT=8,Us.HTTP_ERROR=6,ah=Us,qc.COMPLETE="complete",EC=qc,Ke.EventType=Hr,Hr.OPEN="a",Hr.CLOSE="b",Hr.ERROR="c",Hr.MESSAGE="d",st.prototype.listen=st.prototype.K,tu=Ke,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,wC=Ze}).apply(typeof Af<"u"?Af:typeof self<"u"?self:typeof window<"u"?window:{});const Lb="@firebase/firestore",Vb="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new B0("@firebase/firestore");function Qs(){return vs.logLevel}function G(t,...e){if(vs.logLevel<=pe.DEBUG){const n=e.map(Z0);vs.debug(`Firestore (${ol}): ${t}`,...n)}}function vi(t,...e){if(vs.logLevel<=pe.ERROR){const n=e.map(Z0);vs.error(`Firestore (${ol}): ${t}`,...n)}}function La(t,...e){if(vs.logLevel<=pe.WARN){const n=e.map(Z0);vs.warn(`Firestore (${ol}): ${t}`,...n)}}function Z0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,AC(t,r,n)}function AC(t,e,n){let r=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw vi(r),new Error(r)}function Ie(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||AC(e,i,r)}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class m6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class g6{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new rs,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new rs)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new PC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class y6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class v6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new y6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);const r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=w6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function Uy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return sg(i)===sg(o)?me(i,o):sg(i)?1:-1}return me(t.length,e.length)}const E6=55296,b6=57343;function sg(t){const e=t.charCodeAt(0);return e>=E6&&e<=b6}function Va(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="__name__";class Cr{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Cr.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return me(e.length,n.length)}static compareSegments(e,n){const r=Cr.isNumericId(e),i=Cr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Cr.extractNumericId(e).compare(Cr.extractNumericId(n)):Uy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return po.fromString(e.substring(4,e.length-2))}}class Le extends Cr{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const T6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Cr{construct(e,n,r){return new Ft(e,n,r)}static isValidIdentifier(e){return T6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$b}static keyField(){return new Ft([$b])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Y(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Le.fromString(e))}static fromName(e){return new ee(Le.fromString(e).popFirst(5))}static empty(){return new ee(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Le(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t,e,n){if(!n)throw new Y(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function S6(t,e,n,r){if(e===!0&&r===!0)throw new Y(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Fb(t){if(!ee.isDocumentKey(t))throw new Y(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ub(t){if(ee.isDocumentKey(t))throw new Y(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ip(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function Lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ip(t);throw new Y(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t,e){const n={typeString:t};return e&&(n.value=e),n}function yc(t,e){if(!xC(t))throw new Y(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Y(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=-62135596800,zb=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*zb);return new Be(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Bb)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zb}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yc(e,Be._jsonSchema))return new Be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Bb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:ct("string",Be._jsonSchemaVersion),seconds:ct("number"),nanoseconds:ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new Be(0,0))}static max(){return new le(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=-1;function A6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new _o(i,ee.empty(),e)}function P6(t){return new _o(t.readTime,t.key,Bu)}class _o{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _o(le.min(),ee.empty(),Bu)}static max(){return new _o(le.max(),ee.empty(),Bu)}}function I6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==x6)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new U((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function k6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}op.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=-1;function sp(t){return t==null}function Hh(t){return t===0&&1/t==-1/0}function O6(t){return typeof t=="number"&&Number.isInteger(t)&&!Hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="";function R6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Wb(e)),e=N6(t.get(n),e);return Wb(e)}function N6(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case CC:n+="";break;default:n+=o}}return n}function Wb(t){return t+CC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pf(this.root,e,this.comparator,!0)}}class Pf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??jt.RED,this.left=i??jt.EMPTY,this.right=o??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new jt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hb(this.data.getIterator())}getIteratorFrom(e){return new Hb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class Hb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new _t(Ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Va(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new OC("Invalid base64 string: "+o):o}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const D6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(t){if(Ie(!!t,39018),typeof t=="string"){let e=0;const n=D6.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Eo(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="server_timestamp",NC="__type__",DC="__previous_value__",MC="__local_write_time__";function n_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[NC])==null?void 0:r.stringValue)===RC}function ap(t){const e=t.mapValue.fields[DC];return n_(e)?ap(e):e}function zu(t){const e=wo(t.mapValue.fields[MC].timestampValue);return new Be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n,r,i,o,s,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const qh="(default)";class Wu{constructor(e,n){this.projectId=e,this.database=n||qh}static empty(){return new Wu("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof Wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="__type__",L6="__max__",If={mapValue:{}},VC="__vector__",Gh="value";function bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?n_(t)?4:j6(t)?9007199254740991:V6(t)?10:11:oe(28295,{value:t})}function Br(t,e){if(t===e)return!0;const n=bo(t);if(n!==bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zu(t).isEqual(zu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=wo(i.timestampValue),a=wo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Eo(i.bytesValue).isEqual(Eo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return rt(i.geoPointValue.latitude)===rt(o.geoPointValue.latitude)&&rt(i.geoPointValue.longitude)===rt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return rt(i.integerValue)===rt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=rt(i.doubleValue),a=rt(o.doubleValue);return s===a?Hh(s)===Hh(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Va(t.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Kb(s)!==Kb(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Br(s[l],a[l])))return!1;return!0}(t,e);default:return oe(52216,{left:t})}}function Ku(t,e){return(t.values||[]).find(n=>Br(n,e))!==void 0}function ja(t,e){if(t===e)return 0;const n=bo(t),r=bo(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=rt(o.integerValue||o.doubleValue),l=rt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return qb(t.timestampValue,e.timestampValue);case 4:return qb(zu(t),zu(e));case 5:return Uy(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Eo(o),l=Eo(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=me(a[u],l[u]);if(c!==0)return c}return me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=me(rt(o.latitude),rt(s.latitude));return a!==0?a:me(rt(o.longitude),rt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Gb(t.arrayValue,e.arrayValue);case 10:return function(o,s){var d,p,g,w;const a=o.fields||{},l=s.fields||{},u=(d=a[Gh])==null?void 0:d.arrayValue,c=(p=l[Gh])==null?void 0:p.arrayValue,h=me(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((w=c==null?void 0:c.values)==null?void 0:w.length)||0);return h!==0?h:Gb(u,c)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===If.mapValue&&s===If.mapValue)return 0;if(o===If.mapValue)return 1;if(s===If.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=Uy(l[h],c[h]);if(d!==0)return d;const p=ja(a[l[h]],u[c[h]]);if(p!==0)return p}return me(l.length,c.length)}(t.mapValue,e.mapValue);default:throw oe(23264,{he:n})}}function qb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=wo(t),r=wo(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function Gb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ja(n[i],r[i]);if(o)return o}return me(n.length,r.length)}function $a(t){return By(t)}function By(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=wo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Eo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=By(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${By(n.fields[s])}`;return i+"}"}(t.mapValue):oe(61005,{value:t})}function lh(t){switch(bo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ap(t);return e?16+lh(e):16;case 5:return 2*t.stringValue.length;case 6:return Eo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+lh(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Co(r.fields,(o,s)=>{i+=o.length+lh(s)}),i}(t.mapValue);default:throw oe(13486,{value:t})}}function Yb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zy(t){return!!t&&"integerValue"in t}function r_(t){return!!t&&"arrayValue"in t}function Qb(t){return!!t&&"nullValue"in t}function Xb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uh(t){return!!t&&"mapValue"in t}function V6(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[LC])==null?void 0:r.stringValue)===VC}function vu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Co(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vu(t.arrayValue.values[n]);return e}return{...t}}function j6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===L6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(n)}setAll(e){let n=Ft.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=vu(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];uh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Co(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new mn(vu(this.value))}}function jC(t){const e=[];return Co(t.fields,(n,r)=>{const i=new Ft([n]);if(uh(r)){const o=jC(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Zt(e,0,le.min(),le.min(),le.min(),mn.empty(),0)}static newFoundDocument(e,n,r,i){return new Zt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new Zt(e,2,n,le.min(),le.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,le.min(),le.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.position=e,this.inclusive=n}}function Jb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),n.key):r=ja(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Br(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n="asc"){this.field=e,this.dir=n}}function $6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{}class ut extends $C{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new U6(e,n,r):n==="array-contains"?new W6(e,r):n==="in"?new K6(e,r):n==="not-in"?new H6(e,r):n==="array-contains-any"?new q6(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new B6(e,r):new z6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ja(n,this.value)):n!==null&&bo(this.value)===bo(n)&&this.matchesComparison(ja(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends $C{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Er(e,n)}matches(e){return FC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FC(t){return t.op==="and"}function UC(t){return F6(t)&&FC(t)}function F6(t){for(const e of t.filters)if(e instanceof Er)return!1;return!0}function Wy(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+$a(t.value);if(UC(t))return t.filters.map(e=>Wy(e)).join(",");{const e=t.filters.map(n=>Wy(n)).join(",");return`${t.op}(${e})`}}function BC(t,e){return t instanceof ut?function(r,i){return i instanceof ut&&r.op===i.op&&r.field.isEqual(i.field)&&Br(r.value,i.value)}(t,e):t instanceof Er?function(r,i){return i instanceof Er&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&BC(s,i.filters[a]),!0):!1}(t,e):void oe(19439)}function zC(t){return t instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${$a(n.value)}`}(t):t instanceof Er?function(n){return n.op.toString()+" {"+n.getFilters().map(zC).join(" ,")+"}"}(t):"Filter"}class U6 extends ut{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class B6 extends ut{constructor(e,n){super(e,"in",n),this.keys=WC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class z6 extends ut{constructor(e,n){super(e,"not-in",n),this.keys=WC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class W6 extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return r_(n)&&Ku(n.arrayValue,this.value)}}class K6 extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ku(this.value.arrayValue,n)}}class H6 extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ku(this.value.arrayValue,n)}}class q6 extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!r_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ku(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function eT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new G6(t,e,n,r,i,o,s)}function i_(t){const e=ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),sp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$a(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$a(r)).join(",")),e.Te=n}return e.Te}function o_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zb(t.startAt,e.startAt)&&Zb(t.endAt,e.endAt)}function Ky(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Y6(t,e,n,r,i,o,s,a){return new vc(t,e,n,r,i,o,s,a)}function s_(t){return new vc(t)}function tT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KC(t){return t.collectionGroup!==null}function _u(t){const e=ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new _t(Ft.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Qh(o,r))}),n.has(Ft.keyField().canonicalString())||e.Ie.push(new Qh(Ft.keyField(),r))}return e.Ie}function Vr(t){const e=ce(t);return e.Ee||(e.Ee=Q6(e,_u(t))),e.Ee}function Q6(t,e){if(t.limitType==="F")return eT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Qh(i.field,o)});const n=t.endAt?new Yh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yh(t.startAt.position,t.startAt.inclusive):null;return eT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hy(t,e){const n=t.filters.concat([e]);return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qy(t,e,n){return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lp(t,e){return o_(Vr(t),Vr(e))&&t.limitType===e.limitType}function HC(t){return`${i_(Vr(t))}|lt:${t.limitType}`}function Xs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>zC(i)).join(", ")}]`),sp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$a(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$a(i)).join(",")),`Target(${r})`}(Vr(t))}; limitType=${t.limitType})`}function up(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of _u(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=Jb(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,_u(r),i)||r.endAt&&!function(s,a,l){const u=Jb(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,_u(r),i))}(t,e)}function X6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qC(t){return(e,n)=>{let r=!1;for(const i of _u(t)){const o=J6(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function J6(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?ja(l,u):oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return kC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=new Xe(ee.comparator);function _i(){return Z6}const GC=new Xe(ee.comparator);function nu(...t){let e=GC;for(const n of t)e=e.insert(n.key,n);return e}function YC(t){let e=GC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qo(){return wu()}function QC(){return wu()}function wu(){return new Is(t=>t.toString(),(t,e)=>t.isEqual(e))}const e$=new Xe(ee.comparator),t$=new _t(ee.comparator);function ge(...t){let e=t$;for(const n of t)e=e.add(n);return e}const n$=new _t(me);function r$(){return n$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function XC(t){return{integerValue:""+t}}function i$(t,e){return O6(e)?XC(e):a_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this._=void 0}}function o$(t,e,n){return t instanceof Hu?function(i,o){const s={fields:{[NC]:{stringValue:RC},[MC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&n_(o)&&(o=ap(o)),o&&(s.fields[DC]=o),{mapValue:s}}(n,e):t instanceof qu?ZC(t,e):t instanceof Gu?ek(t,e):function(i,o){const s=JC(i,o),a=nT(s)+nT(i.Ae);return zy(s)&&zy(i.Ae)?XC(a):a_(i.serializer,a)}(t,e)}function s$(t,e,n){return t instanceof qu?ZC(t,e):t instanceof Gu?ek(t,e):n}function JC(t,e){return t instanceof Xh?function(r){return zy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Hu extends cp{}class qu extends cp{constructor(e){super(),this.elements=e}}function ZC(t,e){const n=tk(e);for(const r of t.elements)n.some(i=>Br(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gu extends cp{constructor(e){super(),this.elements=e}}function ek(t,e){let n=tk(e);for(const r of t.elements)n=n.filter(i=>!Br(i,r));return{arrayValue:{values:n}}}class Xh extends cp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function nT(t){return rt(t.integerValue||t.doubleValue)}function tk(t){return r_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,n){this.field=e,this.transform=n}}function l$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qu&&i instanceof qu||r instanceof Gu&&i instanceof Gu?Va(r.elements,i.elements,Br):r instanceof Xh&&i instanceof Xh?Br(r.Ae,i.Ae):r instanceof Hu&&i instanceof Hu}(t.transform,e.transform)}class u${constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fp{}function nk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new l_(t.key,nr.none()):new _c(t.key,t.data,nr.none());{const n=t.data,r=mn.empty();let i=new _t(Ft.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ko(t.key,r,new Rn(i.toArray()),nr.none())}}function c$(t,e,n){t instanceof _c?function(i,o,s){const a=i.value.clone(),l=iT(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ko?function(i,o,s){if(!ch(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=iT(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(rk(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Eu(t,e,n,r){return t instanceof _c?function(o,s,a,l){if(!ch(o.precondition,s))return a;const u=o.value.clone(),c=oT(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ko?function(o,s,a,l){if(!ch(o.precondition,s))return a;const u=oT(o.fieldTransforms,l,s),c=s.data;return c.setAll(rk(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return ch(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function f$(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=JC(r.transform,i||null);o!=null&&(n===null&&(n=mn.empty()),n.set(r.field,o))}return n||null}function rT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Va(r,i,(o,s)=>l$(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _c extends fp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ko extends fp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function iT(t,e,n){const r=new Map;Ie(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,s$(s,a,n[i]))}return r}function oT(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,o$(o,s,e))}return r}class l_ extends fp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h$ extends fp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&c$(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QC();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=nk(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Va(this.mutations,e.mutations,(n,r)=>rT(n,r))&&Va(this.baseMutations,e.baseMutations,(n,r)=>rT(n,r))}}class u_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return e$}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new u_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,ve;function g$(t){switch(t){case F.OK:return oe(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return oe(15467,{code:t})}}function ik(t){if(t===void 0)return vi("GRPC error has no .code"),F.UNKNOWN;switch(t){case at.OK:return F.OK;case at.CANCELLED:return F.CANCELLED;case at.UNKNOWN:return F.UNKNOWN;case at.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case at.INTERNAL:return F.INTERNAL;case at.UNAVAILABLE:return F.UNAVAILABLE;case at.UNAUTHENTICATED:return F.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case at.NOT_FOUND:return F.NOT_FOUND;case at.ALREADY_EXISTS:return F.ALREADY_EXISTS;case at.PERMISSION_DENIED:return F.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case at.ABORTED:return F.ABORTED;case at.OUT_OF_RANGE:return F.OUT_OF_RANGE;case at.UNIMPLEMENTED:return F.UNIMPLEMENTED;case at.DATA_LOSS:return F.DATA_LOSS;default:return oe(39323,{code:t})}}(ve=at||(at={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$=new po([4294967295,4294967295],0);function sT(t){const e=y$().encode(t),n=new _C;return n.update(e),new Uint8Array(n.digest())}function aT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new po([n,r],0),new po([i,o],0)]}class c_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ru(`Invalid padding: ${n}`);if(r<0)throw new ru(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=po.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(po.fromNumber(r)));return i.compare(v$)===1&&(i=new po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sT(e),[r,i]=aT(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new c_(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=sT(e),[r,i]=aT(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hp(le.min(),i,new Xe(me),_i(),ge())}}class wc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wc(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class ok{constructor(e,n){this.targetId=e,this.Ce=n}}class sk{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lT{constructor(){this.ve=0,this.Fe=uT(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ge(),n=ge(),r=ge();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe(38017,{changeType:o})}}),new wc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=uT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _${constructor(e){this.Ge=e,this.ze=new Map,this.je=_i(),this.Je=xf(),this.He=xf(),this.Ye=new Xe(me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Ky(o))if(r===0){const s=new ee(o.path);this.et(n,s,Zt.newNoDocument(s,le.min()))}else Ie(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Eo(r).toUint8Array()}catch(l){if(l instanceof OC)return La("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new c_(s,i,o)}catch(l){return La(l instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&Ky(a.target)){const l=new ee(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Zt.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=ge();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new hp(e,n,this.Ye,this.je,r);return this.je=_i(),this.Je=xf(),this.He=xf(),this.Ye=new Xe(me),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new lT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new _t(me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new _t(me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xf(){return new Xe(ee.comparator)}function uT(){return new Xe(ee.comparator)}const w$={asc:"ASCENDING",desc:"DESCENDING"},E$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b$={and:"AND",or:"OR"};class T${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gy(t,e){return t.useProto3Json||sp(e)?e:{value:e}}function Jh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ak(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function S$(t,e){return Jh(t,e.toTimestamp())}function jr(t){return Ie(!!t,49232),le.fromTimestamp(function(n){const r=wo(n);return new Be(r.seconds,r.nanos)}(t))}function f_(t,e){return Yy(t,e).canonicalString()}function Yy(t,e){const n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function lk(t){const e=Le.fromString(t);return Ie(dk(e),10190,{key:e.toString()}),e}function Qy(t,e){return f_(t.databaseId,e.path)}function ag(t,e){const n=lk(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(ck(n))}function uk(t,e){return f_(t.databaseId,e)}function A$(t){const e=lk(t);return e.length===4?Le.emptyPath():ck(e)}function Xy(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ck(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cT(t,e,n){return{name:Qy(t,e),fields:n.value.mapValue.fields}}function P$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ie(c===void 0||typeof c=="string",58123),Wt.fromBase64String(c||"")):(Ie(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Wt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?F.UNKNOWN:ik(u.code);return new Y(c,u.message||"")}(s);n=new sk(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ag(t,r.document.name),o=jr(r.document.updateTime),s=r.document.createTime?jr(r.document.createTime):le.min(),a=new mn({mapValue:{fields:r.document.fields}}),l=Zt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new fh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ag(t,r.document),o=r.readTime?jr(r.readTime):le.min(),s=Zt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new fh([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ag(t,r.document),o=r.removedTargetIds||[];n=new fh([],o,i,null)}else{if(!("filter"in e))return oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new m$(i,o),a=r.targetId;n=new ok(a,s)}}return n}function I$(t,e){let n;if(e instanceof _c)n={update:cT(t,e.key,e.value)};else if(e instanceof l_)n={delete:Qy(t,e.key)};else if(e instanceof ko)n={update:cT(t,e.key,e.data),updateMask:L$(e.fieldMask)};else{if(!(e instanceof h$))return oe(16599,{Vt:e.type});n={verify:Qy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Hu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xh)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw oe(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:S$(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe(27497)}(t,e.precondition)),n}function x$(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?jr(i.updateTime):jr(o);return s.isEqual(le.min())&&(s=jr(o)),new u$(s,i.transformResults||[])}(n,e))):[]}function C$(t,e){return{documents:[uk(t,e.path)]}}function k$(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uk(t,i);const o=function(u){if(u.length!==0)return hk(Er.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Js(d.field),direction:N$(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Gy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function O$(t){let e=A$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ie(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const d=fk(h);return d instanceof Er&&UC(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(d=>function(g){return new Qh(Zs(g.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,sp(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new Yh(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,p=h.values||[];return new Yh(p,d)}(n.endAt)),Y6(e,i,s,o,a,"F",l,u)}function R$(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zs(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Zs(n.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zs(n.unaryFilter.field);return ut.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Zs(n.unaryFilter.field);return ut.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return ut.create(Zs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Er.create(n.compositeFilter.filters.map(r=>fk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(n.compositeFilter.op))}(t):oe(30097,{filter:t})}function N$(t){return w$[t]}function D$(t){return E$[t]}function M$(t){return b$[t]}function Js(t){return{fieldPath:t.canonicalString()}}function Zs(t){return Ft.fromServerFormat(t.fieldPath)}function hk(t){return t instanceof ut?function(n){if(n.op==="=="){if(Xb(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NAN"}};if(Qb(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xb(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NAN"}};if(Qb(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Js(n.field),op:D$(n.op),value:n.value}}}(t):t instanceof Er?function(n){const r=n.getFilters().map(i=>hk(i));return r.length===1?r[0]:{compositeFilter:{op:M$(n.op),filters:r}}}(t):oe(54877,{filter:t})}function L$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,r,i,o=le.min(),s=le.min(),a=Wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new to(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e){this.yt=e}}function j$(t){const e=O$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(){this.Cn=new F$}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(_o.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class F${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _t(Le.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _t(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pk=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(pk,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fa(0)}static cr(){return new Fa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="LruGarbageCollector",U$=1048576;function dT([t,e],[n,r]){const i=me(t,n);return i===0?me(e,r):i}class B${constructor(e){this.Ir=e,this.buffer=new _t(dT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class z${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(hT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){al(n)?G(hT,"Ignoring IndexedDB error during garbage collection: ",n):await sl(n)}await this.Vr(3e5)})}}class W${constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(op.ce);const r=new B$(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(fT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Qs()<=pe.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}function K$(t,e){return new W$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(){this.changes=new Is(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Eu(r.mutation,i,Rn.empty(),Be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const i=Qo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=nu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Qo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=_i();const s=wu(),a=function(){return wu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ko)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Eu(c.mutation,u,c.mutation.getFieldMask(),Be.now())):s.set(u.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>a.set(u,new q$(c,s.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=wu();let i=new Xe((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Rn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ge()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=QC();c.forEach(d=>{if(!o.has(d)){const p=nk(n.get(d),r.get(d));p!==null&&h.set(d,p),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return U.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):U.resolve(Qo());let a=Bu,l=o;return s.next(u=>U.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?U.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ge())).next(c=>({batchId:a,changes:YC(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=nu();return this.indexManager.getCollectionParents(e,o).next(a=>U.forEach(a,l=>{const u=function(h,d){return new vc(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Zt.newInvalidDocument(c)))});let a=nu();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Eu(c.mutation,u,Rn.empty(),Be.now()),up(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:jr(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:j$(i.bundledQuery),readTime:jr(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(){this.overlays=new Xe(ee.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qo();return U.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Qo(),o=n.length+1,s=new ee(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Xe((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Qo(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Qo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return U.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new p$(n,r));let o=this.qr.get(n);o===void 0&&(o=ge(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.Qr=new _t(At.$r),this.Ur=new _t(At.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new At(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new At(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ee(new Le([])),r=new At(n,e),i=new At(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ee(new Le([])),r=new At(n,e),i=new At(n,e+1);let o=ge();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new At(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class At{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ee.comparator(e.key,n.key)||me(e.Yr,n.Yr)}static Kr(e,n){return me(e.Yr,n.Yr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new _t(At.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new d$(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new At(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(s)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?t_:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new At(n,0),i=new At(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(me);return n.forEach(i=>{const o=new At(i,0),s=new At(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const s=new At(new ee(o),0);let a=new _t(me);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},s),U.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ie(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,i=>{const o=new At(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new At(n,0),i=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(e){this.ri=e,this.docs=function(){return new Xe(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=_i();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Zt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=_i();const s=n.path,a=new ee(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||I6(P6(c),r)<=0||(i.has(c.key)||up(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,n,r,i){oe(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new eF(this)}getSize(e){return U.resolve(this.size)}}class eF extends H${constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.persistence=e,this.si=new Is(n=>i_(n),o_),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.oi=0,this._i=new h_,this.targetCount=0,this.ai=Fa.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Fa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n){this.ui={},this.overlays={},this.ci=new op(0),this.li=!1,this.li=!0,this.hi=new X$,this.referenceDelegate=e(this),this.Pi=new tF(this),this.indexManager=new $$,this.remoteDocumentCache=function(i){return new Z$(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new V$(n),this.Ii=new Y$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Q$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new J$(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new nF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class nF extends C6{constructor(e){super(),this.currentSequenceNumber=e}}class d_{constructor(e){this.persistence=e,this.Ri=new h_,this.Vi=null}static mi(e){return new d_(e)}get fi(){if(this.Vi)return this.Vi;throw oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const i=ee.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,le.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Zh{constructor(e,n){this.persistence=e,this.pi=new Is(r=>R6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=K$(this,n)}static mi(e,n){return new Zh(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,le.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lh(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ge(),i=ge();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new p_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return GV()?8:k6(nn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new rF;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Qs()<=pe.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Xs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(Qs()<=pe.DEBUG&&G("QueryEngine","Query:",Xs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Qs()<=pe.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Xs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(n))):U.resolve())}ys(e,n){if(tT(n))return U.resolve(null);let r=Vr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qy(n,null,"F"),r=Vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ge(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,s,l.readTime)?this.ys(e,qy(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return tT(n)||i.isEqual(le.min())?U.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?U.resolve(null):(Qs()<=pe.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xs(n)),this.vs(e,s,n,A6(i,Bu)).next(a=>a))})}Ds(e,n){let r=new _t(qC(e));return n.forEach((i,o)=>{up(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Qs()<=pe.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Xs(n)),this.ps.getDocumentsMatchingQuery(e,n,_o.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="LocalStore",oF=3e8;class sF{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Xe(me),this.xs=new Is(o=>i_(o),o_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G$(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function aF(t,e,n,r){return new sF(t,e,n,r)}async function gk(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ge();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:a}))})})}function lF(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let p=U.resolve();return d.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(w=>{const E=u.docVersions.get(g);Ie(E!==null,48541),w.version.compareTo(E)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ge();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function yk(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function uF(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Pi.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(o,c.addedDocuments,h)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Wt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(w,E,y){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=oF?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(d,p,c)&&a.push(n.Pi.updateTargetData(o,p))});let l=_i(),u=ge();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(cF(o,s,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(le.min())){const c=n.Pi.getLastRemoteSnapshotVersion(o).next(h=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return U.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ms=i,o))}function cF(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=_i();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):G(m_,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function fF(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=t_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hF(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new to(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Jy(t,e,n){const r=ce(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!al(s))throw s;G(m_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function pT(t,e,n){const r=ce(t);let i=le.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const h=ce(l),d=h.xs.get(c);return d!==void 0?U.resolve(h.Ms.get(d)):h.Pi.getTargetData(u,c)}(r,s,Vr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:le.min(),n?o:ge())).next(a=>(dF(r,X6(e),a),{documents:a,Qs:o})))}function dF(t,e,n){let r=t.Os.get(e)||le.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class mT{constructor(){this.activeTargetIds=r$()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pF{constructor(){this.Mo=new mT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="ConnectivityMonitor";class yT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(gT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(gT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf=null;function Zy(){return Cf===null?Cf=function(){return 268435456+Math.round(2147483648*Math.random())}():Cf++,"0x"+Cf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="RestConnection",gF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===qh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=Zy(),a=this.zo(e,n.toUriEncodedString());G(lg,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:u}=new URL(a),c=nl(u);return this.Jo(e,a,l,r,c).then(h=>(G(lg,`Received RPC '${e}' ${s}: `,h),h),h=>{throw La(lg,`RPC '${e}' ${s} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=gF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class _F extends yF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=Zy();return new Promise((a,l)=>{const u=new wC;u.setWithCredentials(!0),u.listenOnce(EC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ah.NO_ERROR:const h=u.getResponseJson();G(Yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case ah.TIMEOUT:G(Yt,`RPC '${e}' ${s} timed out`),l(new Y(F.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const d=u.getStatus();if(G(Yt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(v)>=0?v:F.UNKNOWN}(g.status);l(new Y(w,g.message))}else l(new Y(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Y(F.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{G(Yt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);G(Yt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=Zy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=SC(),a=TC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");G(Yt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);this.I_(h);let d=!1,p=!1;const g=new vF({Yo:E=>{p?G(Yt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(d||(G(Yt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),G(Yt,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},Zo:()=>h.close()}),w=(E,y,v)=>{E.listen(y,b=>{try{v(b)}catch(x){setTimeout(()=>{throw x},0)}})};return w(h,tu.EventType.OPEN,()=>{p||(G(Yt,`RPC '${e}' stream ${i} transport opened.`),g.o_())}),w(h,tu.EventType.CLOSE,()=>{p||(p=!0,G(Yt,`RPC '${e}' stream ${i} transport closed`),g.a_(),this.E_(h))}),w(h,tu.EventType.ERROR,E=>{p||(p=!0,La(Yt,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),g.a_(new Y(F.UNAVAILABLE,"The operation could not be completed")))}),w(h,tu.EventType.MESSAGE,E=>{var y;if(!p){const v=E.data[0];Ie(!!v,16349);const b=v,x=(b==null?void 0:b.error)||((y=b[0])==null?void 0:y.error);if(x){G(Yt,`RPC '${e}' stream ${i} received error:`,x);const R=x.status;let D=function(I){const C=at[I];if(C!==void 0)return ik(C)}(R),S=x.message;D===void 0&&(D=F.INTERNAL,S="Unknown error status: "+R+" with message "+x.message),p=!0,g.a_(new Y(D,S)),h.close()}else G(Yt,`RPC '${e}' stream ${i} received:`,v),g.u_(v)}}),w(a,bC.STAT_EVENT,E=>{E.stat===Fy.PROXY?G(Yt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Fy.NOPROXY&&G(Yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function ug(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(t){return new T$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="PersistentStream";class _k{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Y(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(vT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(vT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wF extends _k{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=P$(this.serializer,e),r=function(o){if(!("targetChange"in o))return le.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?jr(s.readTime):le.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Xy(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Ky(l)?{documents:C$(o,l)}:{query:k$(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=ak(o,s.resumeToken);const u=Gy(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(le.min())>0){a.readTime=Jh(o,s.snapshotVersion.toTimestamp());const u=Gy(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=R$(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Xy(this.serializer),n.removeTarget=e,this.q_(n)}}class EF extends _k{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=x$(e.writeResults,e.commitTime),r=jr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Xy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>I$(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{}class TF extends bF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,Yy(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(F.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,Yy(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(F.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class SF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vi(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="RemoteStore";class AF{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{xs(this)&&(G(_s,"Restarting streams for network reachability change."),await async function(l){const u=ce(l);u.Ea.add(4),await Ec(u),u.Ra.set("Unknown"),u.Ea.delete(4),await pp(u)}(this))})}),this.Ra=new SF(r,i)}}async function pp(t){if(xs(t))for(const e of t.da)await e(!0)}async function Ec(t){for(const e of t.da)await e(!1)}function wk(t,e){const n=ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),__(n)?v_(n):ll(n).O_()&&y_(n,e))}function g_(t,e){const n=ce(t),r=ll(n);n.Ia.delete(e),r.O_()&&Ek(n,e),n.Ia.size===0&&(r.O_()?r.L_():xs(n)&&n.Ra.set("Unknown"))}function y_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ll(t).Y_(e)}function Ek(t,e){t.Va.Ue(e),ll(t).Z_(e)}function v_(t){t.Va=new _$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ll(t).start(),t.Ra.ua()}function __(t){return xs(t)&&!ll(t).x_()&&t.Ia.size>0}function xs(t){return ce(t).Ea.size===0}function bk(t){t.Va=void 0}async function PF(t){t.Ra.set("Online")}async function IF(t){t.Ia.forEach((e,n)=>{y_(t,e)})}async function xF(t,e){bk(t),__(t)?(t.Ra.ha(e),v_(t)):t.Ra.set("Unknown")}async function CF(t,e,n){if(t.Ra.set("Online"),e instanceof sk&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){G(_s,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ed(t,r)}else if(e instanceof fh?t.Va.Ze(e):e instanceof ok?t.Va.st(e):t.Va.tt(e),!n.isEqual(le.min()))try{const r=await yk(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ia.get(u);c&&o.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.Ia.get(l);if(!c)return;o.Ia.set(l,c.withResumeToken(Wt.EMPTY_BYTE_STRING,c.snapshotVersion)),Ek(o,l);const h=new to(c.target,l,u,c.sequenceNumber);y_(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(_s,"Failed to raise snapshot:",r),await ed(t,r)}}async function ed(t,e,n){if(!al(e))throw e;t.Ea.add(1),await Ec(t),t.Ra.set("Offline"),n||(n=()=>yk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(_s,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await pp(t)})}function Tk(t,e){return e().catch(n=>ed(t,n,e))}async function mp(t){const e=ce(t),n=To(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:t_;for(;kF(e);)try{const i=await fF(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,OF(e,i)}catch(i){await ed(e,i)}Sk(e)&&Ak(e)}function kF(t){return xs(t)&&t.Ta.length<10}function OF(t,e){t.Ta.push(e);const n=To(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Sk(t){return xs(t)&&!To(t).x_()&&t.Ta.length>0}function Ak(t){To(t).start()}async function RF(t){To(t).ra()}async function NF(t){const e=To(t);for(const n of t.Ta)e.ea(n.mutations)}async function DF(t,e,n){const r=t.Ta.shift(),i=u_.from(r,e,n);await Tk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await mp(t)}async function MF(t,e){e&&To(t).X_&&await async function(r,i){if(function(s){return g$(s)&&s!==F.ABORTED}(i.code)){const o=r.Ta.shift();To(r).B_(),await Tk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await mp(r)}}(t,e),Sk(t)&&Ak(t)}async function _T(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),G(_s,"RemoteStore received new credentials");const r=xs(n);n.Ea.add(3),await Ec(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pp(n)}async function LF(t,e){const n=ce(t);e?(n.Ea.delete(2),await pp(n)):e||(n.Ea.add(2),await Ec(n),n.Ra.set("Unknown"))}function ll(t){return t.ma||(t.ma=function(n,r,i){const o=ce(n);return o.sa(),new wF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:PF.bind(null,t),t_:IF.bind(null,t),r_:xF.bind(null,t),H_:CF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),__(t)?v_(t):t.Ra.set("Unknown")):(await t.ma.stop(),bk(t))})),t.ma}function To(t){return t.fa||(t.fa=function(n,r,i){const o=ce(n);return o.sa(),new EF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:RF.bind(null,t),r_:MF.bind(null,t),ta:NF.bind(null,t),na:DF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await mp(t)):(await t.fa.stop(),t.Ta.length>0&&(G(_s,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new w_(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E_(t,e){if(vi("AsyncQueue",`${e}: ${t}`),al(t))return new Y(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{static emptySet(e){return new Sa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=nu(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Sa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.ga=new Xe(ee.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ua{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ua(e,n,Sa.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class jF{constructor(){this.queries=ET(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ce(n),o=i.queries;i.queries=ET(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Y(F.ABORTED,"Firestore shutting down"))}}function ET(){return new Is(t=>HC(t),lp)}async function $F(t,e){const n=ce(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new VF,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=E_(s,`Initialization of query '${Xs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&b_(n)}async function FF(t,e){const n=ce(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function UF(t,e){const n=ce(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&b_(n)}function BF(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function b_(t){t.Ca.forEach(e=>{e.next()})}var ev,bT;(bT=ev||(ev={})).Ma="default",bT.Cache="cache";class zF{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ev.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.key=e}}class Ik{constructor(e){this.key=e}}class WF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ge(),this.mutatedKeys=ge(),this.eu=qC(e),this.tu=new Sa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new wT,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),p=up(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;d&&p?d.data.isEqual(p.data)?g!==w&&(r.track({type:3,doc:p}),E=!0):this.su(d,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),E=!0):d&&!p&&(r.track({type:1,doc:d}),E=!0,(l||u)&&(a=!0)),E&&(p?(s=s.add(p),o=w?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((c,h)=>function(p,g){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Rt:E})}};return w(p)-w(g)}(c.type,h.type)||this.eu(c.doc,h.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new Ua(this.query,e.tu,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ge(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new Ik(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new Pk(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ua.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const T_="SyncEngine";class KF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HF{constructor(e){this.key=e,this.hu=!1}}class qF{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Is(a=>HC(a),lp),this.Iu=new Map,this.Eu=new Set,this.du=new Xe(ee.comparator),this.Au=new Map,this.Ru=new h_,this.Vu={},this.mu=new Map,this.fu=Fa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GF(t,e,n=!0){const r=Nk(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await xk(r,e,n,!0),i}async function YF(t,e){const n=Nk(t);await xk(n,e,!0,!1)}async function xk(t,e,n,r){const i=await hF(t.localStore,Vr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await QF(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&wk(t.remoteStore,i),a}async function QF(t,e,n,r,i){t.pu=(h,d,p)=>async function(w,E,y,v){let b=E.view.ru(y);b.Cs&&(b=await pT(w.localStore,E.query,!1).then(({documents:S})=>E.view.ru(S,b)));const x=v&&v.targetChanges.get(E.targetId),R=v&&v.targetMismatches.get(E.targetId)!=null,D=E.view.applyChanges(b,w.isPrimaryClient,x,R);return ST(w,E.targetId,D.au),D.snapshot}(t,h,d,p);const o=await pT(t.localStore,e,!0),s=new WF(e,o.Qs),a=s.ru(o.documents),l=wc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);ST(t,n,u.au);const c=new KF(e,n,s);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function XF(t,e,n){const r=ce(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!lp(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Jy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&g_(r.remoteStore,i.targetId),tv(r,i.targetId)}).catch(sl)):(tv(r,i.targetId),await Jy(r.localStore,i.targetId,!0))}async function JF(t,e){const n=ce(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),g_(n.remoteStore,r.targetId))}async function ZF(t,e,n){const r=sU(t);try{const i=await function(s,a){const l=ce(s),u=Be.now(),c=a.reduce((p,g)=>p.add(g.key),ge());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=_i(),w=ge();return l.Ns.getEntries(p,c).next(E=>{g=E,g.forEach((y,v)=>{v.isValidDocument()||(w=w.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(E=>{h=E;const y=[];for(const v of a){const b=f$(v,h.get(v.key).overlayedDocument);b!=null&&y.push(new ko(v.key,b,jC(b.value.mapValue),nr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,a)}).next(E=>{d=E;const y=E.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(p,E.batchId,y)})}).then(()=>({batchId:d.batchId,changes:YC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new Xe(me)),u=u.insert(a,l),s.Vu[s.currentUser.toKey()]=u}(r,i.batchId,n),await bc(r,i.changes),await mp(r.remoteStore)}catch(i){const o=E_(i,"Failed to persist write");n.reject(o)}}async function Ck(t,e){const n=ce(t);try{const r=await uF(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ie(s.hu,14607):i.removedDocuments.size>0&&(Ie(s.hu,42227),s.hu=!1))}),await bc(n,r,e)}catch(r){await sl(r)}}function TT(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=ce(s);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.Sa)d.va(a)&&(u=!0)}),u&&b_(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eU(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new Xe(ee.comparator);s=s.insert(o,Zt.newNoDocument(o,le.min()));const a=ge().add(o),l=new hp(le.min(),new Map,new Xe(me),s,a);await Ck(r,l),r.du=r.du.remove(o),r.Au.delete(e),S_(r)}else await Jy(r.localStore,e,!1).then(()=>tv(r,e,n)).catch(sl)}async function tU(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await lF(n.localStore,e);Ok(n,r,null),kk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bc(n,i)}catch(i){await sl(i)}}async function nU(t,e,n){const r=ce(t);try{const i=await function(s,a){const l=ce(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ie(h!==null,37113),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);Ok(r,e,n),kk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bc(r,i)}catch(i){await sl(i)}}function kk(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Ok(t,e,n){const r=ce(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function tv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Rk(t,r)})}function Rk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(g_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),S_(t))}function ST(t,e,n){for(const r of n)r instanceof Pk?(t.Ru.addReference(r.key,e),rU(t,r)):r instanceof Ik?(G(T_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Rk(t,r.key)):oe(19791,{wu:r})}function rU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(T_,"New document in limbo: "+n),t.Eu.add(r),S_(t))}function S_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ee(Le.fromString(e)),r=t.fu.next();t.Au.set(r,new HF(n)),t.du=t.du.insert(n,r),wk(t.remoteStore,new to(Vr(s_(n.path)),r,"TargetPurposeLimboResolution",op.ce))}}async function bc(t,e,n){const r=ce(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=p_.As(l.targetId,u);o.push(h)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,u){const c=ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(u,d=>U.forEach(d.Es,p=>c.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>U.forEach(d.ds,p=>c.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!al(h))throw h;G(m_,"Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const p=c.Ms.get(d),g=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(g);c.Ms=c.Ms.insert(d,w)}}}(r.localStore,o))}async function iU(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){G(T_,"User change. New user:",e.toKey());const r=await gk(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new Y(F.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bc(n,r.Ls)}}function oU(t,e){const n=ce(t),r=n.Au.get(e);if(r&&r.hu)return ge().add(r.key);{let i=ge();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function Nk(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ck.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eU.bind(null,e),e.Pu.H_=UF.bind(null,e.eventManager),e.Pu.yu=BF.bind(null,e.eventManager),e}function sU(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nU.bind(null,e),e}class td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return aF(this.persistence,new iF,e.initialUser,this.serializer)}Cu(e){return new mk(d_.mi,this.serializer)}Du(e){return new pF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}td.provider={build:()=>new td};class aU extends td{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ie(this.persistence.referenceDelegate instanceof Zh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new z$(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new mk(r=>Zh.mi(r,n),this.serializer)}}class nv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iU.bind(null,this.syncEngine),await LF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jF}()}createDatastore(e){const n=dp(e.databaseInfo.databaseId),r=function(o){return new _F(o)}(e.databaseInfo);return function(o,s,a,l){return new TF(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new AF(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>TT(this.syncEngine,n,0),function(){return yT.v()?new yT:new mF}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const h=new qF(i,o,s,a,l,u);return c&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ce(i);G(_s,"RemoteStore shutting down."),o.Ea.add(5),await Ec(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}nv.provider={build:()=>new nv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="FirestoreClient";class uU{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xt.UNAUTHENTICATED,this.clientId=e_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{G(So,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(G(So,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=E_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cg(t,e){t.asyncQueue.verifyOperationInProgress(),G(So,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function AT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cU(t);G(So,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>_T(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>_T(e.remoteStore,i)),t._onlineComponents=e}async function cU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(So,"Using user provided OfflineComponentProvider");try{await cg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;La("Error using user provided cache. Falling back to memory cache: "+n),await cg(t,new td)}}else G(So,"Using default OfflineComponentProvider"),await cg(t,new aU(void 0));return t._offlineComponents}async function Dk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(So,"Using user provided OnlineComponentProvider"),await AT(t,t._uninitializedComponentsProvider._online)):(G(So,"Using default OnlineComponentProvider"),await AT(t,new nv))),t._onlineComponents}function fU(t){return Dk(t).then(e=>e.syncEngine)}async function PT(t){const e=await Dk(t),n=e.eventManager;return n.onListen=GF.bind(null,e.syncEngine),n.onUnlisten=XF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JF.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="firestore.googleapis.com",xT=!0;class CT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Lk,this.ssl=xT}else this.host=e.host,this.ssl=e.ssl??xT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<U$)throw new Y(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mk(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new p6;switch(r.type){case"firstParty":return new v6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=IT.get(n);r&&(G("ComponentProvider","Removing Datastore"),IT.delete(n),r.terminate())}(this),Promise.resolve()}}function hU(t,e,n,r={}){var u;t=Lr(t,gp);const i=nl(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(Dx(`https://${a}`),Mx("Firestore",!0)),o.host!==Lk&&o.host!==a&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!ms(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=Xt.MOCK_USER;else{c=$V(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Y(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Xt(d)}t._authCredentials=new m6(new PC(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ul(this.firestore,e,this._query)}}class ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ot(this.firestore,e,this._key)}toJSON(){return{type:ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yc(n,ot._jsonSchema))return new ot(e,r||null,new ee(Le.fromString(n.referencePath)))}}ot._jsonSchemaVersion="firestore/documentReference/1.0",ot._jsonSchema={type:ct("string",ot._jsonSchemaVersion),referencePath:ct("string")};class mo extends ul{constructor(e,n,r){super(e,n,s_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new ee(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function qs(t,e,...n){if(t=rn(t),IC("collection","path",e),t instanceof gp){const r=Le.fromString(e,...n);return Ub(r),new mo(t,null,r)}{if(!(t instanceof ot||t instanceof mo))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return Ub(r),new mo(t.firestore,null,r)}}function zo(t,e,...n){if(t=rn(t),arguments.length===1&&(e=e_.newId()),IC("doc","path",e),t instanceof gp){const r=Le.fromString(e,...n);return Fb(r),new ot(t,null,new ee(r))}{if(!(t instanceof ot||t instanceof mo))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return Fb(r),new ot(t.firestore,t instanceof mo?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="AsyncQueue";class OT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vk(this,"async_queue_retry"),this._c=()=>{const r=ug();r&&G(kT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ug();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ug();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new rs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!al(e))throw e;G(kT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,vi("INTERNAL UNHANDLED ERROR: ",RT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=w_.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&oe(47125,{Pc:RT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function RT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ws extends gp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new OT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OT(e),this._firestoreClient=void 0,await e}}}function dU(t,e){const n=typeof t=="object"?t:$x(),r=typeof t=="string"?t:qh,i=W0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=VV("firestore");o&&hU(i,...o)}return i}function Vk(t){if(t._terminated)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pU(t),t._firestoreClient}function pU(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,u,c){return new M6(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Mk(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new uU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(Wt.fromBase64String(e))}catch(n){throw new Y(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yc(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:ct("string",Jn._jsonSchemaVersion),bytes:ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$r._jsonSchemaVersion}}static fromJSON(e){if(yc(e,$r._jsonSchema))return new $r(e.latitude,e.longitude)}}$r._jsonSchemaVersion="firestore/geoPoint/1.0",$r._jsonSchema={type:ct("string",$r._jsonSchemaVersion),latitude:ct("number"),longitude:ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Fr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yc(e,Fr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Fr(e.vectorValues);throw new Y(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fr._jsonSchemaVersion="firestore/vectorValue/1.0",Fr._jsonSchema={type:ct("string",Fr._jsonSchemaVersion),vectorValues:ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=/^__.*__$/;class gU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new _c(e,this.data,n,this.fieldTransforms)}}class jk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ko(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $k(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ac:t})}}class A_{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new A_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return nd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($k(this.Ac)&&mU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dp(e)}Cc(e,n,r,i=!1){return new A_({Ac:e,methodName:n,Dc:r,path:Ft.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _p(t){const e=t._freezeSettings(),n=dp(t._databaseId);return new yU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fk(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);I_("Data must be an object, but it was:",s,r);const a=Uk(r,s);let l,u;if(o.merge)l=new Rn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const d=rv(e,h,n);if(!s.contains(d))throw new Y(F.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);zk(c,d)||c.push(d)}l=new Rn(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new gU(new mn(a),l,u)}class wp extends vp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wp}}class P_ extends vp{_toFieldTransform(e){return new a$(e.path,new Hu)}isEqual(e){return e instanceof P_}}function vU(t,e,n,r){const i=t.Cc(1,e,n);I_("Data must be an object, but it was:",i,r);const o=[],s=mn.empty();Co(r,(l,u)=>{const c=x_(e,l,n);u=rn(u);const h=i.yc(c);if(u instanceof wp)o.push(c);else{const d=Tc(u,h);d!=null&&(o.push(c),s.set(c,d))}});const a=new Rn(o);return new jk(s,a,i.fieldTransforms)}function _U(t,e,n,r,i,o){const s=t.Cc(1,e,n),a=[rv(e,r,n)],l=[i];if(o.length%2!=0)throw new Y(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(rv(e,o[d])),l.push(o[d+1]);const u=[],c=mn.empty();for(let d=a.length-1;d>=0;--d)if(!zk(u,a[d])){const p=a[d];let g=l[d];g=rn(g);const w=s.yc(p);if(g instanceof wp)u.push(p);else{const E=Tc(g,w);E!=null&&(u.push(p),c.set(p,E))}}const h=new Rn(u);return new jk(c,h,s.fieldTransforms)}function wU(t,e,n,r=!1){return Tc(n,t.Cc(r?4:3,e))}function Tc(t,e){if(Bk(t=rn(t)))return I_("Unsupported field value:",e,t),Uk(t,e);if(t instanceof vp)return function(r,i){if(!$k(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Tc(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return i$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Be.fromDate(r);return{timestampValue:Jh(i.serializer,o)}}if(r instanceof Be){const o=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jh(i.serializer,o)}}if(r instanceof $r)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jn)return{bytesValue:ak(i.serializer,r._byteString)};if(r instanceof ot){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:f_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fr)return function(s,a){return{mapValue:{fields:{[LC]:{stringValue:VC},[Gh]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return a_(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${ip(r)}`)}(t,e)}function Uk(t,e){const n={};return kC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(t,(r,i)=>{const o=Tc(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Bk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof $r||t instanceof Jn||t instanceof ot||t instanceof vp||t instanceof Fr)}function I_(t,e,n){if(!Bk(n)||!xC(n)){const r=ip(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function rv(t,e,n){if((e=rn(e))instanceof yp)return e._internalPath;if(typeof e=="string")return x_(t,e);throw nd("Field path arguments must be of type string or ",t,!1,void 0,n)}const EU=new RegExp("[~\\*/\\[\\]]");function x_(t,e,n){if(e.search(EU)>=0)throw nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yp(...e.split("."))._internalPath}catch{throw nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nd(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Y(F.INVALID_ARGUMENT,a+t+l)}function zk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bU extends Wk{data(){return super.data()}}function Kk(t,e){return typeof e=="string"?x_(t,e):e instanceof yp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class C_{}class SU extends C_{}function DT(t,e,...n){let r=[];e instanceof C_&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof O_).length,a=o.filter(l=>l instanceof k_).length;if(s>1||s>0&&a>0)throw new Y(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class k_ extends SU{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new k_(e,n,r)}_apply(e){const n=this._parse(e);return Hk(e._query,n),new ul(e.firestore,e.converter,Hy(e._query,n))}_parse(e){const n=_p(e.firestore);return function(o,s,a,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Y(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){LT(h,c);const g=[];for(const w of h)g.push(MT(l,o,w));d={arrayValue:{values:g}}}else d=MT(l,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||LT(h,c),d=wU(a,s,h,c==="in"||c==="not-in");return ut.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class O_ extends C_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new O_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Er.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)Hk(s,l),s=Hy(s,l)}(e._query,n),new ul(e.firestore,e.converter,Hy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function MT(t,e,n){if(typeof(n=rn(n))=="string"){if(n==="")throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KC(e)&&n.indexOf("/")!==-1)throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!ee.isDocumentKey(r))throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yb(t,new ee(r))}if(n instanceof ot)return Yb(t,n._key);throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ip(n)}.`)}function LT(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hk(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AU{convertValue(e,n="none"){switch(bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Co(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Gh].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>rt(s.doubleValue));return new Fr(n)}convertGeoPoint(e){return new $r(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ap(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){const n=wo(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);Ie(dk(r),9688,{name:e});const i=new Wu(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||vi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class is extends Wk{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Kk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=is._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}is._jsonSchemaVersion="firestore/documentSnapshot/1.0",is._jsonSchema={type:ct("string",is._jsonSchemaVersion),bundleSource:ct("string","DocumentSnapshot"),bundleName:ct("string"),bundle:ct("string")};class hh extends is{data(e={}){return super.data(e)}}class Aa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new iu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hh(this._firestore,this._userDataWriter,r.key,r,new iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new hh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new iu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new hh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new iu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:PU(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Aa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=e_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}Aa._jsonSchemaVersion="firestore/querySnapshot/1.0",Aa._jsonSchema={type:ct("string",Aa._jsonSchemaVersion),bundleSource:ct("string","QuerySnapshot"),bundleName:ct("string"),bundle:ct("string")};class Gk extends AU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}function VT(t,e,n){t=Lr(t,ot);const r=Lr(t.firestore,ws),i=qk(t.converter,e,n);return Ep(r,[Fk(_p(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,nr.none())])}function jT(t,e,n,...r){t=Lr(t,ot);const i=Lr(t.firestore,ws),o=_p(i);let s;return s=typeof(e=rn(e))=="string"||e instanceof yp?_U(o,"updateDoc",t._key,e,n,r):vU(o,"updateDoc",t._key,e),Ep(i,[s.toMutation(t._key,nr.exists(!0))])}function IU(t){return Ep(Lr(t.firestore,ws),[new l_(t._key,nr.none())])}function fg(t,e){const n=Lr(t.firestore,ws),r=zo(t),i=qk(t.converter,e);return Ep(n,[Fk(_p(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,nr.exists(!1))]).then(()=>r)}function kf(t,...e){var l,u,c;t=rn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||NT(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(NT(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(c=h.complete)==null?void 0:c.bind(h)}let o,s,a;if(t instanceof ot)s=Lr(t.firestore,ws),a=s_(t._key.path),o={next:h=>{e[r]&&e[r](xU(s,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Lr(t,ul);s=Lr(h.firestore,ws),a=h._query;const d=new Gk(s);o={next:p=>{e[r]&&e[r](new Aa(s,d,h,p))},error:e[r+1],complete:e[r+2]},TU(t._query)}return function(d,p,g,w){const E=new lU(w),y=new zF(p,E,g);return d.asyncQueue.enqueueAndForget(async()=>$F(await PT(d),y)),()=>{E.Nu(),d.asyncQueue.enqueueAndForget(async()=>FF(await PT(d),y))}}(Vk(s),a,i,o)}function Ep(t,e){return function(r,i){const o=new rs;return r.asyncQueue.enqueueAndForget(async()=>ZF(await fU(r),i,o)),o.promise}(Vk(t),e)}function xU(t,e,n){const r=n.docs.get(e._key),i=new Gk(t);return new is(t,i,e._key,r,new iu(n.hasPendingWrites,n.fromCache),e.converter)}function CU(){return new P_("serverTimestamp")}(function(e,n=!0){(function(i){ol=i})(rl),Ma(new gs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ws(new g6(r.getProvider("auth-internal")),new _6(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(u.options.projectId,c)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ho(Lb,Vb,e),ho(Lb,Vb,"esm2020")})();function Yk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Yk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ze(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Yk(t))&&(r&&(r+=" "),r+=e);return r}var bp={},Qk={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Qk);var R_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(R_);var N_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(N_);var Tp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let o=0,s="",a="",l=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const u=n[o];a?u==="\\"&&o+1<i?(o++,s+=n[o]):u===a?a="":s+=u:l?u==='"'||u==="'"?a=u:u==="]"?(l=!1,r.push(s),s=""):s+=u:u==="["?(l=!0,s&&(r.push(s),s="")):u==="."?s&&(r.push(s),s=""):s+=u,o++}return s&&r.push(s),r}t.toPath=e})(Tp);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qk,n=R_,r=N_,i=Tp;function o(a,l,u){if(a==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const c=a[l];return c===void 0?n.isDeepKey(l)?o(a,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=a[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(a,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const c=a[l];return c===void 0?u:c}}}function s(a,l,u){if(l.length===0)return u;let c=a;for(let h=0;h<l.length;h++){if(c==null||e.isUnsafeProperty(l[h]))return u;c=c[l[h]]}return c===void 0?u:c}t.get=o})(bp);var kU=bp.get;const Es=Kr(kU);var Xk={exports:{}},De={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_=Symbol.for("react.transitional.element"),M_=Symbol.for("react.portal"),Sp=Symbol.for("react.fragment"),Ap=Symbol.for("react.strict_mode"),Pp=Symbol.for("react.profiler"),Ip=Symbol.for("react.consumer"),xp=Symbol.for("react.context"),Cp=Symbol.for("react.forward_ref"),kp=Symbol.for("react.suspense"),Op=Symbol.for("react.suspense_list"),Rp=Symbol.for("react.memo"),Np=Symbol.for("react.lazy"),OU=Symbol.for("react.view_transition"),RU=Symbol.for("react.client.reference");function lr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case D_:switch(t=t.type,t){case Sp:case Pp:case Ap:case kp:case Op:case OU:return t;default:switch(t=t&&t.$$typeof,t){case xp:case Cp:case Np:case Rp:return t;case Ip:return t;default:return e}}case M_:return e}}}De.ContextConsumer=Ip;De.ContextProvider=xp;De.Element=D_;De.ForwardRef=Cp;De.Fragment=Sp;De.Lazy=Np;De.Memo=Rp;De.Portal=M_;De.Profiler=Pp;De.StrictMode=Ap;De.Suspense=kp;De.SuspenseList=Op;De.isContextConsumer=function(t){return lr(t)===Ip};De.isContextProvider=function(t){return lr(t)===xp};De.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===D_};De.isForwardRef=function(t){return lr(t)===Cp};De.isFragment=function(t){return lr(t)===Sp};De.isLazy=function(t){return lr(t)===Np};De.isMemo=function(t){return lr(t)===Rp};De.isPortal=function(t){return lr(t)===M_};De.isProfiler=function(t){return lr(t)===Pp};De.isStrictMode=function(t){return lr(t)===Ap};De.isSuspense=function(t){return lr(t)===kp};De.isSuspenseList=function(t){return lr(t)===Op};De.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Sp||t===Pp||t===Ap||t===kp||t===Op||typeof t=="object"&&t!==null&&(t.$$typeof===Np||t.$$typeof===Rp||t.$$typeof===xp||t.$$typeof===Ip||t.$$typeof===Cp||t.$$typeof===RU||t.getModuleId!==void 0)};De.typeOf=lr;Xk.exports=De;var NU=Xk.exports,Nn=t=>t===0?0:t>0?1:-1,or=t=>typeof t=="number"&&t!=+t,Xo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Z=t=>(typeof t=="number"||t instanceof Number)&&!or(t),zr=t=>Z(t)||typeof t=="string",DU=0,Yu=t=>{var e=++DU;return"".concat(t||"").concat(e)},br=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(e)&&typeof e!="string")return r;var o;if(Xo(e)){if(n==null)return r;var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return or(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},Jk=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Gs(t,e,n){return Z(t)&&Z(e)?t+n*(e-t):e}function MU(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Es(r,e))===n)}var wt=t=>t===null||typeof t>"u",Sc=t=>wt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),LU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function L_(t){if(typeof t!="string")return!1;var e=LU;return e.includes(t)}var VU=["viewBox","children"],$T=["points","pathLength"],hg={svg:VU,polygon:$T,polyline:$T},jU=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(P.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{L_(i)&&(r[i]=o=>n[i](n,o))}),r},$U=(t,e,n)=>r=>(t(e,n,r),null),V_=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];L_(i)&&typeof o=="function"&&(r||(r={}),r[i]=$U(o,e,n))}),r},FU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Zk(t){if(typeof t!="string")return!1;var e=FU;return e.includes(t)}function Dp(t){var e=Object.entries(t).filter(n=>{var[r]=n;return Zk(r)});return Object.fromEntries(e)}var FT=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",UT=null,dg=null,eO=t=>{if(t===UT&&Array.isArray(dg))return dg;var e=[];return P.Children.forEach(t,n=>{wt(n)||(NU.isFragment(n)?e=e.concat(eO(n.props.children)):e.push(n))}),dg=e,UT=t,e};function j_(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>FT(i)):r=[FT(e)],eO(t).forEach(i=>{var o=Es(i,"type.displayName")||Es(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var UU=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var o=(i=r&&(hg==null?void 0:hg[r]))!==null&&i!==void 0?i:[],s=e.startsWith("data-"),a=typeof t!="function"&&(!!r&&o.includes(e)||Zk(e)),l=!!n&&L_(e);return s||a||l},xt=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(P.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var s;UU((s=r)===null||s===void 0?void 0:s[o],o,e,n)&&(i[o]=r[o])}),i},BU=["children","width","height","viewBox","className","style","title","desc"];function iv(){return iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iv.apply(null,arguments)}function zU(t,e){if(t==null)return{};var n,r,i=WU(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tO=P.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:a,title:l,desc:u}=t,c=zU(t,BU),h=o||{width:r,height:i,x:0,y:0},d=ze("recharts-surface",s);return P.createElement("svg",iv({},xt(c,!0,"svg"),{className:d,width:r,height:i,style:a,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),P.createElement("title",null,l),P.createElement("desc",null,u),n)}),KU=["children","className"];function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ov.apply(null,arguments)}function HU(t,e){if(t==null)return{};var n,r,i=qU(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ao=P.forwardRef((t,e)=>{var{children:n,className:r}=t,i=HU(t,KU),o=ze("recharts-layer",r);return P.createElement("g",ov({className:o},xt(i,!0),{ref:e}),n)}),GU=P.createContext(null);function Me(t){return function(){return t}}const nO=Math.cos,rd=Math.sin,Tr=Math.sqrt,id=Math.PI,Mp=2*id,sv=Math.PI,av=2*sv,Wo=1e-6,YU=av-Wo;function rO(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function QU(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return rO;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class XU{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?rO:QU(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,h=a-n,d=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Wo)if(!(Math.abs(h*l-u*c)>Wo)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,g=i-a,w=l*l+u*u,E=p*p+g*g,y=Math.sqrt(w),v=Math.sqrt(d),b=o*Math.tan((sv-Math.acos((w+d-E)/(2*y*v)))/2),x=b/v,R=b/y;Math.abs(x-1)>Wo&&this._append`L${e+x*c},${n+x*h}`,this._append`A${o},${o},0,0,${+(h*p>c*g)},${this._x1=e+R*l},${this._y1=n+R*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,h=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Wo||Math.abs(this._y1-c)>Wo)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%av+av),d>YU?this._append`A${r},${r},0,1,${h},${e-a},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:d>Wo&&this._append`A${r},${r},0,${+(d>=sv)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function $_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new XU(e)}function F_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function iO(t){this._context=t}iO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Lp(t){return new iO(t)}function oO(t){return t[0]}function sO(t){return t[1]}function aO(t,e){var n=Me(!0),r=null,i=Lp,o=null,s=$_(a);t=typeof t=="function"?t:t===void 0?oO:Me(t),e=typeof e=="function"?e:e===void 0?sO:Me(e);function a(l){var u,c=(l=F_(l)).length,h,d=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(h=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(h,u,l),+e(h,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Me(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Me(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Me(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Of(t,e,n){var r=null,i=Me(!0),o=null,s=Lp,a=null,l=$_(u);t=typeof t=="function"?t:t===void 0?oO:Me(+t),e=typeof e=="function"?e:Me(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?sO:Me(+n);function u(h){var d,p,g,w=(h=F_(h)).length,E,y=!1,v,b=new Array(w),x=new Array(w);for(o==null&&(a=s(v=l())),d=0;d<=w;++d){if(!(d<w&&i(E=h[d],d,h))===y)if(y=!y)p=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=d-1;g>=p;--g)a.point(b[g],x[g]);a.lineEnd(),a.areaEnd()}y&&(b[d]=+t(E,d,h),x[d]=+e(E,d,h),a.point(r?+r(E,d,h):b[d],n?+n(E,d,h):x[d]))}if(v)return a=null,v+""||null}function c(){return aO().defined(i).curve(s).context(o)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Me(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Me(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Me(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Me(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Me(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Me(+h),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Me(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,o!=null&&(a=s(o)),u):s},u.context=function(h){return arguments.length?(h==null?o=a=null:a=s(o=h),u):o},u}class lO{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function JU(t){return new lO(t,!0)}function ZU(t){return new lO(t,!1)}const U_={draw(t,e){const n=Tr(e/id);t.moveTo(n,0),t.arc(0,0,n,0,Mp)}},e9={draw(t,e){const n=Tr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},uO=Tr(1/3),t9=uO*2,n9={draw(t,e){const n=Tr(e/t9),r=n*uO;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},r9={draw(t,e){const n=Tr(e),r=-n/2;t.rect(r,r,n,n)}},i9=.8908130915292852,cO=rd(id/10)/rd(7*id/10),o9=rd(Mp/10)*cO,s9=-nO(Mp/10)*cO,a9={draw(t,e){const n=Tr(e*i9),r=o9*n,i=s9*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Mp*o/5,a=nO(s),l=rd(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},pg=Tr(3),l9={draw(t,e){const n=-Tr(e/(pg*3));t.moveTo(0,n*2),t.lineTo(-pg*n,-n),t.lineTo(pg*n,-n),t.closePath()}},Kn=-.5,Hn=Tr(3)/2,lv=1/Tr(12),u9=(lv/2+1)*3,c9={draw(t,e){const n=Tr(e/u9),r=n/2,i=n*lv,o=r,s=n*lv+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Kn*r-Hn*i,Hn*r+Kn*i),t.lineTo(Kn*o-Hn*s,Hn*o+Kn*s),t.lineTo(Kn*a-Hn*l,Hn*a+Kn*l),t.lineTo(Kn*r+Hn*i,Kn*i-Hn*r),t.lineTo(Kn*o+Hn*s,Kn*s-Hn*o),t.lineTo(Kn*a+Hn*l,Kn*l-Hn*a),t.closePath()}};function f9(t,e){let n=null,r=$_(i);t=typeof t=="function"?t:Me(t||U_),e=typeof e=="function"?e:Me(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Me(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Me(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function od(){}function sd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function fO(t){this._context=t}fO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function h9(t){return new fO(t)}function hO(t){this._context=t}hO.prototype={areaStart:od,areaEnd:od,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:sd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function d9(t){return new hO(t)}function dO(t){this._context=t}dO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:sd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function p9(t){return new dO(t)}function pO(t){this._context=t}pO.prototype={areaStart:od,areaEnd:od,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function m9(t){return new pO(t)}function BT(t){return t<0?-1:1}function zT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(BT(o)+BT(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function WT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function mg(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function ad(t){this._context=t}ad.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mg(this,this._t0,WT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,mg(this,WT(this,n=zT(this,t,e)),n);break;default:mg(this,this._t0,n=zT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function mO(t){this._context=new gO(t)}(mO.prototype=Object.create(ad.prototype)).point=function(t,e){ad.prototype.point.call(this,e,t)};function gO(t){this._context=t}gO.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function g9(t){return new ad(t)}function y9(t){return new mO(t)}function yO(t){this._context=t}yO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=KT(t),i=KT(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function KT(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function v9(t){return new yO(t)}function Vp(t,e){this._context=t,this._t=e}Vp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function _9(t){return new Vp(t,.5)}function w9(t){return new Vp(t,0)}function E9(t){return new Vp(t,1)}function Ba(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function uv(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function b9(t,e){return t[e]}function T9(t){const e=[];return e.key=t,e}function S9(){var t=Me([]),e=uv,n=Ba,r=b9;function i(o){var s=Array.from(t.apply(this,arguments),T9),a,l=s.length,u=-1,c;for(const h of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(h,s[a].key,u,o)]).data=h;for(a=0,c=F_(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Me(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Me(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?uv:typeof o=="function"?o:Me(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Ba,i):n},i}function A9(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Ba(t,e)}}function P9(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Ba(t,e)}}function I9(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],h=c[r][1]||0,d=c[r-1][1]||0,p=(h-d)/2,g=0;g<a;++g){var w=t[e[g]],E=w[r][1]||0,y=w[r-1][1]||0;p+=E-y}l+=h,u+=p*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Ba(t,e)}}var x9=["type","size","sizeType"];function cv(){return cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cv.apply(null,arguments)}function HT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HT(Object(n),!0).forEach(function(r){C9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C9(t,e,n){return(e=k9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k9(t){var e=O9(t,"string");return typeof e=="symbol"?e:e+""}function O9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R9(t,e){if(t==null)return{};var n,r,i=N9(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function N9(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vO={symbolCircle:U_,symbolCross:e9,symbolDiamond:n9,symbolSquare:r9,symbolStar:a9,symbolTriangle:l9,symbolWye:c9},D9=Math.PI/180,M9=t=>{var e="symbol".concat(Sc(t));return vO[e]||U_},L9=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*D9;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},V9=(t,e)=>{vO["symbol".concat(Sc(t))]=e},_O=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=R9(t,x9),o=qT(qT({},i),{},{type:e,size:n,sizeType:r}),s=()=>{var h=M9(e),d=f9().type(h).size(L9(n,r,e));return d()},{className:a,cx:l,cy:u}=o,c=xt(o,!0);return l===+l&&u===+u&&n===+n?P.createElement("path",cv({},c,{className:ze("recharts-symbols",a),transform:"translate(".concat(l,", ").concat(u,")"),d:s()})):null};_O.registerSymbol=V9;var wO={},EO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],a=r(s);i.has(a)||i.set(a,s)}return Array.from(i.values())}t.uniqBy=e})(EO);var B_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(B_);var bO={},jp={},TO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(TO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TO;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(jp);var SO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(SO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jp,n=SO;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(bO);var AO={},PO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bp;function n(r){return function(i){return e.get(i,r)}}t.property=n})(PO);var IO={},gg={},yg={},z_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(z_);var W_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(W_);var $p={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})($p);var GT;function j9(){return GT||(GT=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K_(),n=z_,r=W_,i=$p;function o(h,d,p){return typeof p!="function"?e.isMatch(h,d):s(h,d,function g(w,E,y,v,b,x){const R=p(w,E,y,v,b,x);return R!==void 0?!!R:s(w,E,g,x)},new Map)}function s(h,d,p,g){if(d===h)return!0;switch(typeof d){case"object":return a(h,d,p,g);case"function":return Object.keys(d).length>0?s(h,{...d},p,g):i.eq(h,d);default:return n.isObject(h)?typeof d=="string"?d==="":!0:i.eq(h,d)}}function a(h,d,p,g){if(d==null)return!0;if(Array.isArray(d))return u(h,d,p,g);if(d instanceof Map)return l(h,d,p,g);if(d instanceof Set)return c(h,d,p,g);const w=Object.keys(d);if(h==null)return w.length===0;if(w.length===0)return!0;if(g&&g.has(d))return g.get(d)===h;g&&g.set(d,h);try{for(let E=0;E<w.length;E++){const y=w[E];if(!r.isPrimitive(h)&&!(y in h)||d[y]===void 0&&h[y]!==void 0||d[y]===null&&h[y]!==null||!p(h[y],d[y],y,h,d,g))return!1}return!0}finally{g&&g.delete(d)}}function l(h,d,p,g){if(d.size===0)return!0;if(!(h instanceof Map))return!1;for(const[w,E]of d.entries()){const y=h.get(w);if(p(y,E,w,h,d,g)===!1)return!1}return!0}function u(h,d,p,g){if(d.length===0)return!0;if(!Array.isArray(h))return!1;const w=new Set;for(let E=0;E<d.length;E++){const y=d[E];let v=!1;for(let b=0;b<h.length;b++){if(w.has(b))continue;const x=h[b];let R=!1;if(p(x,y,E,h,d,g)&&(R=!0),R){w.add(b),v=!0;break}}if(!v)return!1}return!0}function c(h,d,p,g){return d.size===0?!0:h instanceof Set?u([...h],[...d],p,g):!1}t.isMatchWith=o,t.isSetMatch=c}(yg)),yg}var YT;function K_(){return YT||(YT=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j9();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(gg)),gg}var xO={},H_={},q_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(q_);var Fp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Fp);var Up={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",a="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",h="[object Function]",d="[object ArrayBuffer]",p="[object Object]",g="[object Error]",w="[object DataView]",E="[object Uint8Array]",y="[object Uint8ClampedArray]",v="[object Uint16Array]",b="[object Uint32Array]",x="[object BigUint64Array]",R="[object Int8Array]",D="[object Int16Array]",S="[object Int32Array]",T="[object BigInt64Array]",I="[object Float32Array]",C="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=d,t.arrayTag=c,t.bigInt64ArrayTag=T,t.bigUint64ArrayTag=x,t.booleanTag=i,t.dataViewTag=w,t.dateTag=a,t.errorTag=g,t.float32ArrayTag=I,t.float64ArrayTag=C,t.functionTag=h,t.int16ArrayTag=D,t.int32ArrayTag=S,t.int8ArrayTag=R,t.mapTag=l,t.numberTag=r,t.objectTag=p,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=v,t.uint32ArrayTag=b,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=y})(Up);var CO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(CO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q_,n=Fp,r=Up,i=W_,o=CO;function s(c,h){return a(c,void 0,c,new Map,h)}function a(c,h,d,p=new Map,g=void 0){const w=g==null?void 0:g(c,h,d,p);if(w!==void 0)return w;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const E=new Array(c.length);p.set(c,E);for(let y=0;y<c.length;y++)E[y]=a(c[y],y,d,p,g);return Object.hasOwn(c,"index")&&(E.index=c.index),Object.hasOwn(c,"input")&&(E.input=c.input),E}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const E=new RegExp(c.source,c.flags);return E.lastIndex=c.lastIndex,E}if(c instanceof Map){const E=new Map;p.set(c,E);for(const[y,v]of c)E.set(y,a(v,y,d,p,g));return E}if(c instanceof Set){const E=new Set;p.set(c,E);for(const y of c)E.add(a(y,void 0,d,p,g));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(o.isTypedArray(c)){const E=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,E);for(let y=0;y<c.length;y++)E[y]=a(c[y],y,d,p,g);return E}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const E=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,E),l(E,c,d,p,g),E}if(typeof File<"u"&&c instanceof File){const E=new File([c],c.name,{type:c.type});return p.set(c,E),l(E,c,d,p,g),E}if(c instanceof Blob){const E=new Blob([c],{type:c.type});return p.set(c,E),l(E,c,d,p,g),E}if(c instanceof Error){const E=new c.constructor;return p.set(c,E),E.message=c.message,E.name=c.name,E.stack=c.stack,E.cause=c.cause,l(E,c,d,p,g),E}if(typeof c=="object"&&u(c)){const E=Object.create(Object.getPrototypeOf(c));return p.set(c,E),l(E,c,d,p,g),E}return c}function l(c,h,d=c,p,g){const w=[...Object.keys(h),...e.getSymbols(h)];for(let E=0;E<w.length;E++){const y=w[E],v=Object.getOwnPropertyDescriptor(c,y);(v==null||v.writable)&&(c[y]=a(h[y],y,d,p,g))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=a,t.copyProperties=l})(H_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H_;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(xO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K_(),n=xO;function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(IO);var kO={},OO={},RO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H_,n=Up;function r(i,o){return e.cloneDeepWith(i,(s,a,l,u)=>{const c=o==null?void 0:o(s,a,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case n.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}t.cloneDeepWith=r})(RO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RO;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(OO);var NO={},G_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(G_);var DO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fp;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(DO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R_,n=G_,r=DO,i=Tp;function o(s,a){let l;if(Array.isArray(a)?l=a:typeof a=="string"&&e.isDeepKey(a)&&(s==null?void 0:s[a])==null?l=i.toPath(a):l=[a],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const h=l[c];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}t.has=o})(NO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K_(),n=N_,r=OO,i=bp,o=NO;function s(a,l){switch(typeof a){case"object":{Object.is(a==null?void 0:a.valueOf(),-0)&&(a="-0");break}case"number":{a=n.toKey(a);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,a);return c===void 0?o.has(u,a):l===void 0?c===void 0:e.isMatch(c,l)}}t.matchesProperty=s})(kO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B_,n=PO,r=IO,i=kO;function o(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=o})(AO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EO,n=B_,r=bO,i=AO;function o(s,a=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(a)):[]}t.uniqBy=o})(wO);var $9=wO.uniqBy;const QT=Kr($9);function F9(t,e,n){return e===!0?QT(t,n):typeof e=="function"?QT(t,e):t}var MO={exports:{}},LO={},VO={exports:{}},jO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za=P;function U9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var B9=typeof Object.is=="function"?Object.is:U9,z9=za.useState,W9=za.useEffect,K9=za.useLayoutEffect,H9=za.useDebugValue;function q9(t,e){var n=e(),r=z9({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return K9(function(){i.value=n,i.getSnapshot=e,vg(i)&&o({inst:i})},[t,n,e]),W9(function(){return vg(i)&&o({inst:i}),t(function(){vg(i)&&o({inst:i})})},[t]),H9(n),n}function vg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!B9(t,n)}catch{return!0}}function G9(t,e){return e()}var Y9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?G9:q9;jO.useSyncExternalStore=za.useSyncExternalStore!==void 0?za.useSyncExternalStore:Y9;VO.exports=jO;var Q9=VO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp=P,X9=Q9;function J9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Z9=typeof Object.is=="function"?Object.is:J9,e5=X9.useSyncExternalStore,t5=Bp.useRef,n5=Bp.useEffect,r5=Bp.useMemo,i5=Bp.useDebugValue;LO.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=t5(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=r5(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return h=g}return h=p}if(g=h,Z9(c,p))return g;var w=r(p);return i!==void 0&&i(g,w)?(c=p,g):(c=p,h=w)}var u=!1,c,h,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var a=e5(t,o[0],o[1]);return n5(function(){s.hasValue=!0,s.value=a},[a]),i5(a),a};MO.exports=LO;var o5=MO.exports,Y_=P.createContext(null),s5=t=>t,kt=()=>{var t=P.useContext(Y_);return t?t.store.dispatch:s5},dh=()=>{},a5=()=>dh,l5=(t,e)=>t===e;function ie(t){var e=P.useContext(Y_);return o5.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:a5,e?e.store.getState:dh,e?e.store.getState:dh,e?t:dh,l5)}function u5(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function c5(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function f5(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var XT=t=>Array.isArray(t)?t:[t];function h5(t){const e=Array.isArray(t[0])?t[0]:t;return f5(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function d5(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var p5=class{constructor(t){this.value=t}deref(){return this.value}},m5=typeof WeakRef<"u"?WeakRef:p5,g5=0,JT=1;function Rf(){return{s:g5,v:void 0,o:null,p:null}}function $O(t,e={}){let n=Rf();const{resultEqualityCheck:r}=e;let i,o=0;function s(){var h;let a=n;const{length:l}=arguments;for(let d=0,p=l;d<p;d++){const g=arguments[d];if(typeof g=="function"||typeof g=="object"&&g!==null){let w=a.o;w===null&&(a.o=w=new WeakMap);const E=w.get(g);E===void 0?(a=Rf(),w.set(g,a)):a=E}else{let w=a.p;w===null&&(a.p=w=new Map);const E=w.get(g);E===void 0?(a=Rf(),w.set(g,a)):a=E}}const u=a;let c;if(a.s===JT)c=a.v;else if(c=t.apply(null,arguments),o++,r){const d=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;d!=null&&r(d,c)&&(c=d,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new m5(c):c}return u.s=JT,u.v=c,c}return s.clearCache=()=>{n=Rf(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function y5(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,s=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),u5(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:h,memoizeOptions:d=[],argsMemoize:p=$O,argsMemoizeOptions:g=[]}=c,w=XT(d),E=XT(g),y=h5(i),v=h(function(){return o++,u.apply(null,arguments)},...w),b=p(function(){s++;const R=d5(y,arguments);return a=v.apply(null,R),a},...E);return Object.assign(b,{resultFunc:u,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:h,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var $=y5($O),v5=Object.assign((t,e=$)=>{c5(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((s,a,l)=>(s[n[l]]=a,s),{}))},{withTypes:()=>v5}),FO={},UO={},BO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=e(r),a=e(i);if(s===a&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?a-s:s-a}return 0};t.compareValues=n})(BO);var zO={},Q_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Q_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q_,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}t.isKey=i})(zO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BO,n=zO,r=Tp;function i(o,s,a,l){if(o==null)return[];a=l?void 0:a,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(p=>String(p));const u=(p,g)=>{let w=p;for(let E=0;E<g.length&&w!=null;++E)w=w[g[E]];return w},c=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,h=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return o.map(p=>({original:p,criteria:h.map(g=>c(g,p))})).slice().sort((p,g)=>{for(let w=0;w<h.length;w++){const E=e.compareValues(p.criteria[w],g.criteria[w],a[w]);if(E!==0)return E}return 0}).map(p=>p.original)}t.orderBy=i})(UO);var WO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),s=(a,l)=>{for(let u=0;u<a.length;u++){const c=a[u];Array.isArray(c)&&l<o?s(c,l+1):i.push(c)}};return s(n,0),i}t.flatten=e})(WO);var X_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G_,n=jp,r=z_,i=$p;function o(s,a,l){return r.isObject(l)&&(typeof a=="number"&&n.isArrayLike(l)&&e.isIndex(a)&&a<l.length||typeof a=="string"&&a in l)?i.eq(l[a],s):!1}t.isIterateeCall=o})(X_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UO,n=WO,r=X_;function i(o,...s){const a=s.length;return a>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:a>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(o,n.flatten(s),["asc"])}t.sortBy=i})(FO);var _5=FO.sortBy;const zp=Kr(_5);var KO=t=>t.legend.settings,w5=t=>t.legend.size,E5=t=>t.legend.payload;$([E5,KO],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?zp(r,n):r});var Nf=1;function b5(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=P.useState({height:0,left:0,top:0,width:0}),r=P.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-e.height)>Nf||Math.abs(s.left-e.left)>Nf||Math.abs(s.top-e.top)>Nf||Math.abs(s.width-e.width)>Nf)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Lt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var T5=typeof Symbol=="function"&&Symbol.observable||"@@observable",ZT=T5,_g=()=>Math.random().toString(36).substring(7).split("").join("."),S5={INIT:`@@redux/INIT${_g()}`,REPLACE:`@@redux/REPLACE${_g()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${_g()}`},ld=S5;function J_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function HO(t,e,n){if(typeof t!="function")throw new Error(Lt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Lt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Lt(1));return n(HO)(t,e)}let r=t,i=e,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((E,y)=>{s.set(y,E)}))}function c(){if(l)throw new Error(Lt(3));return i}function h(E){if(typeof E!="function")throw new Error(Lt(4));if(l)throw new Error(Lt(5));let y=!0;u();const v=a++;return s.set(v,E),function(){if(y){if(l)throw new Error(Lt(6));y=!1,u(),s.delete(v),o=null}}}function d(E){if(!J_(E))throw new Error(Lt(7));if(typeof E.type>"u")throw new Error(Lt(8));if(typeof E.type!="string")throw new Error(Lt(17));if(l)throw new Error(Lt(9));try{l=!0,i=r(i,E)}finally{l=!1}return(o=s).forEach(v=>{v()}),E}function p(E){if(typeof E!="function")throw new Error(Lt(10));r=E,d({type:ld.REPLACE})}function g(){const E=h;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Lt(11));function v(){const x=y;x.next&&x.next(c())}return v(),{unsubscribe:E(v)}},[ZT](){return this}}}return d({type:ld.INIT}),{dispatch:d,subscribe:h,getState:c,replaceReducer:p,[ZT]:g}}function A5(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ld.INIT})>"u")throw new Error(Lt(12));if(typeof n(void 0,{type:ld.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lt(13))})}function qO(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{A5(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const h=r[c],d=n[h],p=s[h],g=d(p,a);if(typeof g>"u")throw a&&a.type,new Error(Lt(14));u[h]=g,l=l||g!==p}return l=l||r.length!==Object.keys(s).length,l?u:s}}function ud(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function P5(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Lt(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},a=t.map(l=>l(s));return o=ud(...a)(i.dispatch),{...i,dispatch:o}}}function GO(t){return J_(t)&&"type"in t&&typeof t.type=="string"}var YO=Symbol.for("immer-nothing"),eS=Symbol.for("immer-draftable"),Vn=Symbol.for("immer-state");function mr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Wa=Object.getPrototypeOf;function bs(t){return!!t&&!!t[Vn]}function wi(t){var e;return t?QO(t)||Array.isArray(t)||!!t[eS]||!!((e=t.constructor)!=null&&e[eS])||Kp(t)||Hp(t):!1}var I5=Object.prototype.constructor.toString();function QO(t){if(!t||typeof t!="object")return!1;const e=Wa(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===I5}function cd(t,e){Wp(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Wp(t){const e=t[Vn];return e?e.type_:Array.isArray(t)?1:Kp(t)?2:Hp(t)?3:0}function fv(t,e){return Wp(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function XO(t,e,n){const r=Wp(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function x5(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Kp(t){return t instanceof Map}function Hp(t){return t instanceof Set}function Ko(t){return t.copy_||t.base_}function hv(t,e){if(Kp(t))return new Map(t);if(Hp(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=QO(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Vn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(Wa(t),r)}else{const r=Wa(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Z_(t,e=!1){return qp(t)||bs(t)||!wi(t)||(Wp(t)>1&&(t.set=t.add=t.clear=t.delete=C5),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Z_(r,!0))),t}function C5(){mr(2)}function qp(t){return Object.isFrozen(t)}var k5={};function Ts(t){const e=k5[t];return e||mr(0,t),e}var Qu;function JO(){return Qu}function O5(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function tS(t,e){e&&(Ts("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function dv(t){pv(t),t.drafts_.forEach(R5),t.drafts_=null}function pv(t){t===Qu&&(Qu=t.parent_)}function nS(t){return Qu=O5(Qu,t)}function R5(t){const e=t[Vn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function rS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Vn].modified_&&(dv(e),mr(4)),wi(t)&&(t=fd(e,t),e.parent_||hd(e,t)),e.patches_&&Ts("Patches").generateReplacementPatches_(n[Vn].base_,t,e.patches_,e.inversePatches_)):t=fd(e,n,[]),dv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==YO?t:void 0}function fd(t,e,n){if(qp(e))return e;const r=e[Vn];if(!r)return cd(e,(i,o)=>iS(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return hd(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),cd(o,(a,l)=>iS(t,r,i,a,l,n,s)),hd(t,i,!1),n&&t.patches_&&Ts("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function iS(t,e,n,r,i,o,s){if(bs(i)){const a=o&&e&&e.type_!==3&&!fv(e.assigned_,r)?o.concat(r):void 0,l=fd(t,i,a);if(XO(n,r,l),bs(l))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(wi(i)&&!qp(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;fd(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&hd(t,i)}}function hd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Z_(e,n)}function N5(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:JO(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=ew;n&&(i=[r],o=Xu);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var ew={get(t,e){if(e===Vn)return t;const n=Ko(t);if(!fv(n,e))return D5(t,n,e);const r=n[e];return t.finalized_||!wi(r)?r:r===wg(t.base_,e)?(Eg(t),t.copy_[e]=gv(r,t)):r},has(t,e){return e in Ko(t)},ownKeys(t){return Reflect.ownKeys(Ko(t))},set(t,e,n){const r=ZO(Ko(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=wg(Ko(t),e),o=i==null?void 0:i[Vn];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(x5(n,i)&&(n!==void 0||fv(t.base_,e)))return!0;Eg(t),mv(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return wg(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Eg(t),mv(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ko(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){mr(11)},getPrototypeOf(t){return Wa(t.base_)},setPrototypeOf(){mr(12)}},Xu={};cd(ew,(t,e)=>{Xu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Xu.deleteProperty=function(t,e){return Xu.set.call(this,t,e,void 0)};Xu.set=function(t,e,n){return ew.set.call(this,t[0],e,n,t[0])};function wg(t,e){const n=t[Vn];return(n?Ko(n):t)[e]}function D5(t,e,n){var i;const r=ZO(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function ZO(t,e){if(!(e in t))return;let n=Wa(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Wa(n)}}function mv(t){t.modified_||(t.modified_=!0,t.parent_&&mv(t.parent_))}function Eg(t){t.copy_||(t.copy_=hv(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var M5=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&mr(6),r!==void 0&&typeof r!="function"&&mr(7);let i;if(wi(e)){const o=nS(this),s=gv(e,void 0);let a=!0;try{i=n(s),a=!1}finally{a?dv(o):pv(o)}return tS(o,r),rS(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===YO&&(i=void 0),this.autoFreeze_&&Z_(i,!0),r){const o=[],s=[];Ts("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else mr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,l=>e(l,...a));let r,i;return[this.produce(e,n,(s,a)=>{r=s,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){wi(t)||mr(8),bs(t)&&(t=li(t));const e=nS(this),n=gv(t,void 0);return n[Vn].isManual_=!0,pv(e),n}finishDraft(t,e){const n=t&&t[Vn];(!n||!n.isManual_)&&mr(9);const{scope_:r}=n;return tS(r,e),rS(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Ts("Patches").applyPatches_;return bs(t)?r(t,e):this.produce(t,i=>r(i,e))}};function gv(t,e){const n=Kp(t)?Ts("MapSet").proxyMap_(t,e):Hp(t)?Ts("MapSet").proxySet_(t,e):N5(t,e);return(e?e.scope_:JO()).drafts_.push(n),n}function li(t){return bs(t)||mr(10,t),eR(t)}function eR(t){if(!wi(t)||qp(t))return t;const e=t[Vn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=hv(t,e.scope_.immer_.useStrictShallowCopy_)}else n=hv(t,!0);return cd(n,(r,i)=>{XO(n,r,eR(i))}),e&&(e.finalized_=!1),n}var jn=new M5,tR=jn.produce;jn.produceWithPatches.bind(jn);jn.setAutoFreeze.bind(jn);jn.setUseStrictShallowCopy.bind(jn);jn.applyPatches.bind(jn);jn.createDraft.bind(jn);jn.finishDraft.bind(jn);function nR(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var L5=nR(),V5=nR,j5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ud:ud.apply(null,arguments)};function sr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Mn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>GO(r)&&r.type===t,n}var rR=class ou extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ou.prototype)}static get[Symbol.species](){return ou}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ou(...e[0].concat(this)):new ou(...e.concat(this))}};function oS(t){return wi(t)?tR(t,()=>{}):t}function Df(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function $5(t){return typeof t=="boolean"}var F5=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new rR;return n&&($5(n)?s.push(L5):s.push(V5(n.extraArgument))),s},U5="RTK_autoBatch",sS=t=>e=>{setTimeout(e,t)},B5=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sS(10):t.type==="callback"?t.queueNotification:sS(t.timeout),u=()=>{s=!1,o&&(o=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const h=()=>i&&c(),d=r.subscribe(h);return a.add(c),()=>{d(),a.delete(c)}},dispatch(c){var h;try{return i=!((h=c==null?void 0:c.meta)!=null&&h[U5]),o=!i,o&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},z5=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new rR(t);return r&&i.push(B5(typeof r=="object"?r:void 0)),i};function W5(t){const e=F5(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(J_(n))a=qO(n);else throw new Error(Mn(1));let l;typeof r=="function"?l=r(e):l=e();let u=ud;i&&(u=j5({trace:!1,...typeof i=="object"&&i}));const c=P5(...l),h=z5(c);let d=typeof s=="function"?s(h):h();const p=u(...d);return HO(a,o,p)}function iR(t){const e={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(Mn(28));if(a in e)throw new Error(Mn(29));return e[a]=s,i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function K5(t){return typeof t=="function"}function H5(t,e){let[n,r,i]=iR(e),o;if(K5(t))o=()=>oS(t());else{const a=oS(t);o=()=>a}function s(a=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,h)=>{if(h)if(bs(c)){const p=h(c,l);return p===void 0?c:p}else{if(wi(c))return tR(c,d=>h(d,l));{const d=h(c,l);if(d===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return c},a)}return s.getInitialState=o,s}var q5="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",G5=(t=21)=>{let e="",n=t;for(;n--;)e+=q5[Math.random()*64|0];return e},Y5=Symbol.for("rtk-slice-createasyncthunk");function Q5(t,e){return`${t}/${e}`}function X5({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Y5];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(Mn(11));const a=(typeof i.reducers=="function"?i.reducers(Z5()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(x,R){const D=typeof x=="string"?x:x.type;if(!D)throw new Error(Mn(12));if(D in u.sliceCaseReducersByType)throw new Error(Mn(13));return u.sliceCaseReducersByType[D]=R,c},addMatcher(x,R){return u.sliceMatchers.push({matcher:x,reducer:R}),c},exposeAction(x,R){return u.actionCreators[x]=R,c},exposeCaseReducer(x,R){return u.sliceCaseReducersByName[x]=R,c}};l.forEach(x=>{const R=a[x],D={reducerName:x,type:Q5(o,x),createNotation:typeof i.reducers=="function"};tB(R)?rB(D,R,c,e):eB(D,R,c)});function h(){const[x={},R=[],D=void 0]=typeof i.extraReducers=="function"?iR(i.extraReducers):[i.extraReducers],S={...x,...u.sliceCaseReducersByType};return H5(i.initialState,T=>{for(let I in S)T.addCase(I,S[I]);for(let I of u.sliceMatchers)T.addMatcher(I.matcher,I.reducer);for(let I of R)T.addMatcher(I.matcher,I.reducer);D&&T.addDefaultCase(D)})}const d=x=>x,p=new Map,g=new WeakMap;let w;function E(x,R){return w||(w=h()),w(x,R)}function y(){return w||(w=h()),w.getInitialState()}function v(x,R=!1){function D(T){let I=T[x];return typeof I>"u"&&R&&(I=Df(g,D,y)),I}function S(T=d){const I=Df(p,R,()=>new WeakMap);return Df(I,T,()=>{const C={};for(const[k,N]of Object.entries(i.selectors??{}))C[k]=J5(N,T,()=>Df(g,T,y),R);return C})}return{reducerPath:x,getSelectors:S,get selectors(){return S(D)},selectSlice:D}}const b={name:o,reducer:E,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...v(s),injectInto(x,{reducerPath:R,...D}={}){const S=R??s;return x.inject({reducerPath:S,reducer:E},D),{...b,...v(S,!0)}}};return b}}function J5(t,e,n,r){function i(o,...s){let a=e(o);return typeof a>"u"&&r&&(a=n()),t(a,...s)}return i.unwrapped=t,i}var Bn=X5();function Z5(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function eB({type:t,reducerName:e,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!nB(r))throw new Error(Mn(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?sr(t,s):sr(t))}function tB(t){return t._reducerDefinitionType==="asyncThunk"}function nB(t){return t._reducerDefinitionType==="reducerWithPrepare"}function rB({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Mn(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:u,options:c}=n,h=i(t,o,c);r.exposeAction(e,h),s&&r.addCase(h.fulfilled,s),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:s||Mf,pending:a||Mf,rejected:l||Mf,settled:u||Mf})}function Mf(){}var iB="task",oR="listener",sR="completed",tw="cancelled",oB=`task-${tw}`,sB=`task-${sR}`,yv=`${oR}-${tw}`,aB=`${oR}-${sR}`,Gp=class{constructor(t){Pm(this,"name","TaskAbortError");Pm(this,"message");this.code=t,this.message=`${iB} ${tw} (reason: ${t})`}},nw=(t,e)=>{if(typeof t!="function")throw new TypeError(Mn(32))},dd=()=>{},aR=(t,e=dd)=>(t.catch(e),t),lR=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),os=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ss=t=>{if(t.aborted){const{reason:e}=t;throw new Gp(e)}};function uR(t,e){let n=dd;return new Promise((r,i)=>{const o=()=>i(new Gp(t.reason));if(t.aborted){o();return}n=lR(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=dd})}var lB=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Gp?"cancelled":"rejected",error:n}}finally{e==null||e()}},pd=t=>e=>aR(uR(t,e).then(n=>(ss(t),n))),cR=t=>{const e=pd(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Pa}=Object,aS={},Yp="listenerMiddleware",uB=(t,e)=>{const n=r=>lR(t,()=>os(r,t.reason));return(r,i)=>{nw(r);const o=new AbortController;n(o);const s=lB(async()=>{ss(t),ss(o.signal);const a=await r({pause:pd(o.signal),delay:cR(o.signal),signal:o.signal});return ss(o.signal),a},()=>os(o,sB));return i!=null&&i.autoJoin&&e.push(s.catch(dd)),{result:pd(t)(s),cancel(){os(o,oB)}}}},cB=(t,e)=>{const n=async(r,i)=>{ss(e);let o=()=>{};const a=[new Promise((l,u)=>{let c=t({predicate:r,effect:(h,d)=>{d.unsubscribe(),l([h,d.getState(),d.getOriginalState()])}});o=()=>{c(),u()}})];i!=null&&a.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await uR(e,Promise.race(a));return ss(e),l}finally{o()}};return(r,i)=>aR(n(r,i))},fR=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=sr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Mn(21));return nw(o),{predicate:i,type:e,effect:o}},hR=Pa(t=>{const{type:e,predicate:n,effect:r}=fR(t);return{id:G5(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Mn(22))}}},{withTypes:()=>hR}),lS=(t,e)=>{const{type:n,effect:r,predicate:i}=fR(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},vv=t=>{t.pending.forEach(e=>{os(e,yv)})},fB=t=>()=>{t.forEach(vv),t.clear()},uS=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},dR=Pa(sr(`${Yp}/add`),{withTypes:()=>dR}),hB=sr(`${Yp}/removeAll`),pR=Pa(sr(`${Yp}/remove`),{withTypes:()=>pR}),dB=(...t)=>{console.error(`${Yp}/error`,...t)},Ac=(t={})=>{const e=new Map,{extra:n,onError:r=dB}=t;nw(r);const i=c=>(c.unsubscribe=()=>e.delete(c.id),e.set(c.id,c),h=>{c.unsubscribe(),h!=null&&h.cancelActive&&vv(c)}),o=c=>{const h=lS(e,c)??hR(c);return i(h)};Pa(o,{withTypes:()=>o});const s=c=>{const h=lS(e,c);return h&&(h.unsubscribe(),c.cancelActive&&vv(h)),!!h};Pa(s,{withTypes:()=>s});const a=async(c,h,d,p)=>{const g=new AbortController,w=cB(o,g.signal),E=[];try{c.pending.add(g),await Promise.resolve(c.effect(h,Pa({},d,{getOriginalState:p,condition:(y,v)=>w(y,v).then(Boolean),take:w,delay:cR(g.signal),pause:pd(g.signal),extra:n,signal:g.signal,fork:uB(g.signal,E),unsubscribe:c.unsubscribe,subscribe:()=>{e.set(c.id,c)},cancelActiveListeners:()=>{c.pending.forEach((y,v,b)=>{y!==g&&(os(y,yv),b.delete(y))})},cancel:()=>{os(g,yv),c.pending.delete(g)},throwIfCancelled:()=>{ss(g.signal)}})))}catch(y){y instanceof Gp||uS(r,y,{raisedBy:"effect"})}finally{await Promise.all(E),os(g,aB),c.pending.delete(g)}},l=fB(e);return{middleware:c=>h=>d=>{if(!GO(d))return h(d);if(dR.match(d))return o(d.payload);if(hB.match(d)){l();return}if(pR.match(d))return s(d.payload);let p=c.getState();const g=()=>{if(p===aS)throw new Error(Mn(23));return p};let w;try{if(w=h(d),e.size>0){const E=c.getState(),y=Array.from(e.values());for(const v of y){let b=!1;try{b=v.predicate(d,E,p)}catch(x){b=!1,uS(r,x,{raisedBy:"predicate"})}b&&a(v,d,c,g)}}}finally{p=aS}return w},startListening:o,stopListening:s,clearListeners:l}};function Mn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},mR=Bn({name:"chartLayout",initialState:pB,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:mB,setLayout:gB,setChartSize:yB,setScale:vB}=mR.actions,_B=mR.reducer;function cS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cS(Object(n),!0).forEach(function(r){wB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wB(t,e,n){return(e=EB(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EB(t){var e=bB(t,"string");return typeof e=="symbol"?e:e+""}function bB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var md=Math.PI/180,TB=t=>t*180/Math.PI,Ut=(t,e,n,r)=>({x:t+Math.cos(-md*r)*n,y:e+Math.sin(-md*r)*n}),SB=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},AB=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},PB=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,s=AB({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var a=(n-i)/s,l=Math.acos(a);return r>o&&(l=2*Math.PI-l),{radius:s,angle:TB(l),angleInRadian:l}},IB=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},xB=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return t+s*360},CB=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:o}=PB({x:n,y:r},e),{innerRadius:s,outerRadius:a}=e;if(i<s||i>a||i===0)return null;var{startAngle:l,endAngle:u}=IB(e),c=o,h;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;h=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;h=c>=u&&c<=l}return h?fS(fS({},e),{},{radius:i,angle:xB(c,e)}):null};function gR(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function hS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hS(Object(n),!0).forEach(function(r){kB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kB(t,e,n){return(e=OB(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OB(t){var e=RB(t,"string");return typeof e=="symbol"?e:e+""}function RB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ln(t,e,n){return wt(t)||wt(e)?n:zr(e)?Es(t,e,n):typeof e=="function"?e(t):n}var NB=(t,e,n,r,i)=>{var o,s=-1,a=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var u=l>0?n[l-1].coordinate:n[a-1].coordinate,c=n[l].coordinate,h=l>=a-1?n[0].coordinate:n[l+1].coordinate,d=void 0;if(Nn(c-u)!==Nn(h-c)){var p=[];if(Nn(h-c)===Nn(i[1]-i[0])){d=h;var g=c+i[1]-i[0];p[0]=Math.min(g,(g+u)/2),p[1]=Math.max(g,(g+u)/2)}else{d=u;var w=h+i[1]-i[0];p[0]=Math.min(c,(w+c)/2),p[1]=Math.max(c,(w+c)/2)}var E=[Math.min(c,(d+c)/2),Math.max(c,(d+c)/2)];if(t>E[0]&&t<=E[1]||t>=p[0]&&t<=p[1]){({index:s}=n[l]);break}}else{var y=Math.min(u,h),v=Math.max(u,h);if(t>(y+c)/2&&t<=(v+c)/2){({index:s}=n[l]);break}}}else if(e){for(var b=0;b<a;b++)if(b===0&&t<=(e[b].coordinate+e[b+1].coordinate)/2||b>0&&b<a-1&&t>(e[b].coordinate+e[b-1].coordinate)/2&&t<=(e[b].coordinate+e[b+1].coordinate)/2||b===a-1&&t>(e[b].coordinate+e[b-1].coordinate)/2){({index:s}=e[b]);break}}return s},DB=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:a}=e;if((a==="vertical"||a==="horizontal"&&s==="middle")&&o!=="center"&&Z(t[o]))return Qn(Qn({},t),{},{[o]:t[o]+(r||0)});if((a==="horizontal"||a==="vertical"&&o==="center")&&s!=="middle"&&Z(t[s]))return Qn(Qn({},t),{},{[s]:t[s]+(i||0)})}return t},Cs=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",dS=1e-4,MB=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-dS,o=Math.max(r[0],r[1])+dS,s=t(e[0]),a=t(e[n-1]);(s<i||s>o||a<i||a>o)&&t.domain([e[0],e[n-1]])}},LB=(t,e)=>{if(!e||e.length!==2||!Z(e[0])||!Z(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Z(t[0])||t[0]<n)&&(i[0]=n),(!Z(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},VB=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,s=0;s<e;++s){var a=or(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=i,t[s][n][1]=i+a,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+a,o=t[s][n][1])}},jB=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var s=or(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},$B={sign:VB,expand:A9,none:Ba,silhouette:P9,wiggle:I9,positive:jB},FB=(t,e,n)=>{var r=$B[n],i=S9().keys(e).value((o,s)=>+ln(o,s,0)).order(uv).offset(r);return i(t)};function UB(t){return t==null?void 0:String(t)}var pS=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var a=ln(o,e.dataKey,e.scale.domain()[s]);return wt(a)?null:e.scale(a)-i/2+r},BB=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},zB=t=>{var e=t.flat(2).filter(Z);return[Math.min(...e),Math.max(...e)]},WB=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],KB=(t,e,n)=>{if(t!=null)return WB(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:s}=o,a=s.reduce((l,u)=>{var c=gR(u,e,n),h=zB(c);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]))},mS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rw=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=zp(e,c=>c.coordinate),o=1/0,s=1,a=i.length;s<a;s++){var l=i[s],u=i[s-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function yS(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Qn(Qn({},e),{},{dataKey:n,payload:r,value:i,name:o})}function yR(t,e){if(t)return String(t);if(typeof e=="string")return e}function HB(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return o?{x:t,y:e}:null}return r?CB({x:t,y:e},r):null}var qB=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:s}=r;return Qn(Qn(Qn({},r),Ut(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var a=i.coordinate,{angle:l}=r;return Qn(Qn(Qn({},r),Ut(r.cx,r.cy,a,l)),{},{angle:l,radius:a})}return{x:0,y:0}},GB=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Pi=t=>t.layout.width,Ii=t=>t.layout.height,YB=t=>t.layout.scale,vR=t=>t.layout.margin,iw=$(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),ow=$(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),QB="data-recharts-item-index",XB="data-recharts-item-data-key",Qp=60;function vS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vS(Object(n),!0).forEach(function(r){JB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JB(t,e,n){return(e=ZB(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZB(t){var e=ez(t,"string");return typeof e=="symbol"?e:e+""}function ez(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tz=t=>t.brush.height,Ot=$([Pi,Ii,vR,tz,iw,ow,KO,w5],(t,e,n,r,i,o,s,a)=>{var l=o.reduce((g,w)=>{var{orientation:E}=w;if(!w.mirror&&!w.hide){var y=typeof w.width=="number"?w.width:Qp;return Fi(Fi({},g),{},{[E]:g[E]+y})}return g},{left:n.left||0,right:n.right||0}),u=i.reduce((g,w)=>{var{orientation:E}=w;return!w.mirror&&!w.hide?Fi(Fi({},g),{},{[E]:Es(g,"".concat(E))+w.height}):g},{top:n.top||0,bottom:n.bottom||0}),c=Fi(Fi({},u),l),h=c.bottom;c.bottom+=r,c=DB(c,s,a);var d=t-c.left-c.right,p=e-c.top-c.bottom;return Fi(Fi({brushBottom:h},c),{},{width:Math.max(d,0),height:Math.max(p,0)})}),nz=$(Ot,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),_R=$(Pi,Ii,(t,e)=>({x:0,y:0,width:t,height:e})),rz=P.createContext(null),Sr=()=>P.useContext(rz)!=null,Xp=t=>t.brush,Jp=$([Xp,Ot,vR],(t,e,n)=>({height:t.height,x:Z(t.x)?t.x:e.left,y:Z(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Z(t.width)?t.width:e.width})),sw=()=>{var t,e=Sr(),n=ie(nz),r=ie(Jp),i=(t=ie(Xp))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},iz={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},oz=()=>{var t;return(t=ie(Ot))!==null&&t!==void 0?t:iz},sz=()=>ie(Pi),az=()=>ie(Ii),ke=t=>t.layout.layoutType,aw=()=>ie(ke),lz={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},wR=Bn({name:"legend",initialState:lz,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=li(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:VJ,setLegendSettings:jJ,addLegendPayload:uz,removeLegendPayload:cz}=wR.actions,fz=wR.reducer;function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_v.apply(null,arguments)}function _S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_S(Object(n),!0).forEach(function(r){hz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_S(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hz(t,e,n){return(e=dz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dz(t){var e=pz(t,"string");return typeof e=="symbol"?e:e+""}function pz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mz(t){return Array.isArray(t)&&zr(t[0])&&zr(t[1])?t.join(" ~ "):t}var gz=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:s,itemSorter:a,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:h,accessibilityLayer:d=!1}=t,p=()=>{if(o&&o.length){var R={padding:0,margin:0},D=(a?zp(o,a):o).map((S,T)=>{if(S.type==="none")return null;var I=S.formatter||s||mz,{value:C,name:k}=S,N=C,O=k;if(I){var ue=I(C,k,S,T,o);if(Array.isArray(ue))[N,O]=ue;else if(ue!=null)N=ue;else return null}var Te=bg({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},r);return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:Te},zr(O)?P.createElement("span",{className:"recharts-tooltip-item-name"},O):null,zr(O)?P.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,P.createElement("span",{className:"recharts-tooltip-item-value"},N),P.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:R},D)}return null},g=bg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=bg({margin:0},i),E=!wt(c),y=E?c:"",v=ze("recharts-default-tooltip",l),b=ze("recharts-tooltip-label",u);E&&h&&o!==void 0&&o!==null&&(y=h(c,o));var x=d?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",_v({className:v,style:g},x),P.createElement("p",{className:b,style:w},P.isValidElement(y)?y:"".concat(y)),p())},zl="recharts-tooltip-wrapper",yz={visibility:"hidden"};function vz(t){var{coordinate:e,translateX:n,translateY:r}=t;return ze(zl,{["".concat(zl,"-right")]:Z(n)&&e&&Z(e.x)&&n>=e.x,["".concat(zl,"-left")]:Z(n)&&e&&Z(e.x)&&n<e.x,["".concat(zl,"-bottom")]:Z(r)&&e&&Z(e.y)&&r>=e.y,["".concat(zl,"-top")]:Z(r)&&e&&Z(e.y)&&r<e.y})}function wS(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:a,viewBox:l,viewBoxDimension:u}=t;if(o&&Z(o[r]))return o[r];var c=n[r]-a-(i>0?i:0),h=n[r]+i;if(e[r])return s[r]?c:h;var d=l[r];if(d==null)return 0;if(s[r]){var p=c,g=d;return p<g?Math.max(h,d):Math.max(c,d)}if(u==null)return 0;var w=h+a,E=d+u;return w>E?Math.max(c,d):Math.max(h,d)}function _z(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function wz(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:s,useTranslate3d:a,viewBox:l}=t,u,c,h;return s.height>0&&s.width>0&&n?(c=wS({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),h=wS({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=_z({translateX:c,translateY:h,useTranslate3d:a})):u=yz,{cssProperties:u,cssClasses:vz({translateX:c,translateY:h,coordinate:n})}}function ES(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ES(Object(n),!0).forEach(function(r){wv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ES(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wv(t,e,n){return(e=Ez(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ez(t){var e=bz(t,"string");return typeof e=="symbol"?e:e+""}function bz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Tz extends P.PureComponent{constructor(){super(...arguments),wv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),wv(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:a,isAnimationActive:l,offset:u,position:c,reverseDirection:h,useTranslate3d:d,viewBox:p,wrapperStyle:g,lastBoundingBox:w,innerRef:E,hasPortalFromProps:y}=this.props,{cssClasses:v,cssProperties:b}=wz({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:c,reverseDirection:h,tooltipBox:{height:w.height,width:w.width},useTranslate3d:d,viewBox:p}),x=y?{}:Lf(Lf({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&a?"visible":"hidden",position:"absolute",top:0,left:0}),R=Lf(Lf({},x),{},{visibility:!this.state.dismissed&&e&&a?"visible":"hidden"},g);return P.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:R,ref:E},o)}}var Sz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Pc={isSsr:Sz()},ER=()=>ie(t=>t.rootProps.accessibilityLayer);function $n(t){return Number.isFinite(t)}function gd(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(null,arguments)}function bS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bS(Object(n),!0).forEach(function(r){Az(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Az(t,e,n){return(e=Pz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pz(t){var e=Iz(t,"string");return typeof e=="symbol"?e:e+""}function Iz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SS={curveBasisClosed:d9,curveBasisOpen:p9,curveBasis:h9,curveBumpX:JU,curveBumpY:ZU,curveLinearClosed:m9,curveLinear:Lp,curveMonotoneX:g9,curveMonotoneY:y9,curveNatural:v9,curveStep:_9,curveStepAfter:E9,curveStepBefore:w9},Vf=t=>$n(t.x)&&$n(t.y),Wl=t=>t.x,Kl=t=>t.y,xz=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Sc(t));return(n==="curveMonotone"||n==="curveBump")&&e?SS["".concat(n).concat(e==="vertical"?"Y":"X")]:SS[n]||Lp},Cz=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,s=xz(e,i),a=o?n.filter(Vf):n,l;if(Array.isArray(r)){var u=o?r.filter(h=>Vf(h)):r,c=a.map((h,d)=>TS(TS({},h),{},{base:u[d]}));return i==="vertical"?l=Of().y(Kl).x1(Wl).x0(h=>h.base.x):l=Of().x(Wl).y1(Kl).y0(h=>h.base.y),l.defined(Vf).curve(s),l(c)}return i==="vertical"&&Z(r)?l=Of().y(Kl).x1(Wl).x0(r):Z(r)?l=Of().x(Wl).y1(Kl).y0(r):l=aO().x(Wl).y(Kl),l.defined(Vf).curve(s),l(a)},kz=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?Cz(t):r;return P.createElement("path",Ev({},Dp(t),jU(t),{className:ze("recharts-curve",e),d:o===null?void 0:o,ref:i}))},Oz=["x","y","top","left","width","height","className"];function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(null,arguments)}function AS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AS(Object(n),!0).forEach(function(r){Nz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nz(t,e,n){return(e=Dz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dz(t){var e=Mz(t,"string");return typeof e=="symbol"?e:e+""}function Mz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lz(t,e){if(t==null)return{};var n,r,i=Vz(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jz=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),$z=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:a}=t,l=Lz(t,Oz),u=Rz({x:e,y:n,top:r,left:i,width:o,height:s},l);return!Z(e)||!Z(n)||!Z(o)||!Z(s)||!Z(r)||!Z(i)?null:P.createElement("path",bv({},xt(u,!0),{className:ze("recharts-cross",a),d:jz(e,n,o,s,r,i)}))};function Fz(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function PS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PS(Object(n),!0).forEach(function(r){Bz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bz(t,e,n){return(e=zz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zz(t){var e=Wz(t,"string");return typeof e=="symbol"?e:e+""}function Wz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ks(t,e){var n=Uz({},t),r=e,i=Object.keys(e),o=i.reduce((s,a)=>(s[a]===void 0&&r[a]!==void 0&&(s[a]=r[a]),s),n);return o}var bR={},TR={},SR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(SR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SR,n=q_,r=Fp,i=Up,o=$p;function s(u,c,h){return a(u,c,void 0,void 0,void 0,void 0,h)}function a(u,c,h,d,p,g,w){const E=w(u,c,h,d,p,g);if(E!==void 0)return E;if(typeof u==typeof c)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===c;case"number":return u===c||Object.is(u,c);case"function":return u===c;case"object":return l(u,c,g,w)}return l(u,c,g,w)}function l(u,c,h,d){if(Object.is(u,c))return!0;let p=r.getTag(u),g=r.getTag(c);if(p===i.argumentsTag&&(p=i.objectTag),g===i.argumentsTag&&(g=i.objectTag),p!==g)return!1;switch(p){case i.stringTag:return u.toString()===c.toString();case i.numberTag:{const y=u.valueOf(),v=c.valueOf();return o.eq(y,v)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),c.valueOf());case i.regexpTag:return u.source===c.source&&u.flags===c.flags;case i.functionTag:return u===c}h=h??new Map;const w=h.get(u),E=h.get(c);if(w!=null&&E!=null)return w===c;h.set(u,c),h.set(c,u);try{switch(p){case i.mapTag:{if(u.size!==c.size)return!1;for(const[y,v]of u.entries())if(!c.has(y)||!a(v,c.get(y),y,u,c,h,d))return!1;return!0}case i.setTag:{if(u.size!==c.size)return!1;const y=Array.from(u.values()),v=Array.from(c.values());for(let b=0;b<y.length;b++){const x=y[b],R=v.findIndex(D=>a(x,D,void 0,u,c,h,d));if(R===-1)return!1;v.splice(R,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(c)||u.length!==c.length)return!1;for(let y=0;y<u.length;y++)if(!a(u[y],c[y],y,u,c,h,d))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==c.byteLength?!1:l(new Uint8Array(u),new Uint8Array(c),h,d);case i.dataViewTag:return u.byteLength!==c.byteLength||u.byteOffset!==c.byteOffset?!1:l(new Uint8Array(u),new Uint8Array(c),h,d);case i.errorTag:return u.name===c.name&&u.message===c.message;case i.objectTag:{if(!(l(u.constructor,c.constructor,h,d)||e.isPlainObject(u)&&e.isPlainObject(c)))return!1;const v=[...Object.keys(u),...n.getSymbols(u)],b=[...Object.keys(c),...n.getSymbols(c)];if(v.length!==b.length)return!1;for(let x=0;x<v.length;x++){const R=v[x],D=u[R];if(!Object.hasOwn(c,R))return!1;const S=c[R];if(!a(D,S,R,u,c,h,d))return!1}return!0}default:return!1}}finally{h.delete(u),h.delete(c)}}t.isEqualWith=s})(TR);var AR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(AR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TR,n=AR;function r(i,o){return e.isEqualWith(i,o,n.noop)}t.isEqual=r})(bR);var Kz=bR.isEqual;const Hz=Kr(Kz);var yd=1e-4,PR=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],IR=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),IS=(t,e)=>n=>{var r=PR(t,e);return IR(r,n)},qz=(t,e)=>n=>{var r=PR(t,e),i=[...r.map((o,s)=>o*s).slice(1),0];return IR(i,n)},xS=function(){for(var e,n,r,i,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];if(s.length===1)switch(s[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var l=s[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,r,n,i]=l[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else s.length===4&&([e,r,n,i]=s);var u=IS(e,n),c=IS(r,i),h=qz(e,n),d=g=>g>1?1:g<0?0:g,p=g=>{for(var w=g>1?1:g,E=w,y=0;y<8;++y){var v=u(E)-w,b=h(E);if(Math.abs(v-w)<yd||b<yd)return c(E);E=d(E-v/b)}return c(E)};return p.isStepper=!1,p},Gz=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(s,a,l)=>{var u=-(s-a)*n,c=l*r,h=l+(u-c)*i/1e3,d=l*i/1e3+s;return Math.abs(d-a)<yd&&Math.abs(h)<yd?[a,0]:[d,h]};return o.isStepper=!0,o.dt=i,o},xR=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xS(t);case"spring":return Gz();default:if(t.split("(")[0]==="cubic-bezier")return xS(t)}return typeof t=="function"?t:null};function CS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CS(Object(n),!0).forEach(function(r){Yz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yz(t,e,n){return(e=Qz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qz(t){var e=Xz(t,"string");return typeof e=="symbol"?e:e+""}function Xz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jz=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Zz=(t,e,n)=>t.map(r=>"".concat(Jz(r)," ").concat(e,"ms ").concat(n)).join(","),e8=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ju=(t,e)=>Object.keys(e).reduce((n,r)=>kS(kS({},n),{},{[r]:t(r,e[r])}),{});function OS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OS(Object(n),!0).forEach(function(r){t8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t8(t,e,n){return(e=n8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n8(t){var e=r8(t,"string");return typeof e=="symbol"?e:e+""}function r8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vd=(t,e,n)=>t+(e-t)*n,Tv=t=>{var{from:e,to:n}=t;return e!==n},CR=(t,e,n)=>{var r=Ju((i,o)=>{if(Tv(o)){var[s,a]=t(o.from,o.to,o.velocity);return $t($t({},o),{},{from:s,velocity:a})}return o},e);return n<1?Ju((i,o)=>Tv(o)?$t($t({},o),{},{velocity:vd(o.velocity,r[i].velocity,n),from:vd(o.from,r[i].from,n)}):o,e):CR(t,r,n-1)};function i8(t,e,n,r,i,o){var s,a=r.reduce((d,p)=>$t($t({},d),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),l=()=>Ju((d,p)=>p.from,a),u=()=>!Object.values(a).filter(Tv).length,c=null,h=d=>{s||(s=d);var p=d-s,g=p/n.dt;a=CR(n,a,g),i($t($t($t({},t),e),l())),s=d,u()||(c=o.setTimeout(h))};return()=>(c=o.setTimeout(h),()=>{c()})}function o8(t,e,n,r,i,o,s){var a=null,l=i.reduce((h,d)=>$t($t({},h),{},{[d]:[t[d],e[d]]}),{}),u,c=h=>{u||(u=h);var d=(h-u)/r,p=Ju((w,E)=>vd(...E,n(d)),l);if(o($t($t($t({},t),e),p)),d<1)a=s.setTimeout(c);else{var g=Ju((w,E)=>vd(...E,n(1)),l);o($t($t($t({},t),e),g))}};return()=>(a=s.setTimeout(c),()=>{a()})}const kR=(t,e,n,r,i,o)=>{var s=e8(t,e);return n.isStepper===!0?i8(t,e,n,s,i,o):o8(t,e,n,r,s,i,o)};function s8(t){var e,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,[l,...u]=a;if(typeof l=="number"){i=t.setTimeout(o.bind(null,u),l);return}o(l),i=t.setTimeout(o.bind(null,u));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class a8{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function l8(){return s8(new a8)}var u8=P.createContext(l8);function OR(t,e){var n=P.useContext(u8);return P.useMemo(()=>e??n(t),[t,e,n])}var c8=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(null,arguments)}function f8(t,e){if(t==null)return{};var n,r,i=h8(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function h8(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function RS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(n),!0).forEach(function(r){Jo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jo(t,e,n){return(e=d8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d8(t){var e=p8(t,"string");return typeof e=="symbol"?e:e+""}function p8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class lw extends P.PureComponent{constructor(e,n){super(e,n),Jo(this,"mounted",!1),Jo(this,"manager",void 0),Jo(this,"stopJSAnimation",null),Jo(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:o,to:s,children:a,duration:l,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||l<=0){this.state={style:{}},typeof a=="function"&&(this.state={style:s});return}if(o){if(typeof a=="function"){this.state={style:o};return}this.state={style:i?{[i]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:o,to:s,from:a}=this.props,{style:l}=this.state;if(r){if(!n){var u={style:i?{[i]:s}:s};this.state&&l&&(i&&l[i]!==s||!i&&l!==s)&&this.setState(u);return}if(!(Hz(e.to,s)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var h=c||o?a:e.to;if(this.state&&l){var d={style:i?{[i]:h}:h};(i&&l[i]!==h||!i&&l!==h)&&this.setState(d)}this.runAnimation(Ui(Ui({},this.props),{},{from:h,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:o,begin:s,onAnimationEnd:a,onAnimationStart:l}=e,u=kR(n,r,xR(o),i,this.changeStyle,this.manager.getTimeoutController()),c=()=>{this.stopJSAnimation=u()};this.manager.start([l,s,c,i,a])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:o,easing:s,onAnimationStart:a,onAnimationEnd:l,children:u}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof s=="function"||typeof u=="function"||s==="spring"){this.runJSAnimation(e);return}var c=i?{[i]:o}:o,h=Zz(Object.keys(c),r,s);this.manager.start([a,n,Ui(Ui({},c),{},{transition:h}),r,l])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:o,easing:s,isActive:a,from:l,to:u,canBegin:c,onAnimationEnd:h,shouldReAnimate:d,onAnimationReStart:p,animationManager:g}=e,w=f8(e,c8),E=P.Children.count(n),y=this.state.style;if(typeof n=="function")return n(y);if(!a||E===0||i<=0)return n;var v=b=>{var{style:x={},className:R}=b.props,D=P.cloneElement(b,Ui(Ui({},w),{},{style:Ui(Ui({},x),y),className:R}));return D};return E===1?v(P.Children.only(n)):P.createElement("div",null,P.Children.map(n,b=>v(b)))}}Jo(lw,"displayName","Animate");Jo(lw,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function _d(t){var e,n=OR((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return P.createElement(lw,Sv({},t,{animationManager:n}))}function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wd.apply(null,arguments)}var NS=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,a=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var c=[0,0,0,0],h=0,d=4;h<d;h++)c[h]=i[h]>o?o:i[h];u="M".concat(t,",").concat(e+s*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(t+a*c[0],",").concat(e)),u+="L ".concat(t+n-a*c[1],",").concat(e),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+s*c[1])),u+="L ".concat(t+n,",").concat(e+r-s*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(t+n-a*c[2],",").concat(e+r)),u+="L ".concat(t+a*c[3],",").concat(e+r),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-s*c[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);u="M ".concat(t,",").concat(e+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+a*p,",").concat(e,`
            L `).concat(t+n-a*p,",").concat(e,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n,",").concat(e+s*p,`
            L `).concat(t+n,",").concat(e+r-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n-a*p,",").concat(e+r,`
            L `).concat(t+a*p,",").concat(e+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t,",").concat(e+r-s*p," Z")}else u="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},m8={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RR=t=>{var e=ks(t,m8),n=P.useRef(null),[r,i]=P.useState(-1);P.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&i(y)}catch{}},[]);var{x:o,y:s,width:a,height:l,radius:u,className:c}=e,{animationEasing:h,animationDuration:d,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:w}=e;if(o!==+o||s!==+s||a!==+a||l!==+l||a===0||l===0)return null;var E=ze("recharts-rectangle",c);return w?P.createElement(_d,{canBegin:r>0,from:{width:a,height:l,x:o,y:s},to:{width:a,height:l,x:o,y:s},duration:d,animationEasing:h,isActive:w},y=>{var{width:v,height:b,x,y:R}=y;return P.createElement(_d,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:d,isActive:g,easing:h},P.createElement("path",wd({},xt(e,!0),{className:E,d:NS(x,R,v,b,u),ref:n})))}):P.createElement("path",wd({},xt(e,!0),{className:E,d:NS(o,s,a,l,u)}))};function NR(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,s=Ut(e,n,r,i),a=Ut(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Av.apply(null,arguments)}var g8=(t,e)=>{var n=Nn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},jf=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:a,cornerIsExternal:l}=t,u=a*(s?1:-1)+r,c=Math.asin(a/u)/md,h=l?i:i+o*c,d=Ut(e,n,u,h),p=Ut(e,n,r,h),g=l?i-o*c:i,w=Ut(e,n,u*Math.cos(c*md),g);return{center:d,circleTangency:p,lineTangency:w,theta:c}},DR=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=t,a=g8(o,s),l=o+a,u=Ut(e,n,i,o),c=Ut(e,n,i,l),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(a)>180),",").concat(+(o>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(r>0){var d=Ut(e,n,r,o),p=Ut(e,n,r,l);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(a)>180),",").concat(+(o<=l),`,
            `).concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(e,",").concat(n," Z");return h},y8=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:a,startAngle:l,endAngle:u}=t,c=Nn(u-l),{circleTangency:h,lineTangency:d,theta:p}=jf({cx:e,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:a}),{circleTangency:g,lineTangency:w,theta:E}=jf({cx:e,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:a}),y=a?Math.abs(l-u):Math.abs(l-u)-p-E;if(y<0)return s?"M ".concat(d.x,",").concat(d.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):DR({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var v="M ".concat(d.x,",").concat(d.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:b,lineTangency:x,theta:R}=jf({cx:e,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),{circleTangency:D,lineTangency:S,theta:T}=jf({cx:e,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),I=a?Math.abs(l-u):Math.abs(l-u)-R-T;if(I<0&&o===0)return"".concat(v,"L").concat(e,",").concat(n,"Z");v+="L".concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(I>180),",").concat(+(c>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(x.x,",").concat(x.y,"Z")}else v+="L".concat(e,",").concat(n,"Z");return v},v8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},MR=t=>{var e=ks(t,v8),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:c,className:h}=e;if(o<i||u===c)return null;var d=ze("recharts-sector",h),p=o-i,g=br(s,p,0,!0),w;return g>0&&Math.abs(u-c)<360?w=y8({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:c}):w=DR({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c}),P.createElement("path",Av({},xt(e,!0),{className:d,d:w}))};function _8(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:a,cy:l,innerRadius:u,outerRadius:c,angle:h}=e,d=Ut(a,l,u,h),p=Ut(a,l,c,h);r=d.x,i=d.y,o=p.x,s=p.y}else return NR(e);return[{x:r,y:i},{x:o,y:s}]}var LR={},VR={},jR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q_;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(jR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jR;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(VR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X_,n=VR;function r(i,o,s){s&&typeof s!="number"&&e.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const a=Math.max(Math.ceil((o-i)/(s||1)),0),l=new Array(a);for(let u=0;u<a;u++)l[u]=i,i+=s;return l}t.range=r})(LR);var w8=LR.range;const $R=Kr(w8);function go(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function E8(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uw(t){let e,n,r;t.length!==2?(e=go,n=(a,l)=>go(t(a),l),r=(a,l)=>t(a)-l):(e=t===go||t===E8?t:b8,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(a[h],l)<0?u=h+1:c=h}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(a[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function s(a,l,u=0,c=a.length){const h=i(a,l,u,c-1);return h>u&&r(a[h-1],l)>-r(a[h],l)?h-1:h}return{left:i,center:s,right:o}}function b8(){return 0}function FR(t){return t===null?NaN:+t}function*T8(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const S8=uw(go),Ic=S8.right;uw(FR).center;class DS extends Map{constructor(e,n=I8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(MS(this,e))}has(e){return super.has(MS(this,e))}set(e,n){return super.set(A8(this,e),n)}delete(e){return super.delete(P8(this,e))}}function MS({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function A8({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function P8({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function I8(t){return t!==null&&typeof t=="object"?t.valueOf():t}function x8(t=go){if(t===go)return UR;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function UR(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const C8=Math.sqrt(50),k8=Math.sqrt(10),O8=Math.sqrt(2);function Ed(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=C8?10:o>=k8?5:o>=O8?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Ed(t,e,n*2):[a,l,u]}function Pv(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Ed(e,t,n):Ed(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function Iv(t,e,n){return e=+e,t=+t,n=+n,Ed(t,e,n)[2]}function xv(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Iv(e,t,n):Iv(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function LS(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function VS(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function BR(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?UR:x8(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*h/l+d)),g=Math.min(r,Math.floor(e+(l-u)*h/l+d));BR(t,e,p,g,i)}const o=t[e];let s=n,a=r;for(Hl(t,n,e),i(t[r],o)>0&&Hl(t,n,r);s<a;){for(Hl(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Hl(t,n,a):(++a,Hl(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Hl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function R8(t,e,n){if(t=Float64Array.from(T8(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return VS(t);if(e>=1)return LS(t);var r,i=(r-1)*e,o=Math.floor(i),s=LS(BR(t,o).subarray(0,o+1)),a=VS(t.subarray(o+1));return s+(a-s)*(i-o)}}function N8(t,e,n=FR){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function D8(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ur(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function xi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Cv=Symbol("implicit");function cw(){var t=new DS,e=[],n=[],r=Cv;function i(o){let s=t.get(o);if(s===void 0){if(r!==Cv)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new DS;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return cw(e,n).unknown(r)},ur.apply(i,arguments),i}function fw(){var t=cw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var d=e().length,p=i<r,g=p?i:r,w=p?r:i;o=(w-g)/Math.max(1,d-l+u*2),a&&(o=Math.floor(o)),g+=(w-g-o*(d-l))*c,s=o*(1-l),a&&(g=Math.round(g),s=Math.round(s));var E=D8(d).map(function(y){return g+o*y});return n(p?E.reverse():E)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,h()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(d){return arguments.length?(a=!!d,h()):a},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),h()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),h()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,h()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),h()):c},t.copy=function(){return fw(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},ur.apply(h(),arguments)}function zR(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return zR(e())},t}function M8(){return zR(fw.apply(null,arguments).paddingInner(1))}function hw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function WR(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function xc(){}var Zu=.7,bd=1/Zu,Ia="\\s*([+-]?\\d+)\\s*",ec="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ur="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",L8=/^#([0-9a-f]{3,8})$/,V8=new RegExp(`^rgb\\(${Ia},${Ia},${Ia}\\)$`),j8=new RegExp(`^rgb\\(${Ur},${Ur},${Ur}\\)$`),$8=new RegExp(`^rgba\\(${Ia},${Ia},${Ia},${ec}\\)$`),F8=new RegExp(`^rgba\\(${Ur},${Ur},${Ur},${ec}\\)$`),U8=new RegExp(`^hsl\\(${ec},${Ur},${Ur}\\)$`),B8=new RegExp(`^hsla\\(${ec},${Ur},${Ur},${ec}\\)$`),jS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hw(xc,tc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:$S,formatHex:$S,formatHex8:z8,formatHsl:W8,formatRgb:FS,toString:FS});function $S(){return this.rgb().formatHex()}function z8(){return this.rgb().formatHex8()}function W8(){return KR(this).formatHsl()}function FS(){return this.rgb().formatRgb()}function tc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=L8.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?US(e):n===3?new yn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?$f(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?$f(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=V8.exec(t))?new yn(e[1],e[2],e[3],1):(e=j8.exec(t))?new yn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$8.exec(t))?$f(e[1],e[2],e[3],e[4]):(e=F8.exec(t))?$f(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=U8.exec(t))?WS(e[1],e[2]/100,e[3]/100,1):(e=B8.exec(t))?WS(e[1],e[2]/100,e[3]/100,e[4]):jS.hasOwnProperty(t)?US(jS[t]):t==="transparent"?new yn(NaN,NaN,NaN,0):null}function US(t){return new yn(t>>16&255,t>>8&255,t&255,1)}function $f(t,e,n,r){return r<=0&&(t=e=n=NaN),new yn(t,e,n,r)}function K8(t){return t instanceof xc||(t=tc(t)),t?(t=t.rgb(),new yn(t.r,t.g,t.b,t.opacity)):new yn}function kv(t,e,n,r){return arguments.length===1?K8(t):new yn(t,e,n,r??1)}function yn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}hw(yn,kv,WR(xc,{brighter(t){return t=t==null?bd:Math.pow(bd,t),new yn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zu:Math.pow(Zu,t),new yn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yn(as(this.r),as(this.g),as(this.b),Td(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BS,formatHex:BS,formatHex8:H8,formatRgb:zS,toString:zS}));function BS(){return`#${Zo(this.r)}${Zo(this.g)}${Zo(this.b)}`}function H8(){return`#${Zo(this.r)}${Zo(this.g)}${Zo(this.b)}${Zo((isNaN(this.opacity)?1:this.opacity)*255)}`}function zS(){const t=Td(this.opacity);return`${t===1?"rgb(":"rgba("}${as(this.r)}, ${as(this.g)}, ${as(this.b)}${t===1?")":`, ${t})`}`}function Td(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function as(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zo(t){return t=as(t),(t<16?"0":"")+t.toString(16)}function WS(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new gr(t,e,n,r)}function KR(t){if(t instanceof gr)return new gr(t.h,t.s,t.l,t.opacity);if(t instanceof xc||(t=tc(t)),!t)return new gr;if(t instanceof gr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new gr(s,a,l,t.opacity)}function q8(t,e,n,r){return arguments.length===1?KR(t):new gr(t,e,n,r??1)}function gr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}hw(gr,q8,WR(xc,{brighter(t){return t=t==null?bd:Math.pow(bd,t),new gr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zu:Math.pow(Zu,t),new gr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new yn(Tg(t>=240?t-240:t+120,i,r),Tg(t,i,r),Tg(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new gr(KS(this.h),Ff(this.s),Ff(this.l),Td(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Td(this.opacity);return`${t===1?"hsl(":"hsla("}${KS(this.h)}, ${Ff(this.s)*100}%, ${Ff(this.l)*100}%${t===1?")":`, ${t})`}`}}));function KS(t){return t=(t||0)%360,t<0?t+360:t}function Ff(t){return Math.max(0,Math.min(1,t||0))}function Tg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const dw=t=>()=>t;function G8(t,e){return function(n){return t+n*e}}function Y8(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Q8(t){return(t=+t)==1?HR:function(e,n){return n-e?Y8(e,n,t):dw(isNaN(e)?n:e)}}function HR(t,e){var n=e-t;return n?G8(t,n):dw(isNaN(t)?e:t)}const HS=function t(e){var n=Q8(e);function r(i,o){var s=n((i=kv(i)).r,(o=kv(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=HR(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function X8(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function J8(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Z8(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=cl(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function e7(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Sd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function t7(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=cl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Ov=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sg=new RegExp(Ov.source,"g");function n7(t){return function(){return t}}function r7(t){return function(e){return t(e)+""}}function i7(t,e){var n=Ov.lastIndex=Sg.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=Ov.exec(t))&&(i=Sg.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Sd(r,i)})),n=Sg.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?r7(l[0].x):n7(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)a[(h=l[c]).i]=h.x(u);return a.join("")})}function cl(t,e){var n=typeof e,r;return e==null||n==="boolean"?dw(e):(n==="number"?Sd:n==="string"?(r=tc(e))?(e=r,HS):i7:e instanceof tc?HS:e instanceof Date?e7:J8(e)?X8:Array.isArray(e)?Z8:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?t7:Sd)(t,e)}function pw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function o7(t,e){e===void 0&&(e=t,t=cl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function s7(t){return function(){return t}}function Ad(t){return+t}var qS=[0,1];function sn(t){return t}function Rv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:s7(isNaN(e)?NaN:.5)}function a7(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function l7(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Rv(i,r),o=n(s,o)):(r=Rv(r,i),o=n(o,s)),function(a){return o(r(a))}}function u7(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Rv(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Ic(t,a,1,r)-1;return o[l](i[l](a))}}function Cc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zp(){var t=qS,e=qS,n=cl,r,i,o,s=sn,a,l,u;function c(){var d=Math.min(t.length,e.length);return s!==sn&&(s=a7(t[0],t[d-1])),a=d>2?u7:l7,l=u=null,h}function h(d){return d==null||isNaN(d=+d)?o:(l||(l=a(t.map(r),e,n)))(r(s(d)))}return h.invert=function(d){return s(i((u||(u=a(e,t.map(r),Sd)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,Ad),c()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=pw,c()},h.clamp=function(d){return arguments.length?(s=d?!0:sn,c()):s!==sn},h.interpolate=function(d){return arguments.length?(n=d,c()):n},h.unknown=function(d){return arguments.length?(o=d,h):o},function(d,p){return r=d,i=p,c()}}function mw(){return Zp()(sn,sn)}function c7(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Pd(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ka(t){return t=Pd(Math.abs(t)),t?t[1]:NaN}function f7(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function h7(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var d7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nc(t){if(!(e=d7.exec(t)))throw new Error("invalid format: "+t);var e;return new gw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nc.prototype=gw.prototype;function gw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}gw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function p7(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var qR;function m7(t,e){var n=Pd(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(qR=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Pd(t,Math.max(0,e+o-1))[0]}function GS(t,e){var n=Pd(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const YS={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:c7,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>GS(t*100,e),r:GS,s:m7,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function QS(t){return t}var XS=Array.prototype.map,JS=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function g7(t){var e=t.grouping===void 0||t.thousands===void 0?QS:f7(XS.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?QS:h7(XS.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=nc(h);var d=h.fill,p=h.align,g=h.sign,w=h.symbol,E=h.zero,y=h.width,v=h.comma,b=h.precision,x=h.trim,R=h.type;R==="n"?(v=!0,R="g"):YS[R]||(b===void 0&&(b=12),x=!0,R="g"),(E||d==="0"&&p==="=")&&(E=!0,d="0",p="=");var D=w==="$"?n:w==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",S=w==="$"?r:/[%p]/.test(R)?s:"",T=YS[R],I=/[defgprs%]/.test(R);b=b===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function C(k){var N=D,O=S,ue,Te,ne;if(R==="c")O=T(k)+O,k="";else{k=+k;var ye=k<0||1/k<0;if(k=isNaN(k)?l:T(Math.abs(k),b),x&&(k=p7(k)),ye&&+k==0&&g!=="+"&&(ye=!1),N=(ye?g==="("?g:a:g==="-"||g==="("?"":g)+N,O=(R==="s"?JS[8+qR/3]:"")+O+(ye&&g==="("?")":""),I){for(ue=-1,Te=k.length;++ue<Te;)if(ne=k.charCodeAt(ue),48>ne||ne>57){O=(ne===46?i+k.slice(ue+1):k.slice(ue))+O,k=k.slice(0,ue);break}}}v&&!E&&(k=e(k,1/0));var W=N.length+k.length+O.length,J=W<y?new Array(y-W+1).join(d):"";switch(v&&E&&(k=e(J+k,J.length?y-O.length:1/0),J=""),p){case"<":k=N+k+O+J;break;case"=":k=N+J+k+O;break;case"^":k=J.slice(0,W=J.length>>1)+N+k+O+J.slice(W);break;default:k=J+N+k+O;break}return o(k)}return C.toString=function(){return h+""},C}function c(h,d){var p=u((h=nc(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(Ka(d)/3)))*3,w=Math.pow(10,-g),E=JS[8+g/3];return function(y){return p(w*y)+E}}return{format:u,formatPrefix:c}}var Uf,yw,GR;y7({thousands:",",grouping:[3],currency:["$",""]});function y7(t){return Uf=g7(t),yw=Uf.format,GR=Uf.formatPrefix,Uf}function v7(t){return Math.max(0,-Ka(Math.abs(t)))}function _7(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ka(e)/3)))*3-Ka(Math.abs(t)))}function w7(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ka(e)-Ka(t))+1}function YR(t,e,n,r){var i=xv(t,e,n),o;switch(r=nc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=_7(i,s))&&(r.precision=o),GR(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=w7(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=v7(i))&&(r.precision=o-(r.type==="%")*2);break}}return yw(r)}function Oo(t){var e=t.domain;return t.ticks=function(n){var r=e();return Pv(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return YR(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=Iv(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function QR(){var t=mw();return t.copy=function(){return Cc(t,QR())},ur.apply(t,arguments),Oo(t)}function XR(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ad),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return XR(t).unknown(e)},t=arguments.length?Array.from(t,Ad):[0,1],Oo(n)}function JR(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function ZS(t){return Math.log(t)}function eA(t){return Math.exp(t)}function E7(t){return-Math.log(-t)}function b7(t){return-Math.exp(-t)}function T7(t){return isFinite(t)?+("1e"+t):t<0?0:t}function S7(t){return t===10?T7:t===Math.E?Math.exp:e=>Math.pow(t,e)}function A7(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function tA(t){return(e,n)=>-t(-e,n)}function vw(t){const e=t(ZS,eA),n=e.domain;let r=10,i,o;function s(){return i=A7(r),o=S7(r),n()[0]<0?(i=tA(i),o=tA(o),t(E7,b7)):t(ZS,eA),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const h=c<u;h&&([u,c]=[c,u]);let d=i(u),p=i(c),g,w;const E=a==null?10:+a;let y=[];if(!(r%1)&&p-d<E){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(g=1;g<r;++g)if(w=d<0?g/o(-d):g*o(d),!(w<u)){if(w>c)break;y.push(w)}}else for(;d<=p;++d)for(g=r-1;g>=1;--g)if(w=d>0?g/o(-d):g*o(d),!(w<u)){if(w>c)break;y.push(w)}y.length*2<E&&(y=Pv(u,c,E))}else y=Pv(d,p,Math.min(p-d,E)).map(o);return h?y.reverse():y},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=nc(l)).precision==null&&(l.trim=!0),l=yw(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let h=c/o(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=u?l(c):""}},e.nice=()=>n(JR(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function ZR(){const t=vw(Zp()).domain([1,10]);return t.copy=()=>Cc(t,ZR()).base(t.base()),ur.apply(t,arguments),t}function nA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function rA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _w(t){var e=1,n=t(nA(e),rA(e));return n.constant=function(r){return arguments.length?t(nA(e=+r),rA(e)):e},Oo(n)}function e2(){var t=_w(Zp());return t.copy=function(){return Cc(t,e2()).constant(t.constant())},ur.apply(t,arguments)}function iA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function P7(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function I7(t){return t<0?-t*t:t*t}function ww(t){var e=t(sn,sn),n=1;function r(){return n===1?t(sn,sn):n===.5?t(P7,I7):t(iA(n),iA(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Oo(e)}function Ew(){var t=ww(Zp());return t.copy=function(){return Cc(t,Ew()).exponent(t.exponent())},ur.apply(t,arguments),t}function x7(){return Ew.apply(null,arguments).exponent(.5)}function oA(t){return Math.sign(t)*t*t}function C7(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function t2(){var t=mw(),e=[0,1],n=!1,r;function i(o){var s=C7(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(oA(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Ad)).map(oA)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return t2(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ur.apply(i,arguments),Oo(i)}function n2(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=N8(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Ic(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(go),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return n2().domain(t).range(e).unknown(r)},ur.apply(o,arguments)}function r2(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Ic(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return r2().domain([t,e]).range(i).unknown(o)},ur.apply(Oo(s),arguments)}function i2(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Ic(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return i2().domain(t).range(e).unknown(n)},ur.apply(i,arguments)}const Ag=new Date,Pg=new Date;function Et(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Et(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Ag.setTime(+o),Pg.setTime(+s),t(Ag),t(Pg),Math.floor(n(Ag,Pg))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Id=Et(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Id.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Et(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Id);Id.range;const ii=1e3,er=ii*60,oi=er*60,Ei=oi*24,bw=Ei*7,sA=Ei*30,Ig=Ei*365,es=Et(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ii)},(t,e)=>(e-t)/ii,t=>t.getUTCSeconds());es.range;const Tw=Et(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ii)},(t,e)=>{t.setTime(+t+e*er)},(t,e)=>(e-t)/er,t=>t.getMinutes());Tw.range;const Sw=Et(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*er)},(t,e)=>(e-t)/er,t=>t.getUTCMinutes());Sw.range;const Aw=Et(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ii-t.getMinutes()*er)},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getHours());Aw.range;const Pw=Et(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getUTCHours());Pw.range;const kc=Et(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*er)/Ei,t=>t.getDate()-1);kc.range;const em=Et(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ei,t=>t.getUTCDate()-1);em.range;const o2=Et(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ei,t=>Math.floor(t/Ei));o2.range;function Os(t){return Et(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*er)/bw)}const tm=Os(0),xd=Os(1),k7=Os(2),O7=Os(3),Ha=Os(4),R7=Os(5),N7=Os(6);tm.range;xd.range;k7.range;O7.range;Ha.range;R7.range;N7.range;function Rs(t){return Et(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/bw)}const nm=Rs(0),Cd=Rs(1),D7=Rs(2),M7=Rs(3),qa=Rs(4),L7=Rs(5),V7=Rs(6);nm.range;Cd.range;D7.range;M7.range;qa.range;L7.range;V7.range;const Iw=Et(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Iw.range;const xw=Et(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());xw.range;const bi=Et(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());bi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Et(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});bi.range;const Ti=Et(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ti.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Et(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ti.range;function s2(t,e,n,r,i,o){const s=[[es,1,ii],[es,5,5*ii],[es,15,15*ii],[es,30,30*ii],[o,1,er],[o,5,5*er],[o,15,15*er],[o,30,30*er],[i,1,oi],[i,3,3*oi],[i,6,6*oi],[i,12,12*oi],[r,1,Ei],[r,2,2*Ei],[n,1,bw],[e,1,sA],[e,3,3*sA],[t,1,Ig]];function a(u,c,h){const d=c<u;d&&([u,c]=[c,u]);const p=h&&typeof h.range=="function"?h:l(u,c,h),g=p?p.range(u,+c+1):[];return d?g.reverse():g}function l(u,c,h){const d=Math.abs(c-u)/h,p=uw(([,,E])=>E).right(s,d);if(p===s.length)return t.every(xv(u/Ig,c/Ig,h));if(p===0)return Id.every(Math.max(xv(u,c,h),1));const[g,w]=s[d/s[p-1][2]<s[p][2]/d?p-1:p];return g.every(w)}return[a,l]}const[j7,$7]=s2(Ti,xw,nm,o2,Pw,Sw),[F7,U7]=s2(bi,Iw,tm,kc,Aw,Tw);function xg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Cg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ql(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function B7(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=Gl(i),c=Yl(i),h=Gl(o),d=Yl(o),p=Gl(s),g=Yl(s),w=Gl(a),E=Yl(a),y=Gl(l),v=Yl(l),b={a:ye,A:W,b:J,B:te,c:null,d:hA,e:hA,f:fW,g:EW,G:TW,H:lW,I:uW,j:cW,L:a2,m:hW,M:dW,p:_e,q:H,Q:mA,s:gA,S:pW,u:mW,U:gW,V:yW,w:vW,W:_W,x:null,X:null,y:wW,Y:bW,Z:SW,"%":pA},x={a:Oe,A:Nt,b:je,B:bn,c:null,d:dA,e:dA,f:xW,g:jW,G:FW,H:AW,I:PW,j:IW,L:u2,m:CW,M:kW,p:fn,q:_l,Q:mA,s:gA,S:OW,u:RW,U:NW,V:DW,w:MW,W:LW,x:null,X:null,y:VW,Y:$W,Z:UW,"%":pA},R={a:C,A:k,b:N,B:O,c:ue,d:cA,e:cA,f:iW,g:uA,G:lA,H:fA,I:fA,j:eW,L:rW,m:Z7,M:tW,p:I,q:J7,Q:sW,s:aW,S:nW,u:q7,U:G7,V:Y7,w:H7,W:Q7,x:Te,X:ne,y:uA,Y:lA,Z:X7,"%":oW};b.x=D(n,b),b.X=D(r,b),b.c=D(e,b),x.x=D(n,x),x.X=D(r,x),x.c=D(e,x);function D(q,fe){return function(he){var B=[],Je=-1,we=0,nt=q.length,dt,Tn,Mo;for(he instanceof Date||(he=new Date(+he));++Je<nt;)q.charCodeAt(Je)===37&&(B.push(q.slice(we,Je)),(Tn=aA[dt=q.charAt(++Je)])!=null?dt=q.charAt(++Je):Tn=dt==="e"?" ":"0",(Mo=fe[dt])&&(dt=Mo(he,Tn)),B.push(dt),we=Je+1);return B.push(q.slice(we,Je)),B.join("")}}function S(q,fe){return function(he){var B=ql(1900,void 0,1),Je=T(B,q,he+="",0),we,nt;if(Je!=he.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(fe&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(we=Cg(ql(B.y,0,1)),nt=we.getUTCDay(),we=nt>4||nt===0?Cd.ceil(we):Cd(we),we=em.offset(we,(B.V-1)*7),B.y=we.getUTCFullYear(),B.m=we.getUTCMonth(),B.d=we.getUTCDate()+(B.w+6)%7):(we=xg(ql(B.y,0,1)),nt=we.getDay(),we=nt>4||nt===0?xd.ceil(we):xd(we),we=kc.offset(we,(B.V-1)*7),B.y=we.getFullYear(),B.m=we.getMonth(),B.d=we.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),nt="Z"in B?Cg(ql(B.y,0,1)).getUTCDay():xg(ql(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(nt+5)%7:B.w+B.U*7-(nt+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,Cg(B)):xg(B)}}function T(q,fe,he,B){for(var Je=0,we=fe.length,nt=he.length,dt,Tn;Je<we;){if(B>=nt)return-1;if(dt=fe.charCodeAt(Je++),dt===37){if(dt=fe.charAt(Je++),Tn=R[dt in aA?fe.charAt(Je++):dt],!Tn||(B=Tn(q,he,B))<0)return-1}else if(dt!=he.charCodeAt(B++))return-1}return B}function I(q,fe,he){var B=u.exec(fe.slice(he));return B?(q.p=c.get(B[0].toLowerCase()),he+B[0].length):-1}function C(q,fe,he){var B=p.exec(fe.slice(he));return B?(q.w=g.get(B[0].toLowerCase()),he+B[0].length):-1}function k(q,fe,he){var B=h.exec(fe.slice(he));return B?(q.w=d.get(B[0].toLowerCase()),he+B[0].length):-1}function N(q,fe,he){var B=y.exec(fe.slice(he));return B?(q.m=v.get(B[0].toLowerCase()),he+B[0].length):-1}function O(q,fe,he){var B=w.exec(fe.slice(he));return B?(q.m=E.get(B[0].toLowerCase()),he+B[0].length):-1}function ue(q,fe,he){return T(q,e,fe,he)}function Te(q,fe,he){return T(q,n,fe,he)}function ne(q,fe,he){return T(q,r,fe,he)}function ye(q){return s[q.getDay()]}function W(q){return o[q.getDay()]}function J(q){return l[q.getMonth()]}function te(q){return a[q.getMonth()]}function _e(q){return i[+(q.getHours()>=12)]}function H(q){return 1+~~(q.getMonth()/3)}function Oe(q){return s[q.getUTCDay()]}function Nt(q){return o[q.getUTCDay()]}function je(q){return l[q.getUTCMonth()]}function bn(q){return a[q.getUTCMonth()]}function fn(q){return i[+(q.getUTCHours()>=12)]}function _l(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var fe=D(q+="",b);return fe.toString=function(){return q},fe},parse:function(q){var fe=S(q+="",!1);return fe.toString=function(){return q},fe},utcFormat:function(q){var fe=D(q+="",x);return fe.toString=function(){return q},fe},utcParse:function(q){var fe=S(q+="",!0);return fe.toString=function(){return q},fe}}}var aA={"-":"",_:" ",0:"0"},Rt=/^\s*\d+/,z7=/^%/,W7=/[\\^$*+?|[\]().{}]/g;function Ae(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function K7(t){return t.replace(W7,"\\$&")}function Gl(t){return new RegExp("^(?:"+t.map(K7).join("|")+")","i")}function Yl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function H7(t,e,n){var r=Rt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function q7(t,e,n){var r=Rt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function G7(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Y7(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Q7(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function lA(t,e,n){var r=Rt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function uA(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function X7(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function J7(t,e,n){var r=Rt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Z7(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function cA(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function eW(t,e,n){var r=Rt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function fA(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function tW(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function nW(t,e,n){var r=Rt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function rW(t,e,n){var r=Rt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function iW(t,e,n){var r=Rt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function oW(t,e,n){var r=z7.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function sW(t,e,n){var r=Rt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function aW(t,e,n){var r=Rt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function hA(t,e){return Ae(t.getDate(),e,2)}function lW(t,e){return Ae(t.getHours(),e,2)}function uW(t,e){return Ae(t.getHours()%12||12,e,2)}function cW(t,e){return Ae(1+kc.count(bi(t),t),e,3)}function a2(t,e){return Ae(t.getMilliseconds(),e,3)}function fW(t,e){return a2(t,e)+"000"}function hW(t,e){return Ae(t.getMonth()+1,e,2)}function dW(t,e){return Ae(t.getMinutes(),e,2)}function pW(t,e){return Ae(t.getSeconds(),e,2)}function mW(t){var e=t.getDay();return e===0?7:e}function gW(t,e){return Ae(tm.count(bi(t)-1,t),e,2)}function l2(t){var e=t.getDay();return e>=4||e===0?Ha(t):Ha.ceil(t)}function yW(t,e){return t=l2(t),Ae(Ha.count(bi(t),t)+(bi(t).getDay()===4),e,2)}function vW(t){return t.getDay()}function _W(t,e){return Ae(xd.count(bi(t)-1,t),e,2)}function wW(t,e){return Ae(t.getFullYear()%100,e,2)}function EW(t,e){return t=l2(t),Ae(t.getFullYear()%100,e,2)}function bW(t,e){return Ae(t.getFullYear()%1e4,e,4)}function TW(t,e){var n=t.getDay();return t=n>=4||n===0?Ha(t):Ha.ceil(t),Ae(t.getFullYear()%1e4,e,4)}function SW(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ae(e/60|0,"0",2)+Ae(e%60,"0",2)}function dA(t,e){return Ae(t.getUTCDate(),e,2)}function AW(t,e){return Ae(t.getUTCHours(),e,2)}function PW(t,e){return Ae(t.getUTCHours()%12||12,e,2)}function IW(t,e){return Ae(1+em.count(Ti(t),t),e,3)}function u2(t,e){return Ae(t.getUTCMilliseconds(),e,3)}function xW(t,e){return u2(t,e)+"000"}function CW(t,e){return Ae(t.getUTCMonth()+1,e,2)}function kW(t,e){return Ae(t.getUTCMinutes(),e,2)}function OW(t,e){return Ae(t.getUTCSeconds(),e,2)}function RW(t){var e=t.getUTCDay();return e===0?7:e}function NW(t,e){return Ae(nm.count(Ti(t)-1,t),e,2)}function c2(t){var e=t.getUTCDay();return e>=4||e===0?qa(t):qa.ceil(t)}function DW(t,e){return t=c2(t),Ae(qa.count(Ti(t),t)+(Ti(t).getUTCDay()===4),e,2)}function MW(t){return t.getUTCDay()}function LW(t,e){return Ae(Cd.count(Ti(t)-1,t),e,2)}function VW(t,e){return Ae(t.getUTCFullYear()%100,e,2)}function jW(t,e){return t=c2(t),Ae(t.getUTCFullYear()%100,e,2)}function $W(t,e){return Ae(t.getUTCFullYear()%1e4,e,4)}function FW(t,e){var n=t.getUTCDay();return t=n>=4||n===0?qa(t):qa.ceil(t),Ae(t.getUTCFullYear()%1e4,e,4)}function UW(){return"+0000"}function pA(){return"%"}function mA(t){return+t}function gA(t){return Math.floor(+t/1e3)}var Ys,f2,h2;BW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function BW(t){return Ys=B7(t),f2=Ys.format,Ys.parse,h2=Ys.utcFormat,Ys.utcParse,Ys}function zW(t){return new Date(t)}function WW(t){return t instanceof Date?+t:+new Date(+t)}function Cw(t,e,n,r,i,o,s,a,l,u){var c=mw(),h=c.invert,d=c.domain,p=u(".%L"),g=u(":%S"),w=u("%I:%M"),E=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),x=u("%Y");function R(D){return(l(D)<D?p:a(D)<D?g:s(D)<D?w:o(D)<D?E:r(D)<D?i(D)<D?y:v:n(D)<D?b:x)(D)}return c.invert=function(D){return new Date(h(D))},c.domain=function(D){return arguments.length?d(Array.from(D,WW)):d().map(zW)},c.ticks=function(D){var S=d();return t(S[0],S[S.length-1],D??10)},c.tickFormat=function(D,S){return S==null?R:u(S)},c.nice=function(D){var S=d();return(!D||typeof D.range!="function")&&(D=e(S[0],S[S.length-1],D??10)),D?d(JR(S,D)):c},c.copy=function(){return Cc(c,Cw(t,e,n,r,i,o,s,a,l,u))},c}function KW(){return ur.apply(Cw(F7,U7,bi,Iw,tm,kc,Aw,Tw,es,f2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function HW(){return ur.apply(Cw(j7,$7,Ti,xw,nm,em,Pw,Sw,es,h2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rm(){var t=0,e=1,n,r,i,o,s=sn,a=!1,l;function u(h){return h==null||isNaN(h=+h)?l:s(i===0?.5:(h=(o(h)-n)*i,a?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(a=!!h,u):a},u.interpolator=function(h){return arguments.length?(s=h,u):s};function c(h){return function(d){var p,g;return arguments.length?([p,g]=d,s=h(p,g),u):[s(0),s(1)]}}return u.range=c(cl),u.rangeRound=c(pw),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function Ro(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function d2(){var t=Oo(rm()(sn));return t.copy=function(){return Ro(t,d2())},xi.apply(t,arguments)}function p2(){var t=vw(rm()).domain([1,10]);return t.copy=function(){return Ro(t,p2()).base(t.base())},xi.apply(t,arguments)}function m2(){var t=_w(rm());return t.copy=function(){return Ro(t,m2()).constant(t.constant())},xi.apply(t,arguments)}function kw(){var t=ww(rm());return t.copy=function(){return Ro(t,kw()).exponent(t.exponent())},xi.apply(t,arguments)}function qW(){return kw.apply(null,arguments).exponent(.5)}function g2(){var t=[],e=sn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ic(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(go),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>R8(t,o/r))},n.copy=function(){return g2(e).domain(t)},xi.apply(n,arguments)}function im(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=sn,c,h=!1,d;function p(w){return isNaN(w=+w)?d:(w=.5+((w=+c(w))-o)*(r*w<r*o?a:l),u(h?Math.max(0,Math.min(1,w)):w))}p.domain=function(w){return arguments.length?([t,e,n]=w,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(w){return arguments.length?(h=!!w,p):h},p.interpolator=function(w){return arguments.length?(u=w,p):u};function g(w){return function(E){var y,v,b;return arguments.length?([y,v,b]=E,u=o7(w,[y,v,b]),p):[u(0),u(.5),u(1)]}}return p.range=g(cl),p.rangeRound=g(pw),p.unknown=function(w){return arguments.length?(d=w,p):d},function(w){return c=w,i=w(t),o=w(e),s=w(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function y2(){var t=Oo(im()(sn));return t.copy=function(){return Ro(t,y2())},xi.apply(t,arguments)}function v2(){var t=vw(im()).domain([.1,1,10]);return t.copy=function(){return Ro(t,v2()).base(t.base())},xi.apply(t,arguments)}function _2(){var t=_w(im());return t.copy=function(){return Ro(t,_2()).constant(t.constant())},xi.apply(t,arguments)}function Ow(){var t=ww(im());return t.copy=function(){return Ro(t,Ow()).exponent(t.exponent())},xi.apply(t,arguments)}function GW(){return Ow.apply(null,arguments).exponent(.5)}const su=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fw,scaleDiverging:y2,scaleDivergingLog:v2,scaleDivergingPow:Ow,scaleDivergingSqrt:GW,scaleDivergingSymlog:_2,scaleIdentity:XR,scaleImplicit:Cv,scaleLinear:QR,scaleLog:ZR,scaleOrdinal:cw,scalePoint:M8,scalePow:Ew,scaleQuantile:n2,scaleQuantize:r2,scaleRadial:t2,scaleSequential:d2,scaleSequentialLog:p2,scaleSequentialPow:kw,scaleSequentialQuantile:g2,scaleSequentialSqrt:qW,scaleSequentialSymlog:m2,scaleSqrt:x7,scaleSymlog:e2,scaleThreshold:i2,scaleTime:KW,scaleUtc:HW,tickFormat:YR},Symbol.toStringTag,{value:"Module"}));var No=t=>t.chartData,YW=$([No],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Rw=(t,e,n,r)=>r?YW(t):No(t);function Ga(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if($n(e)&&$n(n))return!0}return!1}function yA(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function QW(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if($n(n))i=n;else if(typeof n=="function")return;if($n(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(Ga(s))return s}}function XW(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ga(r))return yA(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,s,a;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Z(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&mS.test(i)){var l=mS.exec(i);if(l==null||e==null)s=void 0;else{var u=+l[1];s=e[0]-u}}else s=e==null?void 0:e[0];if(o==="auto")e!=null&&(a=Math.max(...e));else if(Z(o))a=o;else if(typeof o=="function")try{e!=null&&(a=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&gS.test(o)){var c=gS.exec(o);if(c==null||e==null)a=void 0;else{var h=+c[1];a=e[1]+h}}else a=e==null?void 0:e[1];var d=[s,a];if(Ga(d))return e==null?d:yA(d,e,n)}}}var fl=1e9,JW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Dw,qe=!0,ar="[DecimalError] ",ls=ar+"Invalid argument: ",Nw=ar+"Exponent out of range: ",hl=Math.floor,Ho=Math.pow,ZW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kn,Pt=1e7,Ue=7,w2=9007199254740991,kd=hl(w2/Ue),X={};X.absoluteValue=X.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};X.comparedTo=X.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};X.decimalPlaces=X.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ue;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};X.dividedBy=X.div=function(t){return ui(this,new this.constructor(t))};X.dividedToIntegerBy=X.idiv=function(t){var e=this,n=e.constructor;return Ne(ui(e,new n(t),0,1),n.precision)};X.equals=X.eq=function(t){return!this.cmp(t)};X.exponent=function(){return ft(this)};X.greaterThan=X.gt=function(t){return this.cmp(t)>0};X.greaterThanOrEqualTo=X.gte=function(t){return this.cmp(t)>=0};X.isInteger=X.isint=function(){return this.e>this.d.length-2};X.isNegative=X.isneg=function(){return this.s<0};X.isPositive=X.ispos=function(){return this.s>0};X.isZero=function(){return this.s===0};X.lessThan=X.lt=function(t){return this.cmp(t)<0};X.lessThanOrEqualTo=X.lte=function(t){return this.cmp(t)<1};X.logarithm=X.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(kn))throw Error(ar+"NaN");if(n.s<1)throw Error(ar+(n.s?"NaN":"-Infinity"));return n.eq(kn)?new r(0):(qe=!1,e=ui(rc(n,o),rc(t,o),o),qe=!0,Ne(e,i))};X.minus=X.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?T2(e,t):E2(e,(t.s=-t.s,t))};X.modulo=X.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ar+"NaN");return n.s?(qe=!1,e=ui(n,t,0,1).times(t),qe=!0,n.minus(e)):Ne(new r(n),i)};X.naturalExponential=X.exp=function(){return b2(this)};X.naturalLogarithm=X.ln=function(){return rc(this)};X.negated=X.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};X.plus=X.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?E2(e,t):T2(e,(t.s=-t.s,t))};X.precision=X.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ls+t);if(e=ft(i)+1,r=i.d.length-1,n=r*Ue+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};X.squareRoot=X.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(ar+"NaN")}for(t=ft(a),qe=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Or(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=hl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(ui(a,o,s+2)).times(.5),Or(o.d).slice(0,s)===(e=Or(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Ne(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return qe=!0,Ne(r,n)};X.times=X.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,h=c.constructor,d=c.d,p=(t=new h(t)).d;if(!c.s||!t.s)return new h(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+p[r]*d[i-r-1]+e,o[i--]=a%Pt|0,e=a/Pt|0;o[i]=(o[i]+e)%Pt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,qe?Ne(t,h.precision):t};X.toDecimalPlaces=X.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Wr(t,0,fl),e===void 0?e=r.rounding:Wr(e,0,8),Ne(n,t+ft(n)+1,e))};X.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ss(r,!0):(Wr(t,0,fl),e===void 0?e=i.rounding:Wr(e,0,8),r=Ne(new i(r),t+1,e),n=Ss(r,!0,t+1)),n};X.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Ss(i):(Wr(t,0,fl),e===void 0?e=o.rounding:Wr(e,0,8),r=Ne(new o(i),t+ft(i)+1,e),n=Ss(r.abs(),!1,t+ft(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};X.toInteger=X.toint=function(){var t=this,e=t.constructor;return Ne(new e(t),ft(t)+1,e.rounding)};X.toNumber=function(){return+this};X.toPower=X.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(kn);if(a=new l(a),!a.s){if(t.s<1)throw Error(ar+"Infinity");return a}if(a.eq(kn))return a;if(r=l.precision,t.eq(kn))return Ne(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=w2){for(i=new l(kn),e=Math.ceil(r/Ue+4),qe=!1;n%2&&(i=i.times(a),_A(i.d,e)),n=hl(n/2),n!==0;)a=a.times(a),_A(a.d,e);return qe=!0,t.s<0?new l(kn).div(i):Ne(i,r)}}else if(o<0)throw Error(ar+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,qe=!1,i=t.times(rc(a,r+u)),qe=!0,i=b2(i),i.s=o,i};X.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=ft(i),r=Ss(i,n<=o.toExpNeg||n>=o.toExpPos)):(Wr(t,1,fl),e===void 0?e=o.rounding:Wr(e,0,8),i=Ne(new o(i),t,e),n=ft(i),r=Ss(i,t<=n||n<=o.toExpNeg,t)),r};X.toSignificantDigits=X.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Wr(t,1,fl),e===void 0?e=r.rounding:Wr(e,0,8)),Ne(new r(n),t,e)};X.toString=X.valueOf=X.val=X.toJSON=X[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ft(t),n=t.constructor;return Ss(t,e<=n.toExpNeg||e>=n.toExpPos)};function E2(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,h=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),qe?Ne(e,h):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(h/Ue),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Pt|0,l[o]%=Pt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,qe?Ne(e,h):e}function Wr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ls+t)}function Or(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Ue-r.length,n&&(o+=Ki(n)),o+=r;s=t[e],r=s+"",n=Ue-r.length,n&&(o+=Ki(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var ui=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Pt|0,s=o/Pt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Pt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,h,d,p,g,w,E,y,v,b,x,R,D,S,T,I=r.constructor,C=r.s==i.s?1:-1,k=r.d,N=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(ar+"Division by zero");for(l=r.e-i.e,S=N.length,R=k.length,p=new I(C),g=p.d=[],u=0;N[u]==(k[u]||0);)++u;if(N[u]>(k[u]||0)&&--l,o==null?v=o=I.precision:s?v=o+(ft(r)-ft(i))+1:v=o,v<0)return new I(0);if(v=v/Ue+2|0,u=0,S==1)for(c=0,N=N[0],v++;(u<R||c)&&v--;u++)b=c*Pt+(k[u]||0),g[u]=b/N|0,c=b%N|0;else{for(c=Pt/(N[0]+1)|0,c>1&&(N=t(N,c),k=t(k,c),S=N.length,R=k.length),x=S,w=k.slice(0,S),E=w.length;E<S;)w[E++]=0;T=N.slice(),T.unshift(0),D=N[0],N[1]>=Pt/2&&++D;do c=0,a=e(N,w,S,E),a<0?(y=w[0],S!=E&&(y=y*Pt+(w[1]||0)),c=y/D|0,c>1?(c>=Pt&&(c=Pt-1),h=t(N,c),d=h.length,E=w.length,a=e(h,w,d,E),a==1&&(c--,n(h,S<d?T:N,d))):(c==0&&(a=c=1),h=N.slice()),d=h.length,d<E&&h.unshift(0),n(w,h,E),a==-1&&(E=w.length,a=e(N,w,S,E),a<1&&(c++,n(w,S<E?T:N,E))),E=w.length):a===0&&(c++,w=[0]),g[u++]=c,a&&w[0]?w[E++]=k[x]||0:(w=[k[x]],E=1);while((x++<R||w[0]!==void 0)&&v--)}return g[0]||g.shift(),p.e=l,Ne(p,s?o+ft(p)+1:o)}}();function b2(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,h=c.precision;if(ft(t)>16)throw Error(Nw+ft(t));if(!t.s)return new c(kn);for(qe=!1,a=h,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Ho(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(kn),c.precision=a;;){if(i=Ne(i.times(t),a),n=n.times(++l),s=o.plus(ui(i,n,a)),Or(s.d).slice(0,a)===Or(o.d).slice(0,a)){for(;u--;)o=Ne(o.times(o),a);return c.precision=h,e==null?(qe=!0,Ne(o,h)):o}o=s}}function ft(t){for(var e=t.e*Ue,n=t.d[0];n>=10;n/=10)e++;return e}function kg(t,e,n){if(e>t.LN10.sd())throw qe=!0,n&&(t.precision=n),Error(ar+"LN10 precision limit exceeded");return Ne(new t(t.LN10),e)}function Ki(t){for(var e="";t--;)e+="0";return e}function rc(t,e){var n,r,i,o,s,a,l,u,c,h=1,d=10,p=t,g=p.d,w=p.constructor,E=w.precision;if(p.s<1)throw Error(ar+(p.s?"NaN":"-Infinity"));if(p.eq(kn))return new w(0);if(e==null?(qe=!1,u=E):u=e,p.eq(10))return e==null&&(qe=!0),kg(w,u);if(u+=d,w.precision=u,n=Or(g),r=n.charAt(0),o=ft(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Or(p.d),r=n.charAt(0),h++;o=ft(p),r>1?(p=new w("0."+n),o++):p=new w(r+"."+n.slice(1))}else return l=kg(w,u+2,E).times(o+""),p=rc(new w(r+"."+n.slice(1)),u-d).plus(l),w.precision=E,e==null?(qe=!0,Ne(p,E)):p;for(a=s=p=ui(p.minus(kn),p.plus(kn),u),c=Ne(p.times(p),u),i=3;;){if(s=Ne(s.times(c),u),l=a.plus(ui(s,new w(i),u)),Or(l.d).slice(0,u)===Or(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(kg(w,u+2,E).times(o+""))),a=ui(a,new w(h),u),w.precision=E,e==null?(qe=!0,Ne(a,E)):a;a=l,i+=2}}function vA(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=hl(n/Ue),t.d=[],r=(n+1)%Ue,n<0&&(r+=Ue),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ue;r<i;)t.d.push(+e.slice(r,r+=Ue));e=e.slice(r),r=Ue-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),qe&&(t.e>kd||t.e<-kd))throw Error(Nw+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ne(t,e,n){var r,i,o,s,a,l,u,c,h=t.d;for(s=1,o=h[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Ue,i=e,u=h[c=0];else{if(c=Math.ceil((r+1)/Ue),o=h.length,c>=o)return t;for(u=o=h[c],s=1;o>=10;o/=10)s++;r%=Ue,i=r-Ue+s}if(n!==void 0&&(o=Ho(10,s-i-1),a=u/o%10|0,l=e<0||h[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/Ho(10,s-i):0:h[c-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(o=ft(t),h.length=1,e=e-o-1,h[0]=Ho(10,(Ue-e%Ue)%Ue),t.e=hl(-e/Ue)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=c,o=1,c--):(h.length=c+1,o=Ho(10,Ue-r),h[c]=i>0?(u/Ho(10,s-i)%Ho(10,i)|0)*o:0),l)for(;;)if(c==0){(h[0]+=o)==Pt&&(h[0]=1,++t.e);break}else{if(h[c]+=o,h[c]!=Pt)break;h[c--]=0,o=1}for(r=h.length;h[--r]===0;)h.pop();if(qe&&(t.e>kd||t.e<-kd))throw Error(Nw+ft(t));return t}function T2(t,e){var n,r,i,o,s,a,l,u,c,h,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),qe?Ne(e,p):e;if(l=t.d,h=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=h.length):(n=h,r=u,a=l.length),i=Math.max(Math.ceil(p/Ue),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=h.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=h[i]){c=l[i]<h[i];break}s=0}for(c&&(n=l,l=h,h=n,e.s=-e.s),a=l.length,i=h.length-a;i>0;--i)l[a++]=0;for(i=h.length;i>s;){if(l[--i]<h[i]){for(o=i;o&&l[--o]===0;)l[o]=Pt-1;--l[o],l[i]+=Pt}l[i]-=h[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,qe?Ne(e,p):e):new d(0)}function Ss(t,e,n){var r,i=ft(t),o=Or(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ki(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ki(-i-1)+o,n&&(r=n-s)>0&&(o+=Ki(r))):i>=s?(o+=Ki(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Ki(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Ki(r))),t.s<0?"-"+o:o}function _A(t,e){if(t.length>e)return t.length=e,!0}function S2(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ls+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return vA(s,o.toString())}else if(typeof o!="string")throw Error(ls+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,ZW.test(o))vA(s,o);else throw Error(ls+o)}if(i.prototype=X,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=S2,i.config=i.set=eK,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function eK(t){if(!t||typeof t!="object")throw Error(ar+"Object expected");var e,n,r,i=["precision",1,fl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(hl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ls+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ls+n+": "+r);return this}var Dw=S2(JW);kn=new Dw(1);const xe=Dw;var tK=t=>t,A2={},P2=t=>t===A2,wA=t=>function e(){return arguments.length===0||arguments.length===1&&P2(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},I2=(t,e)=>t===1?e:wA(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(s=>s!==A2).length;return o>=t?e(...r):I2(t-o,wA(function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var u=r.map(c=>P2(c)?a.shift():c);return e(...u,...a)}))}),om=t=>I2(t.length,t),Nv=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},nK=om((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),rK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return tK;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce((a,l)=>l(a),o(...arguments))}},Dv=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),x2=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((s,a)=>{var l;return s===((l=e)===null||l===void 0?void 0:l[a])})||(e=i,n=t(...i)),n}};function C2(t){var e;return t===0?e=1:e=Math.floor(new xe(t).abs().log(10).toNumber())+1,e}function k2(t,e,n){for(var r=new xe(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}om((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});om((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});om((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var O2=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},R2=(t,e,n)=>{if(t.lte(0))return new xe(0);var r=C2(t.toNumber()),i=new xe(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new xe(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?new xe(l.toNumber()):new xe(Math.ceil(l.toNumber()))},iK=(t,e,n)=>{var r=new xe(1),i=new xe(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new xe(10).pow(C2(t)-1),i=new xe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new xe(Math.floor(t)))}else t===0?i=new xe(Math.floor((e-1)/2)):n||(i=new xe(Math.floor(t)));var s=Math.floor((e-1)/2),a=rK(nK(l=>i.add(new xe(l-s).mul(r)).toNumber()),Nv);return a(0,e)},N2=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new xe(0),tickMin:new xe(0),tickMax:new xe(0)};var s=R2(new xe(n).sub(e).div(r-1),i,o),a;e<=0&&n>=0?a=new xe(0):(a=new xe(e).add(n).div(2),a=a.sub(new xe(a).mod(s)));var l=Math.ceil(a.sub(e).div(s).toNumber()),u=Math.ceil(new xe(n).sub(a).div(s).toNumber()),c=l+u+1;return c>r?N2(e,n,r,i,o+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:s,tickMin:a.sub(new xe(l).mul(s)),tickMax:a.add(new xe(u).mul(s))})};function oK(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[s,a]=O2([e,n]);if(s===-1/0||a===1/0){var l=a===1/0?[s,...Nv(0,r-1).map(()=>1/0)]:[...Nv(0,r-1).map(()=>-1/0),a];return e>n?Dv(l):l}if(s===a)return iK(s,r,i);var{step:u,tickMin:c,tickMax:h}=N2(s,a,o,i,0),d=k2(c,h.add(new xe(.1).mul(u)),u);return e>n?Dv(d):d}function sK(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=O2([n,r]);if(o===-1/0||s===1/0)return[n,r];if(o===s)return[o];var a=Math.max(e,2),l=R2(new xe(s).sub(o).div(a-1),i,0),u=[...k2(new xe(o),new xe(s),l),s];return i===!1&&(u=u.map(c=>Math.round(c))),n>r?Dv(u):u}var aK=x2(oK),lK=x2(sK),D2=t=>t.rootProps.maxBarSize,uK=t=>t.rootProps.barGap,M2=t=>t.rootProps.barCategoryGap,cK=t=>t.rootProps.barSize,sm=t=>t.rootProps.stackOffset,Mw=t=>t.options.chartName,Lw=t=>t.rootProps.syncId,L2=t=>t.rootProps.syncMethod,Vw=t=>t.options.eventEmitter,Jr={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},xn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},am=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},fK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Jr.angleAxisId,includeHidden:!1,name:void 0,reversed:Jr.reversed,scale:Jr.scale,tick:Jr.tick,tickCount:void 0,ticks:void 0,type:Jr.type,unit:void 0},hK={allowDataOverflow:xn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xn.scale,tick:xn.tick,tickCount:xn.tickCount,ticks:void 0,type:xn.type,unit:void 0},dK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Jr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Jr.scale,tick:Jr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},pK={allowDataOverflow:xn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xn.scale,tick:xn.tick,tickCount:xn.tickCount,ticks:void 0,type:"category",unit:void 0},jw=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?dK:fK,$w=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?pK:hK,lm=t=>t.polarOptions,Fw=$([Pi,Ii,Ot],SB),V2=$([lm,Fw],(t,e)=>{if(t!=null)return br(t.innerRadius,e,0)}),j2=$([lm,Fw],(t,e)=>{if(t!=null)return br(t.outerRadius,e,e*.8)}),mK=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},$2=$([lm],mK);$([jw,$2],am);var F2=$([Fw,V2,j2],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});$([$w,F2],am);var U2=$([ke,lm,V2,j2,Pi,Ii],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:a,startAngle:l,endAngle:u}=e;return{cx:br(s,i,i/2),cy:br(a,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),ht=(t,e)=>e,um=(t,e,n)=>n;function Uw(t){return t==null?void 0:t.id}var bt=t=>{var e=ke(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},dl=t=>t.tooltip.settings.axisId,Tt=t=>{var e=bt(t),n=dl(t);return Oc(t,e,n)};function B2(t,e,n){var{chartData:r=[]}=e,i=n==null?void 0:n.dataKey,o=new Map;return t.forEach(s=>{var a,l=(a=s.data)!==null&&a!==void 0?a:r;if(!(l==null||l.length===0)){var u=Uw(s);l.forEach((c,h)=>{var d=i==null?h:String(ln(c,i,null)),p=ln(c,s.dataKey,0),g;o.has(d)?g=o.get(d):g={},Object.assign(g,{[u]:p}),o.set(d,g)})}}),Array.from(o.values())}function cm(t){return t.stackId!=null&&t.dataKey!=null}function EA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Od(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EA(Object(n),!0).forEach(function(r){gK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gK(t,e,n){return(e=yK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yK(t){var e=vK(t,"string");return typeof e=="symbol"?e:e+""}function vK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mv=[0,"auto"],An={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ci=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??An},Pn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Mv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Qp},Do=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??Pn},_K={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Bw=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??_K},En=(t,e,n)=>{switch(e){case"xAxis":return Ci(t,n);case"yAxis":return Do(t,n);case"zAxis":return Bw(t,n);case"angleAxis":return jw(t,n);case"radiusAxis":return $w(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},wK=(t,e,n)=>{switch(e){case"xAxis":return Ci(t,n);case"yAxis":return Do(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Oc=(t,e,n)=>{switch(e){case"xAxis":return Ci(t,n);case"yAxis":return Do(t,n);case"angleAxis":return jw(t,n);case"radiusAxis":return $w(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},z2=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function W2(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var zw=t=>t.graphicalItems.cartesianItems,EK=$([ht,um],W2),K2=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Rc=$([zw,En,EK],K2),H2=$([Rc],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(cm)),q2=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),G2=$([Rc],q2),Y2=t=>t.map(e=>e.data).filter(Boolean).flat(1),bK=$([Rc],Y2),Q2=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Ww=$([bK,Rw],Q2),X2=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:ln(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:ln(i,r)}))):t.map(r=>({value:r})),fm=$([Ww,En,Rc],X2);function J2(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Ns(t){return t.filter(e=>zr(e)||e instanceof Date).map(Number).filter(e=>or(e)===!1)}function TK(t,e,n){return!n||typeof e!="number"||or(e)?[]:n.length?Ns(n.flatMap(r=>{var i=ln(t,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!$n(o)||!$n(s)))return[e-o,e+s]})):[]}var SK=$([H2,Rw,Tt],B2),Z2=(t,e,n)=>{var r={},i=e.reduce((o,s)=>(s.stackId==null||(o[s.stackId]==null&&(o[s.stackId]=[]),o[s.stackId].push(s)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[s,a]=o,l=a.map(Uw);return[s,{stackedData:FB(t,l,n),graphicalItems:a}]}))},Lv=$([SK,H2,sm],Z2),eN=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var o=KB(t,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},AK=$([Lv,No,ht],eN),tN=(t,e,n,r,i)=>n.length>0?t.flatMap(o=>n.flatMap(s=>{var a,l,u=(a=r[s.id])===null||a===void 0?void 0:a.filter(h=>J2(i,h)),c=ln(o,(l=e.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:TK(o,c,u)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(o=>({value:ln(o,e.dataKey),errorDomain:[]})):t.map(o=>({value:o,errorDomain:[]})),hm=t=>t.errorBars,nN=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>J2(n,r));$([G2,hm,ht],nN);var PK=$([Ww,En,G2,hm,ht],tN);function IK(t){var{value:e}=t;if(zr(e)||e instanceof Date)return e}var bA=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Ns(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},xK=(t,e,n)=>{var r=t.map(IK).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Jk(r))?$R(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},Kw=t=>{var e;if(t==null||!("domain"in t))return Mv;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Ns(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Mv},Rd=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),a=Math.max(...o);return[s,a]}},rN=t=>t.referenceElements.dots,pl=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),CK=$([rN,ht,um],pl),iN=t=>t.referenceElements.areas,kK=$([iN,ht,um],pl),oN=t=>t.referenceElements.lines,OK=$([oN,ht,um],pl),sN=(t,e)=>{var n=Ns(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},RK=$(CK,ht,sN),aN=(t,e)=>{var n=Ns(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},NK=$([kK,ht],aN),lN=(t,e)=>{var n=Ns(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},DK=$(OK,ht,lN),MK=$(RK,DK,NK,(t,e,n)=>Rd(t,n,e)),LK=$([En],Kw),uN=(t,e,n,r,i,o,s)=>{var a=QW(e,t.allowDataOverflow);if(a!=null)return a;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=l?Rd(n,i,bA(r)):Rd(i,bA(r));return XW(e,u,t.allowDataOverflow)},VK=$([En,LK,AK,PK,MK,ke,ht],uN),jK=[0,1],cN=(t,e,n,r,i,o,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:a,type:l}=t,u=Cs(e,o);return u&&a==null?$R(0,n.length):l==="category"?xK(r,t,u):i==="expand"?jK:s}},Hw=$([En,ke,Ww,fm,sm,ht,VK],cN),fN=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:s}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof o=="string"){var a="scale".concat(Sc(o));return a in su?a:"point"}}},Nc=$([En,ke,z2,Mw,ht],fN);function $K(t){if(t!=null){if(t in su)return su[t]();var e="scale".concat(Sc(t));if(e in su)return su[e]()}}function qw(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=$K(e);if(i!=null){var o=i.domain(n).range(r);return MB(o),o}}}var hN=(t,e,n)=>{var r=Kw(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ga(t))return aK(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ga(t))return lK(t,e.tickCount,e.allowDecimals)}},Gw=$([Hw,Oc,Nc],hN),dN=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Ga(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],s=e[1],a=n[n.length-1];return[Math.min(i,o),Math.max(s,a)]}return e},FK=$([En,Hw,Gw,ht],dN),UK=$(fm,En,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ns(t.map(a=>a.value))).sort((a,l)=>a-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var s=r[o+1]-r[o];n=Math.min(n,s)}return n/i}}),pN=$(UK,ke,M2,Ot,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!$n(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var s=br(n,t*o),a=t*o/2;return a-s-(a-s)/o*s}return 0}),BK=(t,e)=>{var n=Ci(t,e);return n==null||typeof n.padding!="string"?0:pN(t,"xAxis",e,n.padding)},zK=(t,e)=>{var n=Do(t,e);return n==null||typeof n.padding!="string"?0:pN(t,"yAxis",e,n.padding)},WK=$(Ci,BK,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),KK=$(Do,zK,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),HK=$([Ot,WK,Jp,Xp,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),qK=$([Ot,ke,KK,Jp,Xp,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Dc=(t,e,n,r)=>{var i;switch(e){case"xAxis":return HK(t,n,r);case"yAxis":return qK(t,n,r);case"zAxis":return(i=Bw(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return $2(t);case"radiusAxis":return F2(t,n);default:return}},mN=$([En,Dc],am),ml=$([En,Nc,FK,mN],qw);$([Rc,hm,ht],nN);function gN(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var dm=(t,e)=>e,pm=(t,e,n)=>n,GK=$(iw,dm,pm,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(gN)),YK=$(ow,dm,pm,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(gN)),yN=(t,e)=>({width:t.width,height:e.height}),QK=(t,e)=>{var n=typeof e.width=="number"?e.width:Qp;return{width:n,height:t.height}},vN=$(Ot,Ci,yN),XK=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},JK=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},ZK=$(Ii,Ot,GK,dm,pm,(t,e,n,r,i)=>{var o={},s;return n.forEach(a=>{var l=yN(e,a);s==null&&(s=XK(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;o[a.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),o}),eH=$(Pi,Ot,YK,dm,pm,(t,e,n,r,i)=>{var o={},s;return n.forEach(a=>{var l=QK(e,a);s==null&&(s=JK(e,r,t));var u=r==="left"&&!i||r==="right"&&i;o[a.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),o}),tH=(t,e)=>{var n=Ot(t),r=Ci(t,e);if(r!=null){var i=ZK(t,r.orientation,r.mirror),o=i[e];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},nH=(t,e)=>{var n=Ot(t),r=Do(t,e);if(r!=null){var i=eH(t,r.orientation,r.mirror),o=i[e];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},_N=$(Ot,Do,(t,e)=>{var n=typeof e.width=="number"?e.width:Qp;return{width:n,height:t.height}}),TA=(t,e,n)=>{switch(e){case"xAxis":return vN(t,n).width;case"yAxis":return _N(t,n).height;default:return}},wN=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,a=Cs(t,r),l=e.map(u=>u.value);if(s&&a&&o==="category"&&i&&Jk(l))return l}},Yw=$([ke,fm,En,ht],wN),EN=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=Cs(t,r);if(s&&(i==="number"||o!=="auto"))return e.map(a=>a.value)}},Qw=$([ke,fm,Oc,ht],EN);$([ke,wK,Nc,ml,Yw,Qw,Dc,Gw,ht],(t,e,n,r,i,o,s,a,l)=>{if(e==null)return null;var u=Cs(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:u,niceTicks:a,range:s,realScaleType:n,scale:r}});var rH=(t,e,n,r,i,o,s,a,l)=>{if(!(e==null||r==null)){var u=Cs(t,l),{type:c,ticks:h,tickCount:d}=e,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=c==="category"&&r.bandwidth?r.bandwidth()/p:0;g=l==="angleAxis"&&o!=null&&o.length>=2?Nn(o[0]-o[1])*2*g:g;var w=h||i;if(w){var E=w.map((y,v)=>{var b=s?s.indexOf(y):y;return{index:v,coordinate:r(b)+g,value:y,offset:g}});return E.filter(y=>!or(y.coordinate))}return u&&a?a.map((y,v)=>({coordinate:r(y)+g,value:y,index:v,offset:g})):r.ticks?r.ticks(d).map(y=>({coordinate:r(y)+g,value:y,offset:g})):r.domain().map((y,v)=>({coordinate:r(y)+g,value:s?s[y]:y,index:v,offset:g}))}},bN=$([ke,Oc,Nc,ml,Gw,Dc,Yw,Qw,ht],rH),iH=(t,e,n,r,i,o,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var a=Cs(t,s),{tickCount:l}=e,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Nn(r[0]-r[1])*2*u:u,a&&o?o.map((c,h)=>({coordinate:n(c)+u,value:c,index:h,offset:u})):n.ticks?n.ticks(l).map(c=>({coordinate:n(c)+u,value:c,offset:u})):n.domain().map((c,h)=>({coordinate:n(c)+u,value:i?i[c]:c,index:h,offset:u}))}},Ya=$([ke,Oc,ml,Dc,Yw,Qw,ht],iH),Qa=$(En,ml,(t,e)=>{if(!(t==null||e==null))return Od(Od({},t),{},{scale:e})}),oH=$([En,Nc,Hw,mN],qw);$((t,e,n)=>Bw(t,n),oH,(t,e)=>{if(!(t==null||e==null))return Od(Od({},t),{},{scale:e})});var sH=$([ke,iw,ow],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),TN=t=>t.options.defaultTooltipEventType,SN=t=>t.options.validateTooltipEventTypes;function AN(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Xw(t,e){var n=TN(t),r=SN(t);return AN(e,n,r)}function aH(t){return ie(e=>Xw(e,t))}var PN=(t,e)=>{var n,r=Number(e);if(!(or(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},lH=t=>t.tooltip.settings,Ji={active:!1,index:null,dataKey:void 0,coordinate:void 0},uH={itemInteraction:{click:Ji,hover:Ji},axisInteraction:{click:Ji,hover:Ji},keyboardInteraction:Ji,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},IN=Bn({name:"tooltip",initialState:uH,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=li(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:cH,removeTooltipEntrySettings:fH,setTooltipSettingsState:hH,setActiveMouseOverItemIndex:xN,mouseLeaveItem:dH,mouseLeaveChart:CN,setActiveClickItemIndex:pH,setMouseOverAxisIndex:kN,setMouseClickAxisIndex:mH,setSyncInteraction:Vv,setKeyboardInteraction:jv}=IN.actions,gH=IN.reducer;function SA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SA(Object(n),!0).forEach(function(r){yH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yH(t,e,n){return(e=vH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vH(t){var e=_H(t,"string");return typeof e=="symbol"?e:e+""}function _H(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wH(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function EH(t){return t.index!=null}var ON=(t,e,n,r)=>{if(e==null)return Ji;var i=wH(t,e,n);if(i==null)return Ji;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(EH(i)){if(o)return Bf(Bf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Bf(Bf({},Ji),{},{coordinate:i.coordinate})},Jw=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!$n(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},RN=(t,e,n,r,i,o,s,a)=>{if(!(o==null||a==null)){var l=s[0],u=l==null?void 0:a(l.positions,o);if(u!=null)return u;var c=i==null?void 0:i[Number(o)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:c.coordinate}}}},NN=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.dataKey)===i})},Mc=t=>t.options.tooltipPayloadSearcher,gl=t=>t.tooltip;function AA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AA(Object(n),!0).forEach(function(r){bH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bH(t,e,n){return(e=TH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TH(t){var e=SH(t,"string");return typeof e=="symbol"?e:e+""}function SH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AH(t,e){return t??e}var DN=(t,e,n,r,i,o,s)=>{if(!(e==null||o==null)){var{chartData:a,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,h=[];return t.reduce((d,p)=>{var g,{dataDefinedOnItem:w,settings:E}=p,y=AH(w,a),v=Array.isArray(y)?gR(y,u,c):y,b=(g=E==null?void 0:E.dataKey)!==null&&g!==void 0?g:r==null?void 0:r.dataKey,x=E==null?void 0:E.nameKey,R;if(r!=null&&r.dataKey&&Array.isArray(v)&&!Array.isArray(v[0])&&s==="axis"?R=MU(v,r.dataKey,i):R=o(v,e,l,x),Array.isArray(R))R.forEach(S=>{var T=PA(PA({},E),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});d.push(yS({tooltipEntrySettings:T,dataKey:S.dataKey,payload:S.payload,value:ln(S.payload,S.dataKey),name:S.name}))});else{var D;d.push(yS({tooltipEntrySettings:E,dataKey:b,payload:R,value:ln(R,b),name:(D=ln(R,x))!==null&&D!==void 0?D:E==null?void 0:E.name}))}return d},h)}},Zw=$([Tt,ke,z2,Mw,bt],fN),PH=$([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),IH=$([bt,dl],W2),Lc=$([PH,Tt,IH],K2),xH=$([Lc],t=>t.filter(cm)),CH=$([Lc],Y2),yl=$([CH,No],Q2),kH=$([xH,No,Tt],B2),eE=$([yl,Tt,Lc],X2),OH=$([Tt],Kw),RH=$([Lc],t=>t.filter(cm)),NH=$([kH,RH,sm],Z2),DH=$([NH,No,bt],eN),MH=$([Lc],q2),LH=$([yl,Tt,MH,hm,bt],tN),VH=$([rN,bt,dl],pl),jH=$([VH,bt],sN),$H=$([iN,bt,dl],pl),FH=$([$H,bt],aN),UH=$([oN,bt,dl],pl),BH=$([UH,bt],lN),zH=$([jH,BH,FH],Rd),WH=$([Tt,OH,DH,LH,zH,ke,bt],uN),MN=$([Tt,ke,yl,eE,sm,bt,WH],cN),KH=$([MN,Tt,Zw],hN),HH=$([Tt,MN,KH,bt],dN),LN=t=>{var e=bt(t),n=dl(t),r=!1;return Dc(t,e,n,r)},VN=$([Tt,LN],am),jN=$([Tt,Zw,HH,VN],qw),qH=$([ke,eE,Tt,bt],wN),GH=$([ke,eE,Tt,bt],EN),YH=(t,e,n,r,i,o,s,a)=>{if(e){var{type:l}=e,u=Cs(t,a);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return h=a==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Nn(i[0]-i[1])*2*h:h,u&&s?s.map((d,p)=>({coordinate:r(d)+h,value:d,index:p,offset:h})):r.domain().map((d,p)=>({coordinate:r(d)+h,value:o?o[d]:d,index:p,offset:h}))}}},ki=$([ke,Tt,Zw,jN,LN,qH,GH,bt],YH),tE=$([TN,SN,lH],(t,e,n)=>AN(n.shared,t,e)),$N=t=>t.tooltip.settings.trigger,nE=t=>t.tooltip.settings.defaultIndex,mm=$([gl,tE,$N,nE],ON),Xa=$([mm,yl],Jw),FN=$([ki,Xa],PN),UN=$([mm],t=>{if(t)return t.dataKey}),BN=$([gl,tE,$N,nE],NN),QH=$([Pi,Ii,ke,Ot,ki,nE,BN,Mc],RN),XH=$([mm,QH],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),JH=$([mm],t=>t.active),ZH=$([BN,Xa,No,Tt,FN,Mc,tE],DN);$([ZH],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function IA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IA(Object(n),!0).forEach(function(r){eq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eq(t,e,n){return(e=tq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tq(t){var e=nq(t,"string");return typeof e=="symbol"?e:e+""}function nq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rq=()=>ie(Tt),iq=()=>{var t=rq(),e=ie(ki),n=ie(jN);return rw(xA(xA({},t),{},{scale:n}),e)},oq=()=>ie(Mw),rE=(t,e)=>e,zN=(t,e,n)=>n,iE=(t,e,n,r)=>r,sq=$(ki,t=>zp(t,e=>e.coordinate)),oE=$([gl,rE,zN,iE],ON),WN=$([oE,yl],Jw),aq=(t,e,n)=>{if(e!=null){var r=gl(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},KN=$([gl,rE,zN,iE],NN),Nd=$([Pi,Ii,ke,Ot,ki,iE,KN,Mc],RN),lq=$([oE,Nd],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),HN=$(ki,WN,PN),uq=$([KN,WN,No,Tt,HN,Mc,rE],DN),cq=$([oE],t=>({isActive:t.active,activeIndex:t.index})),fq=(t,e,n,r,i,o,s,a)=>{if(!(!t||!e||!r||!i||!o)){var l=HB(t.chartX,t.chartY,e,n,a);if(l){var u=GB(l,e),c=NB(u,s,o,r,i),h=qB(e,o,c,l);return{activeIndex:String(c),activeCoordinate:h}}}};function $v(){return $v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$v.apply(null,arguments)}function CA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CA(Object(n),!0).forEach(function(r){hq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hq(t,e,n){return(e=dq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dq(t){var e=pq(t,"string");return typeof e=="symbol"?e:e+""}function pq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mq(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:s,cursor:a,tooltipEventType:l,chartName:u}=t,c=e,h=n,d=r;if(!a||!c||u!=="ScatterChart"&&l!=="axis")return null;var p,g;if(u==="ScatterChart")p=c,g=$z;else if(u==="BarChart")p=Fz(s,c,i,o),g=RR;else if(s==="radial"){var{cx:w,cy:E,radius:y,startAngle:v,endAngle:b}=NR(c);p={cx:w,cy:E,startAngle:v,endAngle:b,innerRadius:y,outerRadius:y},g=MR}else p={points:_8(s,c,i)},g=kz;var x=typeof a=="object"&&"className"in a?a.className:void 0,R=zf(zf(zf(zf({stroke:"#ccc",pointerEvents:"none"},i),p),xt(a,!1)),{},{payload:h,payloadIndex:d,className:ze("recharts-tooltip-cursor",x)});return P.isValidElement(a)?P.cloneElement(a,R):P.createElement(g,R)}function gq(t){var e=iq(),n=oz(),r=aw(),i=oq();return P.createElement(mq,$v({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var qN=P.createContext(null),yq=()=>P.useContext(qN),GN={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,h||l,d),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,p=h.length,g=new Array(p);d<p;d++)g[d]=h[d].fn;return g},a.prototype.listenerCount=function(u){var c=n?n+u:u,h=this._events[c];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,c,h,d,p,g){var w=n?n+u:u;if(!this._events[w])return!1;var E=this._events[w],y=arguments.length,v,b;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),y){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,c),!0;case 3:return E.fn.call(E.context,c,h),!0;case 4:return E.fn.call(E.context,c,h,d),!0;case 5:return E.fn.call(E.context,c,h,d,p),!0;case 6:return E.fn.call(E.context,c,h,d,p,g),!0}for(b=1,v=new Array(y-1);b<y;b++)v[b-1]=arguments[b];E.fn.apply(E.context,v)}else{var x=E.length,R;for(b=0;b<x;b++)switch(E[b].once&&this.removeListener(u,E[b].fn,void 0,!0),y){case 1:E[b].fn.call(E[b].context);break;case 2:E[b].fn.call(E[b].context,c);break;case 3:E[b].fn.call(E[b].context,c,h);break;case 4:E[b].fn.call(E[b].context,c,h,d);break;default:if(!v)for(R=1,v=new Array(y-1);R<y;R++)v[R-1]=arguments[R];E[b].fn.apply(E[b].context,v)}}return!0},a.prototype.on=function(u,c,h){return o(this,u,c,h,!1)},a.prototype.once=function(u,c,h){return o(this,u,c,h,!0)},a.prototype.removeListener=function(u,c,h,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!d||g.once)&&(!h||g.context===h)&&s(this,p);else{for(var w=0,E=[],y=g.length;w<y;w++)(g[w].fn!==c||d&&!g[w].once||h&&g[w].context!==h)&&E.push(g[w]);E.length?this._events[p]=E.length===1?E[0]:E:s(this,p)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(GN);var vq=GN.exports;const _q=Kr(vq);var ic=new _q,Fv="recharts.syncEvent.tooltip",kA="recharts.syncEvent.brush";function wq(t,e){if(e){var n=Number.parseInt(e,10);if(!or(n))return t==null?void 0:t[n]}}var Eq={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},YN=Bn({name:"options",initialState:Eq,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),bq=YN.reducer,{createEventEmitter:Tq}=YN.actions;function Sq(t){return t.tooltip.syncInteraction}var Aq={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},QN=Bn({name:"chartData",initialState:Aq,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:OA,setDataStartEndIndexes:Pq,setComputedData:$J}=QN.actions,Iq=QN.reducer,XN=()=>{};function xq(){var t=ie(Lw),e=ie(Vw),n=kt(),r=ie(L2),i=ie(ki),o=aw(),s=sw(),a=ie(l=>l.rootProps.className);P.useEffect(()=>{if(t==null)return XN;var l=(u,c,h)=>{if(e!==h&&t===u){if(r==="index"){n(c);return}if(i!=null){var d;if(typeof r=="function"){var p={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},g=r(i,p);d=i[g]}else r==="value"&&(d=i.find(D=>String(D.value)===c.payload.label));var{coordinate:w}=c.payload;if(d==null||c.payload.active===!1||w==null||s==null){n(Vv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:E,y}=w,v=Math.min(E,s.x+s.width),b=Math.min(y,s.y+s.height),x={x:o==="horizontal"?d.coordinate:v,y:o==="horizontal"?b:d.coordinate},R=Vv({active:c.payload.active,coordinate:x,dataKey:c.payload.dataKey,index:String(d.index),label:c.payload.label});n(R)}}};return ic.on(Fv,l),()=>{ic.off(Fv,l)}},[a,n,e,t,r,i,o,s])}function Cq(){var t=ie(Lw),e=ie(Vw),n=kt();P.useEffect(()=>{if(t==null)return XN;var r=(i,o,s)=>{e!==s&&t===i&&n(Pq(o))};return ic.on(kA,r),()=>{ic.off(kA,r)}},[n,e,t])}function kq(){var t=kt();P.useEffect(()=>{t(Tq())},[t]),xq(),Cq()}function Oq(t,e,n,r,i,o){var s=ie(d=>aq(d,t,e)),a=ie(Vw),l=ie(Lw),u=ie(L2),c=ie(Sq),h=c==null?void 0:c.active;P.useEffect(()=>{if(!h&&l!=null&&a!=null){var d=Vv({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r});ic.emit(Fv,l,d,a)}},[h,n,s,i,r,a,l,u,o])}function RA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RA(Object(n),!0).forEach(function(r){Rq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rq(t,e,n){return(e=Nq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nq(t){var e=Dq(t,"string");return typeof e=="symbol"?e:e+""}function Dq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mq(t){return t.dataKey}function Lq(t,e){return P.isValidElement(t)?P.cloneElement(t,e):typeof t=="function"?P.createElement(t,e):P.createElement(gz,e)}var DA=[],Vq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Pc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function jq(t){var e=ks(t,Vq),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:s,filterNull:a,isAnimationActive:l,offset:u,payloadUniqBy:c,position:h,reverseDirection:d,useTranslate3d:p,wrapperStyle:g,cursor:w,shared:E,trigger:y,defaultIndex:v,portal:b,axisId:x}=e,R=kt(),D=typeof v=="number"?String(v):v;P.useEffect(()=>{R(hH({shared:E,trigger:y,axisId:x,active:n,defaultIndex:D}))},[R,E,y,x,n,D]);var S=sw(),T=ER(),I=aH(E),{activeIndex:C,isActive:k}=ie(je=>cq(je,I,y,D)),N=ie(je=>uq(je,I,y,D)),O=ie(je=>HN(je,I,y,D)),ue=ie(je=>lq(je,I,y,D)),Te=N,ne=yq(),ye=n??k,[W,J]=b5([Te,ye]),te=I==="axis"?O:void 0;Oq(I,y,ue,te,C,ye);var _e=b??ne;if(_e==null)return null;var H=Te??DA;ye||(H=DA),a&&H.length&&(H=F9(Te.filter(je=>je.value!=null&&(je.hide!==!0||e.includeHidden)),c,Mq));var Oe=H.length>0,Nt=P.createElement(Tz,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:l,active:ye,coordinate:ue,hasPayload:Oe,offset:u,position:h,reverseDirection:d,useTranslate3d:p,viewBox:S,wrapperStyle:g,lastBoundingBox:W,innerRef:J,hasPortalFromProps:!!b},Lq(s,NA(NA({},e),{},{payload:H,label:te,active:ye,coordinate:ue,accessibilityLayer:T})));return P.createElement(P.Fragment,null,Ix.createPortal(Nt,_e),ye&&P.createElement(gq,{cursor:w,tooltipEventType:I,coordinate:ue,payload:Te,index:C}))}var JN={},ZN={},eD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let s,a=null;const l=o!=null&&o.includes("leading"),u=o==null||o.includes("trailing"),c=()=>{a!==null&&(n.apply(s,a),s=void 0,a=null)},h=()=>{u&&c(),w()};let d=null;const p=()=>{d!=null&&clearTimeout(d),d=setTimeout(()=>{d=null,h()},r)},g=()=>{d!==null&&(clearTimeout(d),d=null)},w=()=>{g(),s=void 0,a=null},E=()=>{c()},y=function(...v){if(i!=null&&i.aborted)return;s=this,a=v;const b=d==null;p(),l&&b&&c()};return y.schedule=p,y.cancel=w,y.flush=E,i==null||i.addEventListener("abort",w,{once:!0}),y}t.debounce=e})(eD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eD;function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:a=!0,maxWait:l}=o,u=Array(2);s&&(u[0]="leading"),a&&(u[1]="trailing");let c,h=null;const d=e.debounce(function(...w){c=r.apply(this,w),h=null},i,{edges:u}),p=function(...w){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(c=r.apply(this,w),h=Date.now(),d.cancel(),d.schedule(),c):(d.apply(this,w),c)},g=()=>(d.flush(),c);return p.cancel=d.cancel,p.flush=g,p}t.debounce=n})(ZN);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZN;function n(r,i=0,o={}){const{leading:s=!0,trailing:a=!0}=o;return e.debounce(r,i,{leading:s,maxWait:i,trailing:a})}t.throttle=n})(JN);var $q=JN.throttle;const Fq=Kr($q);var Og=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function MA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MA(Object(n),!0).forEach(function(r){Uq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uq(t,e,n){return(e=Bq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bq(t){var e=zq(t,"string");return typeof e=="symbol"?e:e+""}function zq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wq=P.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:s=0,minHeight:a,maxHeight:l,children:u,debounce:c=0,id:h,className:d,onResize:p,style:g={}}=t,w=P.useRef(null),E=P.useRef();E.current=p,P.useImperativeHandle(e,()=>w.current);var[y,v]=P.useState({containerWidth:r.width,containerHeight:r.height}),b=P.useCallback((R,D)=>{v(S=>{var T=Math.round(R),I=Math.round(D);return S.containerWidth===T&&S.containerHeight===I?S:{containerWidth:T,containerHeight:I}})},[]);P.useEffect(()=>{var R=I=>{var C,{width:k,height:N}=I[0].contentRect;b(k,N),(C=E.current)===null||C===void 0||C.call(E,k,N)};c>0&&(R=Fq(R,c,{trailing:!0,leading:!1}));var D=new ResizeObserver(R),{width:S,height:T}=w.current.getBoundingClientRect();return b(S,T),D.observe(w.current),()=>{D.disconnect()}},[b,c]);var x=P.useMemo(()=>{var{containerWidth:R,containerHeight:D}=y;if(R<0||D<0)return null;Og(Xo(i)||Xo(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),Og(!n||n>0,"The aspect(%s) must be greater than zero.",n);var S=Xo(i)?R:i,T=Xo(o)?D:o;return n&&n>0&&(S?T=S/n:T&&(S=T*n),l&&T>l&&(T=l)),Og(S>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,T,i,o,s,a,n),P.Children.map(u,I=>P.cloneElement(I,{width:S,height:T,style:Rg({width:S,height:T},I.props.style)}))},[n,u,o,l,a,s,y,i]);return P.createElement("div",{id:h?"".concat(h):void 0,className:ze("recharts-responsive-container",d),style:Rg(Rg({},g),{},{width:i,height:o,minWidth:s,minHeight:a,maxHeight:l}),ref:w},P.createElement("div",{style:{width:0,height:0,overflow:"visible"}},x))}),tD=t=>null;tD.displayName="Cell";function Kq(t,e,n){return(e=Hq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hq(t){var e=qq(t,"string");return typeof e=="symbol"?e:e+""}function qq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Gq{constructor(e){Kq(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function LA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LA(Object(n),!0).forEach(function(r){Qq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qq(t,e,n){return(e=Xq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xq(t){var e=Jq(t,"string");return typeof e=="symbol"?e:e+""}function Jq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zq={cacheSize:2e3,enableCache:!0},nD=Yq({},Zq),VA=new Gq(nD.cacheSize),eG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jA="recharts_measurement_span";function tG(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",s=e.letterSpacing||"",a=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(a)}var $A=(t,e)=>{try{var n=document.getElementById(jA);n||(n=document.createElement("span"),n.setAttribute("id",jA),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,eG,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},bu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Pc.isSsr)return{width:0,height:0};if(!nD.enableCache)return $A(e,n);var r=tG(e,n),i=VA.get(r);if(i)return i;var o=$A(e,n);return VA.set(r,o),o},FA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iG=Object.keys(rD),da="NaN";function oG(t,e){return t*rD[e]}class hn{static parse(e){var n,[,r,i]=(n=rG.exec(e))!==null&&n!==void 0?n:[];return new hn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,or(e)&&(this.unit=""),n!==""&&!nG.test(n)&&(this.num=NaN,this.unit=""),iG.includes(n)&&(this.num=oG(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new hn(NaN,""):new hn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new hn(NaN,""):new hn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new hn(NaN,""):new hn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new hn(NaN,""):new hn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return or(this.num)}}function iD(t){if(t.includes(da))return da;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=FA.exec(e))!==null&&n!==void 0?n:[],s=hn.parse(r??""),a=hn.parse(o??""),l=i==="*"?s.multiply(a):s.divide(a);if(l.isNaN())return da;e=e.replace(FA,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,c,h,d]=(u=UA.exec(e))!==null&&u!==void 0?u:[],p=hn.parse(c??""),g=hn.parse(d??""),w=h==="+"?p.add(g):p.subtract(g);if(w.isNaN())return da;e=e.replace(UA,w.toString())}return e}var BA=/\(([^()]*)\)/;function sG(t){for(var e=t,n;(n=BA.exec(e))!=null;){var[,r]=n;e=e.replace(BA,iD(r))}return e}function aG(t){var e=t.replace(/\s+/g,"");return e=sG(e),e=iD(e),e}function lG(t){try{return aG(t)}catch{return da}}function Ng(t){var e=lG(t.slice(5,-1));return e===da?"":e}var uG=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],cG=["dx","dy","angle","className","breakAll"];function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(null,arguments)}function zA(t,e){if(t==null)return{};var n,r,i=fG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oD=/[ \f\n\r\t\v\u2028\u2029]+/,sD=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];wt(e)||(n?i=e.toString().split(""):i=e.toString().split(oD));var o=i.map(a=>({word:a,width:bu(a,r).width})),s=n?0:bu(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},hG=(t,e,n,r,i)=>{var{maxLines:o,children:s,style:a,breakAll:l}=t,u=Z(o),c=s,h=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return k.reduce((N,O)=>{var{word:ue,width:Te}=O,ne=N[N.length-1];if(ne&&(r==null||i||ne.width+Te+n<Number(r)))ne.words.push(ue),ne.width+=Te+n;else{var ye={words:[ue],width:Te};N.push(ye)}return N},[])},d=h(e),p=C=>C.reduce((k,N)=>k.width>N.width?k:N);if(!u||i)return d;var g=d.length>o||p(d).width>Number(r);if(!g)return d;for(var w="…",E=C=>{var k=c.slice(0,C),N=sD({breakAll:l,style:a,children:k+w}).wordsWithComputedWidth,O=h(N),ue=O.length>o||p(O).width>Number(r);return[ue,O]},y=0,v=c.length-1,b=0,x;y<=v&&b<=c.length-1;){var R=Math.floor((y+v)/2),D=R-1,[S,T]=E(D),[I]=E(R);if(!S&&!I&&(y=R+1),S&&I&&(v=R-1),!S&&I){x=T;break}b++}return x||d},WA=t=>{var e=wt(t)?[]:t.toString().split(oD);return[{words:e}]},dG=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=t;if((e||n)&&!Pc.isSsr){var a,l,u=sD({breakAll:o,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:h}=u;a=c,l=h}else return WA(r);return hG({breakAll:o,children:r,maxLines:s,style:i},a,l,e,n)}return WA(r)},KA="#808080",sE=P.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:a="start",verticalAnchor:l="end",fill:u=KA}=t,c=zA(t,uG),h=P.useMemo(()=>dG({breakAll:c.breakAll,children:c.children,maxLines:c.maxLines,scaleToFit:s,style:c.style,width:c.width}),[c.breakAll,c.children,c.maxLines,s,c.style,c.width]),{dx:d,dy:p,angle:g,className:w,breakAll:E}=c,y=zA(c,cG);if(!zr(n)||!zr(r))return null;var v=n+(Z(d)?d:0),b=r+(Z(p)?p:0),x;switch(l){case"start":x=Ng("calc(".concat(o,")"));break;case"middle":x=Ng("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:x=Ng("calc(".concat(h.length-1," * -").concat(i,")"));break}var R=[];if(s){var D=h[0].width,{width:S}=c;R.push("scale(".concat(Z(S)?S/D:1,")"))}return g&&R.push("rotate(".concat(g,", ").concat(v,", ").concat(b,")")),R.length&&(y.transform=R.join(" ")),P.createElement("text",Uv({},xt(y,!0),{ref:e,x:v,y:b,className:ze("recharts-text",w),textAnchor:a,fill:u.includes("url")?KA:u}),h.map((T,I)=>{var C=T.words.join(E?"":" ");return P.createElement("tspan",{x:v,dy:I===0?x:i,key:"".concat(C,"-").concat(I)},C)}))});sE.displayName="Text";var pG=["offset"],mG=["labelRef"];function HA(t,e){if(t==null)return{};var n,r,i=gG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qA(Object(n),!0).forEach(function(r){yG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yG(t,e,n){return(e=vG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vG(t){var e=_G(t,"string");return typeof e=="symbol"?e:e+""}function _G(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zr(){return Zr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zr.apply(null,arguments)}var wG=t=>{var{value:e,formatter:n}=t,r=wt(t.children)?e:t.children;return typeof n=="function"?n(r):r},aE=t=>t!=null&&typeof t=="function",EG=(t,e)=>{var n=Nn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},bG=(t,e,n,r)=>{var{position:i,offset:o,className:s}=t,{cx:a,cy:l,innerRadius:u,outerRadius:c,startAngle:h,endAngle:d,clockWise:p}=r,g=(u+c)/2,w=EG(h,d),E=w>=0?1:-1,y,v;i==="insideStart"?(y=h+E*o,v=p):i==="insideEnd"?(y=d-E*o,v=!p):i==="end"&&(y=d+E*o,v=p),v=w<=0?v:!v;var b=Ut(a,l,g,y),x=Ut(a,l,g,y+(v?1:-1)*359),R="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(v?0:1,`,
    `).concat(x.x,",").concat(x.y),D=wt(t.id)?Yu("recharts-radial-line-"):t.id;return P.createElement("text",Zr({},n,{dominantBaseline:"central",className:ze("recharts-radial-bar-label",s)}),P.createElement("defs",null,P.createElement("path",{id:D,d:R})),P.createElement("textPath",{xlinkHref:"#".concat(D)},e))},TG=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:a,endAngle:l}=t,u=(a+l)/2;if(n==="outside"){var{x:c,y:h}=Ut(r,i,s+e,u);return{x:c,y:h,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var d=(o+s)/2,{x:p,y:g}=Ut(r,i,d,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},SG=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:o,y:s,width:a,height:l}=e,u=l>=0?1:-1,c=u*r,h=u>0?"end":"start",d=u>0?"start":"end",p=a>=0?1:-1,g=p*r,w=p>0?"end":"start",E=p>0?"start":"end";if(i==="top"){var y={x:o+a/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h};return et(et({},y),n?{height:Math.max(s-n.y,0),width:a}:{})}if(i==="bottom"){var v={x:o+a/2,y:s+l+c,textAnchor:"middle",verticalAnchor:d};return et(et({},v),n?{height:Math.max(n.y+n.height-(s+l),0),width:a}:{})}if(i==="left"){var b={x:o-g,y:s+l/2,textAnchor:w,verticalAnchor:"middle"};return et(et({},b),n?{width:Math.max(b.x-n.x,0),height:l}:{})}if(i==="right"){var x={x:o+a+g,y:s+l/2,textAnchor:E,verticalAnchor:"middle"};return et(et({},x),n?{width:Math.max(n.x+n.width-x.x,0),height:l}:{})}var R=n?{width:a,height:l}:{};return i==="insideLeft"?et({x:o+g,y:s+l/2,textAnchor:E,verticalAnchor:"middle"},R):i==="insideRight"?et({x:o+a-g,y:s+l/2,textAnchor:w,verticalAnchor:"middle"},R):i==="insideTop"?et({x:o+a/2,y:s+c,textAnchor:"middle",verticalAnchor:d},R):i==="insideBottom"?et({x:o+a/2,y:s+l-c,textAnchor:"middle",verticalAnchor:h},R):i==="insideTopLeft"?et({x:o+g,y:s+c,textAnchor:E,verticalAnchor:d},R):i==="insideTopRight"?et({x:o+a-g,y:s+c,textAnchor:w,verticalAnchor:d},R):i==="insideBottomLeft"?et({x:o+g,y:s+l-c,textAnchor:E,verticalAnchor:h},R):i==="insideBottomRight"?et({x:o+a-g,y:s+l-c,textAnchor:w,verticalAnchor:h},R):i&&typeof i=="object"&&(Z(i.x)||Xo(i.x))&&(Z(i.y)||Xo(i.y))?et({x:o+br(i.x,a),y:s+br(i.y,l),textAnchor:"end",verticalAnchor:"end"},R):et({x:o+a/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},R)},AG=t=>"cx"in t&&Z(t.cx);function Cn(t){var{offset:e=5}=t,n=HA(t,pG),r=et({offset:e},n),{viewBox:i,position:o,value:s,children:a,content:l,className:u="",textBreakAll:c,labelRef:h}=r,d=ie(U2),p=sw(),g=o==="center"?p:d??p,w=i||g;if(!w||wt(s)&&wt(a)&&!P.isValidElement(l)&&typeof l!="function")return null;var E=et(et({},r),{},{viewBox:w});if(P.isValidElement(l)){var{labelRef:y}=E,v=HA(E,mG);return P.cloneElement(l,v)}var b;if(typeof l=="function"){if(b=P.createElement(l,E),P.isValidElement(b))return b}else b=wG(r);var x=AG(w),R=xt(r,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return bG(r,b,R,w);var D=x?TG(w,r.offset,r.position):SG(r,w);return P.createElement(sE,Zr({ref:h,className:ze("recharts-label",u)},R,D,{breakAll:c}),b)}Cn.displayName="Label";var aD=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:o,r:s,radius:a,innerRadius:l,outerRadius:u,x:c,y:h,top:d,left:p,width:g,height:w,clockWise:E,labelViewBox:y}=t;if(y)return y;if(Z(g)&&Z(w)){if(Z(c)&&Z(h))return{x:c,y:h,width:g,height:w};if(Z(d)&&Z(p))return{x:d,y:p,width:g,height:w}}if(Z(c)&&Z(h))return{x:c,y:h,width:0,height:0};if(Z(e)&&Z(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:u||a||s||0,clockWise:E};if(t.viewBox)return t.viewBox},PG=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?P.createElement(Cn,Zr({key:"label-implicit"},r)):zr(t)?P.createElement(Cn,Zr({key:"label-implicit",value:t},r)):P.isValidElement(t)?t.type===Cn?P.cloneElement(t,et({key:"label-implicit"},r)):P.createElement(Cn,Zr({key:"label-implicit",content:t},r)):aE(t)?P.createElement(Cn,Zr({key:"label-implicit",content:t},r)):t&&typeof t=="object"?P.createElement(Cn,Zr({},t,{key:"label-implicit"},r)):null},IG=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:o}=e,s=aD(e),a=j_(i,Cn).map((u,c)=>P.cloneElement(u,{viewBox:n||s,key:"label-".concat(c)}));if(!r)return a;var l=PG(e.label,n||s,o);return[l,...a]};Cn.parseViewBox=aD;Cn.renderCallByParent=IG;var lD={},uD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(uD);var cD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(cD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uD,n=cD,r=jp;function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(lD);var xG=lD.last;const CG=Kr(xG);var kG=["valueAccessor"],OG=["data","dataKey","clockWise","id","textBreakAll"];function Dd(){return Dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dd.apply(null,arguments)}function GA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GA(Object(n),!0).forEach(function(r){RG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RG(t,e,n){return(e=NG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NG(t){var e=DG(t,"string");return typeof e=="symbol"?e:e+""}function DG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QA(t,e){if(t==null)return{};var n,r,i=MG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function MG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var LG=t=>Array.isArray(t.value)?CG(t.value):t.value;function us(t){var{valueAccessor:e=LG}=t,n=QA(t,kG),{data:r,dataKey:i,clockWise:o,id:s,textBreakAll:a}=n,l=QA(n,OG);return!r||!r.length?null:P.createElement(Ao,{className:"recharts-label-list"},r.map((u,c)=>{var h=wt(i)?e(u,c):ln(u&&u.payload,i),d=wt(s)?{}:{id:"".concat(s,"-").concat(c)};return P.createElement(Cn,Dd({},xt(u,!0),l,d,{parentViewBox:u.parentViewBox,value:h,textBreakAll:a,viewBox:Cn.parseViewBox(wt(o)?u:YA(YA({},u),{},{clockWise:o})),key:"label-".concat(c),index:c}))}))}us.displayName="LabelList";function VG(t,e){return t?t===!0?P.createElement(us,{key:"labelList-implicit",data:e}):P.isValidElement(t)||aE(t)?P.createElement(us,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?P.createElement(us,Dd({data:e},t,{key:"labelList-implicit"})):null:null}function jG(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=j_(r,us).map((s,a)=>P.cloneElement(s,{data:e,key:"labelList-".concat(a)}));if(!n)return i;var o=VG(t.label,e);return[o,...i]}us.renderCallByParent=jG;var $G={radiusAxis:{},angleAxis:{}},fD=Bn({name:"polarAxis",initialState:$G,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:FJ,removeRadiusAxis:UJ,addAngleAxis:BJ,removeAngleAxis:zJ}=fD.actions,FG=fD.reducer,hD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(hD);var UG=hD.isPlainObject;const BG=Kr(UG);function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Md.apply(null,arguments)}var XA=(t,e,n,r,i)=>{var o=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-o/2,",").concat(e+i),s+="L ".concat(t+n-o/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},zG={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WG=t=>{var e=ks(t,zG),n=P.useRef(),[r,i]=P.useState(-1);P.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&i(E)}catch{}},[]);var{x:o,y:s,upperWidth:a,lowerWidth:l,height:u,className:c}=e,{animationEasing:h,animationDuration:d,animationBegin:p,isUpdateAnimationActive:g}=e;if(o!==+o||s!==+s||a!==+a||l!==+l||u!==+u||a===0&&l===0||u===0)return null;var w=ze("recharts-trapezoid",c);return g?P.createElement(_d,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:u,x:o,y:s},to:{upperWidth:a,lowerWidth:l,height:u,x:o,y:s},duration:d,animationEasing:h,isActive:g},E=>{var{upperWidth:y,lowerWidth:v,height:b,x,y:R}=E;return P.createElement(_d,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:d,easing:h},P.createElement("path",Md({},xt(e,!0),{className:w,d:XA(x,R,y,v,b),ref:n})))}):P.createElement("g",null,P.createElement("path",Md({},xt(e,!0),{className:w,d:XA(o,s,a,l,u)})))},KG=["option","shapeType","propTransformer","activeClassName","isActive"];function HG(t,e){if(t==null)return{};var n,r,i=qG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function JA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JA(Object(n),!0).forEach(function(r){GG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GG(t,e,n){return(e=YG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YG(t){var e=QG(t,"string");return typeof e=="symbol"?e:e+""}function QG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XG(t,e){return Ld(Ld({},e),t)}function JG(t,e){return t==="symbols"}function ZA(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return P.createElement(RR,n);case"trapezoid":return P.createElement(WG,n);case"sector":return P.createElement(MR,n);case"symbols":if(JG(e))return P.createElement(_O,n);break;default:return null}}function ZG(t){return P.isValidElement(t)?t.props:t}function eY(t){var{option:e,shapeType:n,propTransformer:r=XG,activeClassName:i="recharts-active-shape",isActive:o}=t,s=HG(t,KG),a;if(P.isValidElement(e))a=P.cloneElement(e,Ld(Ld({},s),ZG(e)));else if(typeof e=="function")a=e(s);else if(BG(e)&&typeof e!="boolean"){var l=r(e,s);a=P.createElement(ZA,{shapeType:n,elementProps:l})}else{var u=s;a=P.createElement(ZA,{shapeType:n,elementProps:u})}return o?P.createElement(Ao,{className:i},a):a}var dD=(t,e)=>{var n=kt();return(r,i)=>o=>{t==null||t(r,i,o),n(xN({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},pD=t=>{var e=kt();return(n,r)=>i=>{t==null||t(n,r,i),e(dH())}},mD=(t,e)=>{var n=kt();return(r,i)=>o=>{t==null||t(r,i,o),n(pH({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function tY(t){var{fn:e,args:n}=t,r=kt(),i=Sr();return P.useEffect(()=>{if(!i){var o=e(n);return r(cH(o)),()=>{r(fH(o))}}},[e,n,r,i]),null}var nY=()=>{};function rY(t){var{legendPayload:e}=t,n=kt(),r=Sr();return P.useEffect(()=>r?nY:(n(uz(e)),()=>{n(cz(e))}),[n,r,e]),null}function iY(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=P.useRef(Yu(e)),r=P.useRef(t);return r.current!==t&&(n.current=Yu(e),r.current=t),n.current}var Dg,oY=()=>{var[t]=P.useState(()=>Yu("uid-"));return t},sY=(Dg=SM.useId)!==null&&Dg!==void 0?Dg:oY;function aY(t,e){var n=sY();return e||(t?"".concat(t,"-").concat(n):n)}var lY=P.createContext(void 0),uY=t=>{var{id:e,type:n,children:r}=t,i=aY("recharts-".concat(n),e);return P.createElement(lY.Provider,{value:i},r(i))},cY={cartesianItems:[],polarItems:[]},gD=Bn({name:"graphicalItems",initialState:cY,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=li(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=li(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=li(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:fY,replaceCartesianGraphicalItem:hY,removeCartesianGraphicalItem:dY,addPolarGraphicalItem:WJ,removePolarGraphicalItem:KJ}=gD.actions,pY=gD.reducer;function mY(t){var e=kt(),n=P.useRef(null);return P.useEffect(()=>{n.current===null?e(fY(t)):n.current!==t&&e(hY({prev:n.current,next:t})),n.current=t},[e,t]),P.useEffect(()=>()=>{n.current&&(e(dY(n.current)),n.current=null)},[e]),null}function gY(){}var yY={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},eP={t:0},Mg={t:1};function vY(t){var e=ks(t,yY),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:a,onAnimationStart:l,children:u}=e,c=OR("JavascriptAnimate",e.animationManager),[h,d]=P.useState(n?eP:Mg),p=P.useRef(null);return P.useEffect(()=>{n||d(Mg)},[n]),P.useEffect(()=>{if(!n||!r)return gY;var g=kR(eP,Mg,xR(o),i,d,c.getTimeoutController()),w=()=>{p.current=g()};return c.start([l,s,w,i,a]),()=>{c.stop(),p.current&&p.current(),a()}},[n,r,i,o,s,l,a,c]),u(h.t)}var _Y=$([Ot],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),wY=$([_Y,Pi,Ii],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),yD=()=>ie(wY),EY="Invariant failed";function bY(t,e){throw new Error(EY)}var TY=["x","y"];function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bv.apply(null,arguments)}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ql(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){SY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SY(t,e,n){return(e=AY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AY(t){var e=PY(t,"string");return typeof e=="symbol"?e:e+""}function PY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IY(t,e){if(t==null)return{};var n,r,i=xY(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function CY(t,e){var{x:n,y:r}=t,i=IY(t,TY),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),h="".concat(e.width||i.width),d=parseInt(h,10);return Ql(Ql(Ql(Ql(Ql({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function vD(t){return P.createElement(eY,Bv({shapeType:"rectangle",propTransformer:CY,activeClassName:"recharts-active-bar"},t))}var kY=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Z(e))return e;var o=Z(r)||wt(r);return o?e(r,i):(o||bY(),n)}},OY={},_D=Bn({name:"errorBars",initialState:OY,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:HJ,removeErrorBar:qJ}=_D.actions,RY=_D.reducer,NY=["children"];function DY(t,e){if(t==null)return{};var n,r,i=MY(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function MY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var LY={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},VY=P.createContext(LY);function jY(t){var{children:e}=t,n=DY(t,NY);return P.createElement(VY.Provider,{value:n},e)}function wD(t,e){var n,r,i=ie(u=>Ci(u,t)),o=ie(u=>Do(u,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:An.allowDataOverflow,a=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Pn.allowDataOverflow,l=s||a;return{needClip:l,needClipX:s,needClipY:a}}function $Y(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=yD(),{needClipX:o,needClipY:s,needClip:a}=wD(e,n);if(!a)return null;var{x:l,y:u,width:c,height:h}=i;return P.createElement("clipPath",{id:"clipPath-".concat(r)},P.createElement("rect",{x:o?l:l-c/2,y:s?u:u-h/2,width:o?c:c*2,height:s?h:h*2}))}var FY=["onMouseEnter","onMouseLeave","onClick"],UY=["value","background","tooltipPosition"],BY=["id"],zY=["onMouseEnter","onClick","onMouseLeave"];function Ja(){return Ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ja.apply(null,arguments)}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){WY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WY(t,e,n){return(e=KY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KY(t){var e=HY(t,"string");return typeof e=="symbol"?e:e+""}function HY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vd(t,e){if(t==null)return{};var n,r,i=qY(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var GY=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:yR(n,e),payload:t}]};function YY(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:s,unit:a}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:yR(o,e),hide:s,type:t.tooltipType,color:t.fill,unit:a}}}function QY(t){var e=ie(Xa),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:s,onMouseLeave:a,onClick:l}=o,u=Vd(o,FY),c=dD(s,r),h=pD(a),d=mD(l,r);if(!i||n==null)return null;var p=xt(i,!1);return P.createElement(P.Fragment,null,n.map((g,w)=>{var{value:E,background:y,tooltipPosition:v}=g,b=Vd(g,UY);if(!y)return null;var x=c(g,w),R=h(g,w),D=d(g,w),S=en(en(en(en(en({option:i,isActive:String(w)===e},b),{},{fill:"#eee"},y),p),V_(u,g,w)),{},{onMouseEnter:x,onMouseLeave:R,onClick:D,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return P.createElement(vD,Ja({key:"background-bar-".concat(w)},S))}))}function ED(t){var{data:e,props:n,showLabels:r}=t,i=Dp(n),{id:o}=i,s=Vd(i,BY),{shape:a,dataKey:l,activeBar:u}=n,c=ie(Xa),h=ie(UN),{onMouseEnter:d,onClick:p,onMouseLeave:g}=n,w=Vd(n,zY),E=dD(d,l),y=pD(g),v=mD(p,l);return e?P.createElement(P.Fragment,null,e.map((b,x)=>{var R=u&&String(x)===c&&(h==null||l===h),D=R?u:a,S=en(en(en({},s),b),{},{isActive:R,option:D,index:x,dataKey:l});return P.createElement(Ao,Ja({className:"recharts-bar-rectangle"},V_(w,b,x),{onMouseEnter:E(b,x),onMouseLeave:y(b,x),onClick:v(b,x),key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(x)}),P.createElement(vD,S))}),r&&us.renderCallByParent(n,e)):null}function XY(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:s,animationDuration:a,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=e,h=n.current,d=iY(e,"recharts-bar-"),[p,g]=P.useState(!1),w=P.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),E=P.useCallback(()=>{typeof c=="function"&&c(),g(!0)},[c]);return P.createElement(vY,{begin:s,duration:a,isActive:o,easing:l,onAnimationEnd:w,onAnimationStart:E,key:d},y=>{var v=y===1?r:r==null?void 0:r.map((b,x)=>{var R=h&&h[x];if(R)return en(en({},b),{},{x:Gs(R.x,b.x,y),y:Gs(R.y,b.y,y),width:Gs(R.width,b.width,y),height:Gs(R.height,b.height,y)});if(i==="horizontal"){var D=Gs(0,b.height,y);return en(en({},b),{},{y:b.y+b.height-D,height:D})}var S=Gs(0,b.width,y);return en(en({},b),{},{width:S})});return y>0&&(n.current=v??null),v==null?null:P.createElement(Ao,null,P.createElement(ED,{props:e,data:v,showLabels:!p}))})}function JY(t){var{data:e,isAnimationActive:n}=t,r=P.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?P.createElement(XY,{previousRectanglesRef:r,props:t}):P.createElement(ED,{props:t,data:e,showLabels:!0})}var bD=0,ZY=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:ln(t,e)}};class eQ extends P.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:s,needClip:a,background:l,id:u}=this.props;if(e)return null;var c=ze("recharts-bar",i),h=u;return P.createElement(Ao,{className:c,id:u},a&&P.createElement("defs",null,P.createElement($Y,{clipPathId:h,xAxisId:o,yAxisId:s})),P.createElement(Ao,{className:"recharts-bar-rectangles",clipPath:a?"url(#clipPath-".concat(h,")"):void 0},P.createElement(QY,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),P.createElement(JY,this.props)),this.props.children)}}var tQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Pc.isSsr,legendType:"rect",minPointSize:bD,xAxisId:0,yAxisId:0};function nQ(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:a,animationDuration:l,animationEasing:u,isAnimationActive:c}=t,{needClip:h}=wD(e,n),d=aw(),p=Sr(),g=j_(t.children,tD),w=ie(v=>CQ(v,e,n,p,t.id,g));if(d!=="vertical"&&d!=="horizontal")return null;var E,y=w==null?void 0:w[0];return y==null||y.height==null||y.width==null?E=0:E=d==="vertical"?y.height/2:y.width/2,P.createElement(jY,{xAxisId:e,yAxisId:n,data:w,dataPointFormatter:ZY,errorBarOffset:E},P.createElement(eQ,Ja({},t,{layout:d,needClip:h,data:w,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:a,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function rQ(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:s,yAxis:a,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:h,offset:d,cells:p}=t,g=e==="horizontal"?a:s,w=c?g.scale.domain():null,E=BB({numericAxis:g});return h.map((y,v)=>{var b,x,R,D,S,T;c?b=LB(c[v],w):(b=ln(y,n),Array.isArray(b)||(b=[E,b]));var I=kY(r,bD)(b[1],v);if(e==="horizontal"){var C,[k,N]=[a.scale(b[0]),a.scale(b[1])];x=pS({axis:s,ticks:l,bandSize:o,offset:i.offset,entry:y,index:v}),R=(C=N??k)!==null&&C!==void 0?C:void 0,D=i.size;var O=k-N;if(S=or(O)?0:O,T={x,y:d.top,width:D,height:d.height},Math.abs(I)>0&&Math.abs(S)<Math.abs(I)){var ue=Nn(S||I)*(Math.abs(I)-Math.abs(S));R-=ue,S+=ue}}else{var[Te,ne]=[s.scale(b[0]),s.scale(b[1])];if(x=Te,R=pS({axis:a,ticks:u,bandSize:o,offset:i.offset,entry:y,index:v}),D=ne-Te,S=i.size,T={x:d.left,y:R,width:d.width,height:S},Math.abs(I)>0&&Math.abs(D)<Math.abs(I)){var ye=Nn(D||I)*(Math.abs(I)-Math.abs(D));D+=ye}}if(x==null||R==null||D==null||S==null)return null;var W=en(en({},y),{},{x,y:R,width:D,height:S,value:c?b:b[1],payload:y,background:T,tooltipPosition:{x:x+D/2,y:R+S/2}},p&&p[v]&&p[v].props);return W}).filter(Boolean)}function zv(t){var e=ks(t,tQ),n=Sr();return P.createElement(uY,{id:e.id,type:"bar"},r=>P.createElement(P.Fragment,null,P.createElement(rY,{legendPayload:GY(e)}),P.createElement(tY,{fn:YY,args:e}),P.createElement(mY,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:UB(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),P.createElement(nQ,Ja({},e,{id:r}))))}zv.displayName="Bar";function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){iQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iQ(t,e,n){return(e=oQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oQ(t){var e=sQ(t,"string");return typeof e=="symbol"?e:e+""}function sQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aQ=(t,e)=>e,lQ=(t,e,n)=>n,uQ=(t,e,n,r)=>r,cQ=(t,e,n,r,i)=>i,Vc=$([zw,cQ],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),fQ=$([Vc],t=>t==null?void 0:t.maxBarSize),hQ=(t,e,n,r,i,o)=>o,iP=(t,e,n)=>{var r=n??t;if(!wt(r))return br(r,e,0)},dQ=$([ke,zw,aQ,lQ,uQ],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),pQ=(t,e,n,r)=>{var i=ke(t);return i==="horizontal"?Lv(t,"yAxis",n,r):Lv(t,"xAxis",e,r)},mQ=(t,e,n)=>{var r=ke(t);return r==="horizontal"?TA(t,"xAxis",e):TA(t,"yAxis",n)},gQ=(t,e,n)=>{var r={},i=t.filter(cm),o=t.filter(u=>u.stackId==null),s=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),r),a=Object.entries(s).map(u=>{var[c,h]=u,d=h.map(g=>g.dataKey),p=iP(e,n,h[0].barSize);return{stackId:c,dataKeys:d,barSize:p}}),l=o.map(u=>{var c=[u.dataKey].filter(d=>d!=null),h=iP(e,n,u.barSize);return{stackId:void 0,dataKeys:c,barSize:h}});return[...a,...l]},yQ=$([dQ,cK,mQ],gQ),vQ=(t,e,n,r,i)=>{var o,s,a=Vc(t,e,n,r,i);if(a!=null){var l=ke(t),u=D2(t),{maxBarSize:c}=a,h=wt(c)?u:c,d,p;return l==="horizontal"?(d=Qa(t,"xAxis",e,r),p=Ya(t,"xAxis",e,r)):(d=Qa(t,"yAxis",n,r),p=Ya(t,"yAxis",n,r)),(o=(s=rw(d,p,!0))!==null&&s!==void 0?s:h)!==null&&o!==void 0?o:0}},TD=(t,e,n,r)=>{var i=ke(t),o,s;return i==="horizontal"?(o=Qa(t,"xAxis",e,r),s=Ya(t,"xAxis",e,r)):(o=Qa(t,"yAxis",n,r),s=Ya(t,"yAxis",n,r)),rw(o,s)};function _Q(t,e,n,r,i){var o=r.length;if(!(o<1)){var s=br(t,n,0,!0),a,l=[];if($n(r[0].barSize)){var u=!1,c=n/o,h=r.reduce((y,v)=>y+(v.barSize||0),0);h+=(o-1)*s,h>=n&&(h-=(o-1)*s,s=0),h>=n&&c>0&&(u=!0,c*=.9,h=o*c);var d=(n-h)/2>>0,p={offset:d-s,size:0};a=r.reduce((y,v)=>{var b,x={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:p.offset+p.size+s,size:u?c:(b=v.barSize)!==null&&b!==void 0?b:0}},R=[...y,x];return p=R[R.length-1].position,R},l)}else{var g=br(e,n,0,!0);n-2*g-(o-1)*s<=0&&(s=0);var w=(n-2*g-(o-1)*s)/o;w>1&&(w>>=0);var E=$n(i)?Math.min(w,i):w;a=r.reduce((y,v,b)=>[...y,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:g+(w+s)*b+(w-E)/2,size:E}}],l)}return a}}var wQ=(t,e,n,r,i,o,s)=>{var a=wt(s)?e:s,l=_Q(n,r,i!==o?i:o,t,a);return i!==o&&l!=null&&(l=l.map(u=>Wf(Wf({},u),{},{position:Wf(Wf({},u.position),{},{offset:u.position.offset-i/2})}))),l},EQ=$([yQ,D2,uK,M2,vQ,TD,fQ],wQ),bQ=(t,e,n,r)=>Qa(t,"xAxis",e,r),TQ=(t,e,n,r)=>Qa(t,"yAxis",n,r),SQ=(t,e,n,r)=>Ya(t,"xAxis",e,r),AQ=(t,e,n,r)=>Ya(t,"yAxis",n,r),PQ=$([EQ,Vc],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),IQ=(t,e)=>{var n=Uw(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:o}=i;if(o)return o.find(s=>s.key===n)}}}},xQ=$([pQ,Vc],IQ),CQ=$([Ot,bQ,TQ,SQ,AQ,PQ,ke,Rw,TD,xQ,Vc,hQ],(t,e,n,r,i,o,s,a,l,u,c,h)=>{var{chartData:d,dataStartIndex:p,dataEndIndex:g}=a;if(!(c==null||o==null||s!=="horizontal"&&s!=="vertical"||e==null||n==null||r==null||i==null||l==null)){var{data:w}=c,E;if(w!=null&&w.length>0?E=w:E=d==null?void 0:d.slice(p,g+1),E!=null)return rQ({layout:s,barSettings:c,pos:o,bandSize:l,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:u,displayedData:E,offset:t,cells:h})}}),kQ=t=>{var{chartData:e}=t,n=kt(),r=Sr();return P.useEffect(()=>r?()=>{}:(n(OA(e)),()=>{n(OA(void 0))}),[e,n,r]),null},oP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},SD=Bn({name:"brush",initialState:oP,reducers:{setBrushSettings(t,e){return e.payload==null?oP:e.payload}}}),{setBrushSettings:GJ}=SD.actions,OQ=SD.reducer;function RQ(t,e,n){return(e=NQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NQ(t){var e=DQ(t,"string");return typeof e=="symbol"?e:e+""}function DQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class lE{static create(e){return new lE(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}RQ(lE,"EPS",1e-4);function MQ(t){return(t%180+180)%180}var LQ=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=MQ(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},VQ={dots:[],areas:[],lines:[]},AD=Bn({name:"referenceElements",initialState:VQ,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=li(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=li(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=li(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:YJ,removeDot:QJ,addArea:XJ,removeArea:JJ,addLine:ZJ,removeLine:eZ}=AD.actions,jQ=AD.reducer,$Q=P.createContext(void 0),FQ=t=>{var{children:e}=t,[n]=P.useState("".concat(Yu("recharts"),"-clip")),r=yD();if(r==null)return null;var{x:i,y:o,width:s,height:a}=r;return P.createElement($Q.Provider,{value:n},P.createElement("defs",null,P.createElement("clipPath",{id:n},P.createElement("rect",{x:i,y:o,height:a,width:s}))),e)};function Lg(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function PD(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function UQ(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return LQ(r,n)}function BQ(t,e,n){var r=n==="width",{x:i,y:o,width:s,height:a}=t;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function jd(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function zQ(t,e){return PD(t,e+1)}function WQ(t,e,n,r,i){for(var o=(r||[]).slice(),{start:s,end:a}=e,l=0,u=1,c=s,h=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:PD(r,u)};var w=l,E,y=()=>(E===void 0&&(E=n(g,w)),E),v=g.coordinate,b=l===0||jd(t,v,y,c,a);b||(l=0,c=s,u+=1),b&&(c=v+t*(y()/2+i),l+=u)},d;u<=o.length;)if(d=h(),d)return d.v;return[]}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){KQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KQ(t,e,n){return(e=HQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HQ(t){var e=qQ(t,"string");return typeof e=="symbol"?e:e+""}function qQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GQ(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:a}=e,{end:l}=e,u=function(d){var p=o[d],g,w=()=>(g===void 0&&(g=n(p,d)),g);if(d===s-1){var E=t*(p.coordinate+t*w()/2-l);o[d]=p=Qt(Qt({},p),{},{tickCoord:E>0?p.coordinate-E*t:p.coordinate})}else o[d]=p=Qt(Qt({},p),{},{tickCoord:p.coordinate});var y=jd(t,p.tickCoord,w,a,l);y&&(l=p.tickCoord-t*(w()/2+i),o[d]=Qt(Qt({},p),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function YQ(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,{start:l,end:u}=e;if(o){var c=r[a-1],h=n(c,a-1),d=t*(c.coordinate+t*h/2-u);s[a-1]=c=Qt(Qt({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=jd(t,c.tickCoord,()=>h,l,u);p&&(u=c.tickCoord-t*(h/2+i),s[a-1]=Qt(Qt({},c),{},{isShow:!0}))}for(var g=o?a-1:a,w=function(v){var b=s[v],x,R=()=>(x===void 0&&(x=n(b,v)),x);if(v===0){var D=t*(b.coordinate-t*R()/2-l);s[v]=b=Qt(Qt({},b),{},{tickCoord:D<0?b.coordinate-D*t:b.coordinate})}else s[v]=b=Qt(Qt({},b),{},{tickCoord:b.coordinate});var S=jd(t,b.tickCoord,R,l,u);S&&(l=b.tickCoord+t*(R()/2+i),s[v]=Qt(Qt({},b),{},{isShow:!0}))},E=0;E<g;E++)w(E);return s}function QQ(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:a,interval:l,tickFormatter:u,unit:c,angle:h}=t;if(!i||!i.length||!r)return[];if(Z(l)||Pc.isSsr){var d;return(d=zQ(i,Z(l)?l:0))!==null&&d!==void 0?d:[]}var p=[],g=a==="top"||a==="bottom"?"width":"height",w=c&&g==="width"?bu(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=(b,x)=>{var R=typeof u=="function"?u(b.value,x):b.value;return g==="width"?UQ(bu(R,{fontSize:e,letterSpacing:n}),w,h):bu(R,{fontSize:e,letterSpacing:n})[g]},y=i.length>=2?Nn(i[1].coordinate-i[0].coordinate):1,v=BQ(o,y,g);return l==="equidistantPreserveStart"?WQ(y,v,E,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=YQ(y,v,E,i,s,l==="preserveStartEnd"):p=GQ(y,v,E,i,s),p.filter(b=>b.isShow))}var XQ=["viewBox"],JQ=["viewBox"];function pa(){return pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pa.apply(null,arguments)}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){uE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lP(t,e){if(t==null)return{};var n,r,i=ZQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ZQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uE(t,e,n){return(e=eX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eX(t){var e=tX(t,"string");return typeof e=="symbol"?e:e+""}function tX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class vl extends P.Component{constructor(e){super(e),this.tickRefs=P.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=lP(e,XQ),o=this.props,{viewBox:s}=o,a=lP(o,JQ);return!Lg(r,s)||!Lg(i,a)||!Lg(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:o,orientation:s,tickSize:a,mirror:l,tickMargin:u}=this.props,c,h,d,p,g,w,E=l?-1:1,y=e.tickSize||a,v=Z(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":c=h=e.coordinate,p=r+ +!l*o,d=p-E*y,w=d-E*u,g=v;break;case"left":d=p=e.coordinate,h=n+ +!l*i,c=h-E*y,g=c-E*u,w=v;break;case"right":d=p=e.coordinate,h=n+ +l*i,c=h+E*y,g=c+E*u,w=v;break;default:c=h=e.coordinate,p=r+ +l*o,d=p+E*y,w=d+E*u,g=v;break}return{line:{x1:c,y1:d,x2:h,y2:p},tick:{x:g,y:w}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:a}=this.props,l=gt(gt(gt({},xt(this.props,!1)),xt(a,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var u=+(o==="top"&&!s||o==="bottom"&&s);l=gt(gt({},l),{},{x1:e,y1:n+u*i,x2:e+r,y2:n+u*i})}else{var c=+(o==="left"&&!s||o==="right"&&s);l=gt(gt({},l),{},{x1:e+c*r,y1:n,x2:e+c*r,y2:n+i})}return P.createElement("line",pa({},l,{className:ze("recharts-cartesian-axis-line",Es(a,"className"))}))}static renderTickItem(e,n,r){var i,o=ze(n.className,"recharts-cartesian-axis-tick-value");if(P.isValidElement(e))i=P.cloneElement(e,gt(gt({},n),{},{className:o}));else if(typeof e=="function")i=e(gt(gt({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=ze(s,e.className)),i=P.createElement(sE,pa({},n,{className:s}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:o,tick:s,tickFormatter:a,unit:l,padding:u}=this.props,c=QQ(gt(gt({},this.props),{},{ticks:r}),e,n),h=this.getTickTextAnchor(),d=this.getTickVerticalAnchor(),p=Dp(this.props),g=xt(s,!1),w=gt(gt({},p),{},{fill:"none"},xt(i,!1)),E=c.map((y,v)=>{var{line:b,tick:x}=this.getTickLineCoord(y),R=gt(gt(gt(gt({textAnchor:h,verticalAnchor:d},p),{},{stroke:"none",fill:o},g),x),{},{index:v,payload:y,visibleTicksCount:c.length,tickFormatter:a,padding:u});return P.createElement(Ao,pa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},V_(this.props,y,v)),i&&P.createElement("line",pa({},w,b,{className:ze("recharts-cartesian-axis-tick-line",Es(i,"className"))})),s&&vl.renderTickItem(s,R,"".concat(typeof a=="function"?a(y.value,v):y.value).concat(l||"")))});return E.length>0?P.createElement("g",{className:"recharts-cartesian-axis-ticks"},E):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:o}=this.props;if(o)return null;var{ticks:s}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:P.createElement(Ao,{className:ze("recharts-cartesian-axis",i),ref:a=>{if(a){var l=a.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var u=l[0];if(u){var c=window.getComputedStyle(u).fontSize,h=window.getComputedStyle(u).letterSpacing;(c!==this.state.fontSize||h!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),Cn.renderCallByParent(this.props))}}uE(vl,"displayName","CartesianAxis");uE(vl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function uP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(n),!0).forEach(function(r){nX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nX(t,e,n){return(e=rX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rX(t){var e=iX(t,"string");return typeof e=="symbol"?e:e+""}function iX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oX={xAxis:{},yAxis:{},zAxis:{}},ID=Bn({name:"cartesianAxis",initialState:oX,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=cP(cP({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:sX,removeXAxis:aX,addYAxis:lX,removeYAxis:uX,addZAxis:tZ,removeZAxis:nZ,updateYAxisWidth:cX}=ID.actions,fX=ID.reducer,hX=["children"],dX=["dangerouslySetInnerHTML","ticks"];function xD(t,e,n){return(e=pX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pX(t){var e=mX(t,"string");return typeof e=="symbol"?e:e+""}function mX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wv.apply(null,arguments)}function CD(t,e){if(t==null)return{};var n,r,i=gX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yX(t){var e=kt(),n=P.useMemo(()=>{var{children:o}=t,s=CD(t,hX);return s},[t]),r=ie(o=>Ci(o,n.id)),i=n===r;return P.useEffect(()=>(e(sX(n)),()=>{e(aX(n))}),[n,e]),i?t.children:null}var vX=t=>{var{xAxisId:e,className:n}=t,r=ie(_R),i=Sr(),o="xAxis",s=ie(p=>ml(p,o,e,i)),a=ie(p=>bN(p,o,e,i)),l=ie(p=>vN(p,e)),u=ie(p=>tH(p,e));if(l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:h}=t,d=CD(t,dX);return P.createElement(vl,Wv({},d,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:ze("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:a}))},_X=t=>{var e,n,r,i,o;return P.createElement(yX,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},P.createElement(vX,t))};class cE extends P.Component{render(){return P.createElement(_X,this.props)}}xD(cE,"displayName","XAxis");xD(cE,"defaultProps",{allowDataOverflow:An.allowDataOverflow,allowDecimals:An.allowDecimals,allowDuplicatedCategory:An.allowDuplicatedCategory,height:An.height,hide:!1,mirror:An.mirror,orientation:An.orientation,padding:An.padding,reversed:An.reversed,scale:An.scale,tickCount:An.tickCount,type:An.type,xAxisId:0});var wX=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,s=0;if(e){e.forEach(c=>{if(c){var h=c.getBoundingClientRect();h.width>s&&(s=h.width)}});var a=n?n.getBoundingClientRect().width:0,l=i+o,u=s+l+a+(n?r:0);return Math.round(u)}return 0},EX=["dangerouslySetInnerHTML","ticks"];function kD(t,e,n){return(e=bX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bX(t){var e=TX(t,"string");return typeof e=="symbol"?e:e+""}function TX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kv.apply(null,arguments)}function SX(t,e){if(t==null)return{};var n,r,i=AX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function AX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function PX(t){var e=kt();return P.useEffect(()=>(e(lX(t)),()=>{e(uX(t))}),[t,e]),null}var IX=t=>{var e,{yAxisId:n,className:r,width:i,label:o}=t,s=P.useRef(null),a=P.useRef(null),l=ie(_R),u=Sr(),c=kt(),h="yAxis",d=ie(b=>ml(b,h,n,u)),p=ie(b=>_N(b,n)),g=ie(b=>nH(b,n)),w=ie(b=>bN(b,h,n,u));if(P.useLayoutEffect(()=>{var b;if(!(i!=="auto"||!p||aE(o)||P.isValidElement(o))){var x=s.current,R=x==null||(b=x.tickRefs)===null||b===void 0?void 0:b.current,{tickSize:D,tickMargin:S}=x.props,T=wX({ticks:R,label:a.current,labelGapWithTick:5,tickSize:D,tickMargin:S});Math.round(p.width)!==Math.round(T)&&c(cX({id:n,width:T}))}},[s,s==null||(e=s.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,p==null?void 0:p.width,p,c,o,n,i]),p==null||g==null)return null;var{dangerouslySetInnerHTML:E,ticks:y}=t,v=SX(t,EX);return P.createElement(vl,Kv({},v,{ref:s,labelRef:a,scale:d,x:g.x,y:g.y,width:p.width,height:p.height,className:ze("recharts-".concat(h," ").concat(h),r),viewBox:l,ticks:w}))},xX=t=>{var e,n,r,i,o;return P.createElement(P.Fragment,null,P.createElement(PX,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),P.createElement(IX,t))},CX={allowDataOverflow:Pn.allowDataOverflow,allowDecimals:Pn.allowDecimals,allowDuplicatedCategory:Pn.allowDuplicatedCategory,hide:!1,mirror:Pn.mirror,orientation:Pn.orientation,padding:Pn.padding,reversed:Pn.reversed,scale:Pn.scale,tickCount:Pn.tickCount,type:Pn.type,width:Pn.width,yAxisId:0};class fE extends P.Component{render(){return P.createElement(xX,this.props)}}kD(fE,"displayName","YAxis");kD(fE,"defaultProps",CX);var kX={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jc=P;function OX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var RX=typeof Object.is=="function"?Object.is:OX,NX=jc.useSyncExternalStore,DX=jc.useRef,MX=jc.useEffect,LX=jc.useMemo,VX=jc.useDebugValue;kX.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=DX(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=LX(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return h=g}return h=p}if(g=h,RX(c,p))return g;var w=r(p);return i!==void 0&&i(g,w)?(c=p,g):(c=p,h=w)}var u=!1,c,h,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var a=NX(t,o[0],o[1]);return MX(function(){s.hasValue=!0,s.value=a},[a]),VX(a),a};function jX(t){t()}function $X(){let t=null,e=null;return{clear(){t=null,e=null},notify(){jX(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var fP={notify(){},get:()=>[]};function FX(t,e){let n,r=fP,i=0,o=!1;function s(w){c();const E=r.subscribe(w);let y=!1;return()=>{y||(y=!0,E(),h())}}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return o}function c(){i++,n||(n=t.subscribe(l),r=$X())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=fP)}function d(){o||(o=!0,c())}function p(){o&&(o=!1,h())}const g={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:d,tryUnsubscribe:p,getListeners:()=>r};return g}var UX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BX=UX(),zX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",WX=zX(),KX=()=>BX||WX?P.useLayoutEffect:P.useEffect,HX=KX(),Vg=Symbol.for("react-redux-context"),jg=typeof globalThis<"u"?globalThis:{};function qX(){if(!P.createContext)return{};const t=jg[Vg]??(jg[Vg]=new Map);let e=t.get(P.createContext);return e||(e=P.createContext(null),t.set(P.createContext,e)),e}var GX=qX();function YX(t){const{children:e,context:n,serverState:r,store:i}=t,o=P.useMemo(()=>{const l=FX(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=P.useMemo(()=>i.getState(),[i]);HX(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||GX;return P.createElement(a.Provider,{value:o},e)}var QX=YX,XX=(t,e)=>e,hE=$([XX,ke,U2,bt,VN,ki,sq,Ot],fq),dE=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},OD=sr("mouseClick"),RD=Ac();RD.startListening({actionCreator:OD,effect:(t,e)=>{var n=t.payload,r=hE(e.getState(),dE(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(mH({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Hv=sr("mouseMove"),ND=Ac();ND.startListening({actionCreator:Hv,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=Xw(r,r.tooltip.settings.shared),o=hE(r,dE(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(kN({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(CN()))}});function JX(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var hP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},DD=Bn({name:"rootProps",initialState:hP,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:hP.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),ZX=DD.reducer,{updateOptions:eJ}=DD.actions,MD=Bn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:rZ}=MD.actions,tJ=MD.reducer,LD=sr("keyDown"),VD=sr("focus"),pE=Ac();pE.startListening({actionCreator:LD,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=Number(Jw(i,yl(n))),a=ki(n);if(o==="Enter"){var l=Nd(n,"axis","hover",String(i.index));e.dispatch(jv({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=sH(n),c=u==="left-to-right"?1:-1,h=o==="ArrowRight"?1:-1,d=s+h*c;if(!(a==null||d>=a.length||d<0)){var p=Nd(n,"axis","hover",String(d));e.dispatch(jv({active:!0,activeIndex:d.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});pE.startListening({actionCreator:VD,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=Nd(n,"axis","hover",String(o));e.dispatch(jv({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:s}))}}}});var qn=sr("externalEvent"),jD=Ac();jD.startListening({actionCreator:qn,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:XH(n),activeDataKey:UN(n),activeIndex:Xa(n),activeLabel:FN(n),activeTooltipIndex:Xa(n),isTooltipActive:JH(n)};t.payload.handler(r,t.payload.reactEvent)}}});var nJ=$([gl],t=>t.tooltipItemPayloads),rJ=$([nJ,Mc,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(a=>a.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var s=e(o,n);return s}}}),$D=sr("touchMove"),FD=Ac();FD.startListening({actionCreator:$D,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=Xw(r,r.tooltip.settings.shared);if(i==="axis"){var o=hE(r,dE({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(kN({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,a=n.touches[0],l=document.elementFromPoint(a.clientX,a.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(QB),c=(s=l.getAttribute(XB))!==null&&s!==void 0?s:void 0,h=rJ(e.getState(),u,c);e.dispatch(xN({activeDataKey:c,activeIndex:u,activeCoordinate:h}))}}});var iJ=qO({brush:OQ,cartesianAxis:fX,chartData:Iq,errorBars:RY,graphicalItems:pY,layout:_B,legend:fz,options:bq,polarAxis:FG,polarOptions:tJ,referenceElements:jQ,rootProps:ZX,tooltip:gH}),oJ=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return W5({reducer:iJ,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([RD.middleware,ND.middleware,pE.middleware,jD.middleware,FD.middleware]),devTools:{serialize:{replacer:JX},name:"recharts-".concat(n)}})};function sJ(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Sr(),o=P.useRef(null);if(i)return n;o.current==null&&(o.current=oJ(e,r));var s=Y_;return P.createElement(QX,{context:s,store:o.current},n)}function aJ(t){var{layout:e,width:n,height:r,margin:i}=t,o=kt(),s=Sr();return P.useEffect(()=>{s||(o(gB(e)),o(yB({width:n,height:r})),o(mB(i)))},[o,s,e,n,r,i]),null}function lJ(t){var e=kt();return P.useEffect(()=>{e(eJ(t))},[e,t]),null}var uJ=["children"];function cJ(t,e){if(t==null)return{};var n,r,i=fJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $d(){return $d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$d.apply(null,arguments)}var hJ={width:"100%",height:"100%"},dJ=P.forwardRef((t,e)=>{var n=sz(),r=az(),i=ER();if(!gd(n)||!gd(r))return null;var{children:o,otherAttributes:s,title:a,desc:l}=t,u,c;return typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0,P.createElement(tO,$d({},s,{title:a,desc:l,role:c,tabIndex:u,width:n,height:r,style:hJ,ref:e}),o)}),pJ=t=>{var{children:e}=t,n=ie(Jp);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return P.createElement(tO,{width:r,height:i,x:s,y:o},e)},dP=P.forwardRef((t,e)=>{var{children:n}=t,r=cJ(t,uJ),i=Sr();return i?P.createElement(pJ,null,n):P.createElement(dJ,$d({ref:e},r),n)});function mJ(){var t=kt(),[e,n]=P.useState(null),r=ie(YB);return P.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;$n(o)&&o!==r&&t(vB(o))}},[e,t,r]),n}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){yJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yJ(t,e,n){return(e=vJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vJ(t){var e=_J(t,"string");return typeof e=="symbol"?e:e+""}function _J(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wJ=P.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:a,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:h,onMouseUp:d,onTouchEnd:p,onTouchMove:g,onTouchStart:w,style:E,width:y}=t,v=kt(),[b,x]=P.useState(null),[R,D]=P.useState(null);kq();var S=mJ(),T=P.useCallback(H=>{S(H),typeof e=="function"&&e(H),x(H),D(H)},[S,e,x,D]),I=P.useCallback(H=>{v(OD(H)),v(qn({handler:o,reactEvent:H}))},[v,o]),C=P.useCallback(H=>{v(Hv(H)),v(qn({handler:u,reactEvent:H}))},[v,u]),k=P.useCallback(H=>{v(CN()),v(qn({handler:c,reactEvent:H}))},[v,c]),N=P.useCallback(H=>{v(Hv(H)),v(qn({handler:h,reactEvent:H}))},[v,h]),O=P.useCallback(()=>{v(VD())},[v]),ue=P.useCallback(H=>{v(LD(H.key))},[v]),Te=P.useCallback(H=>{v(qn({handler:s,reactEvent:H}))},[v,s]),ne=P.useCallback(H=>{v(qn({handler:a,reactEvent:H}))},[v,a]),ye=P.useCallback(H=>{v(qn({handler:l,reactEvent:H}))},[v,l]),W=P.useCallback(H=>{v(qn({handler:d,reactEvent:H}))},[v,d]),J=P.useCallback(H=>{v(qn({handler:w,reactEvent:H}))},[v,w]),te=P.useCallback(H=>{v($D(H)),v(qn({handler:g,reactEvent:H}))},[v,g]),_e=P.useCallback(H=>{v(qn({handler:p,reactEvent:H}))},[v,p]);return P.createElement(qN.Provider,{value:b},P.createElement(GU.Provider,{value:R},P.createElement("div",{className:ze("recharts-wrapper",r),style:gJ({position:"relative",cursor:"default",width:y,height:i},E),onClick:I,onContextMenu:Te,onDoubleClick:ne,onFocus:O,onKeyDown:ue,onMouseDown:ye,onMouseEnter:C,onMouseLeave:k,onMouseMove:N,onMouseUp:W,onTouchEnd:_e,onTouchMove:te,onTouchStart:J,ref:T},n)))}),EJ=["children","className","width","height","style","compact","title","desc"];function bJ(t,e){if(t==null)return{};var n,r,i=TJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function TJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var SJ=P.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:o,style:s,compact:a,title:l,desc:u}=t,c=bJ(t,EJ),h=Dp(c);return a?P.createElement(dP,{otherAttributes:h,title:l,desc:u},n):P.createElement(wJ,{className:r,style:s,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},P.createElement(dP,{otherAttributes:h,title:l,desc:u,ref:e},P.createElement(FQ,null,n)))}),AJ=["width","height"];function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qv.apply(null,arguments)}function PJ(t,e){if(t==null)return{};var n,r,i=IJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function IJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xJ={top:5,right:5,bottom:5,left:5},CJ={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:xJ,reverseStackOrder:!1,syncMethod:"index"},kJ=P.forwardRef(function(e,n){var r,i=ks(e.categoricalChartProps,CJ),{width:o,height:s}=i,a=PJ(i,AJ);if(!gd(o)||!gd(s))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:h,categoricalChartProps:d}=e,p={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:h,eventEmitter:void 0};return P.createElement(sJ,{preloadedState:{options:p},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:l},P.createElement(kQ,{chartData:d.data}),P.createElement(aJ,{width:o,height:s,layout:i.layout,margin:i.margin}),P.createElement(lJ,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),P.createElement(SJ,qv({},a,{width:o,height:s,ref:n})))}),OJ=["axis","item"],RJ=P.forwardRef((t,e)=>P.createElement(kJ,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:OJ,tooltipPayloadSearcher:wq,categoricalChartProps:t,ref:e}));const mP=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{},Bi=typeof __app_id<"u"?__app_id:"default-app-id",gP=typeof __initial_auth_token<"u"?__initial_auth_token:null,NJ=()=>{const[t,e]=P.useState(null),[n,r]=P.useState(null),[i,o]=P.useState(null),[s,a]=P.useState([]),[l,u]=P.useState([]),[c,h]=P.useState(0),[d,p]=P.useState({}),[g,w]=P.useState(0),[E,y]=P.useState(0),[v,b]=P.useState(0),[x,R]=P.useState("monthly"),[D,S]=P.useState(""),[T,I]=P.useState(""),[C,k]=P.useState([]),[N,O]=P.useState([]),[ue,Te]=P.useState("overall"),[ne,ye]=P.useState(null),[W,J]=P.useState(""),[te,_e]=P.useState(""),[H,Oe]=P.useState(""),[Nt,je]=P.useState(""),[bn,fn]=P.useState({text:"",type:""}),[_l,q]=P.useState(!1),[fe,he]=P.useState(!1),[B,Je]=P.useState(""),[we,nt]=P.useState(""),[dt,Tn]=P.useState(""),[Mo,Ds]=P.useState(""),[Ms,Ls]=P.useState(""),[$c,Vs]=P.useState(""),[js,wl]=P.useState(""),[st,St]=P.useState(""),[Oi,El]=P.useState(""),[$s,Fc]=P.useState(""),[Ri,bl]=P.useState("monthly"),[Ni,Fs]=P.useState("expense"),[Tl,Uc]=P.useState(""),Di=["Housing","Transportation","Food","Utilities","Personal","Entertainment","Health","Other"],Bc=({message:V,onClose:re})=>_l?M.createElement("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50"},M.createElement("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-sm w-full"},M.createElement("h3",{className:"text-xl font-bold mb-4 text-center text-gray-900"},V.type==="error"?"Error":"Success"),M.createElement("p",{className:"text-gray-700 text-center"},V.text),M.createElement("div",{className:"flex justify-center mt-4"},M.createElement("button",{onClick:re,className:"bg-sky-600 hover:bg-sky-700 text-white font-bold py-2 px-4 rounded-lg shadow-lg transition-transform transform hover:scale-105"},"OK")))):null,Ke=(V,re)=>{fn({text:V,type:re}),q(!0),setTimeout(()=>{q(!1),fn({text:"",type:""})},3e3)};P.useEffect(()=>{try{if(Object.keys(mP).length===0){console.error("Firebase config is not provided.");return}const V=jx(mP),re=dU(V),ae=h6(V);e(re),r(ae),gP?Zj(ae,gP).then(Pe=>{console.log("Signed in with custom token:",Pe.user.uid),o(Pe.user.uid),he(!0)}).catch(Pe=>{console.error("Custom token sign-in failed:",Pe),Ab(ae).then(()=>{console.log("Signed in anonymously."),o(ae.currentUser.uid),he(!0)}).catch(Ee=>{console.error("Anonymous sign-in failed:",Ee)})}):Ab(ae).then(()=>{console.log("Signed in anonymously."),o(ae.currentUser.uid),he(!0)}).catch(Pe=>{console.error("Anonymous sign-in failed:",Pe)})}catch(V){console.error("Firebase initialization failed:",V)}},[]),P.useEffect(()=>{if(!t||!i)return;const re=`/artifacts/${Bi.split("/")[0]}/users/${i}`,ae=qs(t,`${re}/transactions`),Pe=DT(ae),Ee=kf(Pe,mt=>{const zn=mt.docs.map(Wn=>({id:Wn.id,...Wn.data()}));a(zn)},mt=>{console.error("Error fetching transactions:",mt)}),pt=qs(t,`${re}/recurring`),qr=DT(pt),Us=kf(qr,mt=>{const zn=mt.docs.map(Wn=>({id:Wn.id,...Wn.data()}));u(zn)},mt=>{console.error("Error fetching recurring transactions:",mt)}),qc=zo(t,`${re}/budgets/overall`),Pl=kf(qc,mt=>{if(mt.exists()){const zn=mt.data();h(zn.overallLimit||0),p(zn.categories||{}),Te(zn.mode||"overall")}},mt=>{console.error("Error fetching budget:",mt)}),Bs=qs(t,`${re}/goals`),Pr=kf(Bs,mt=>{const zn=mt.docs.map(Wn=>({id:Wn.id,...Wn.data()}));O(zn)},mt=>{console.error("Error fetching savings goals:",mt)});return()=>{Ee(),Us(),Pl(),Pr()}},[t,i]),P.useEffect(()=>{Sl(),Al()},[s,l,c,d,x,D,T]);const Hr=()=>{const V=new Date;let re=new Date,ae=new Date;if(ae.setHours(23,59,59,999),x==="monthly")re.setDate(1),re.setHours(0,0,0,0);else if(x==="weekly"){const Pe=V.getDay(),Ee=V.getDate()-Pe;re=new Date(V.setDate(Ee)),re.setHours(0,0,0,0)}else x==="custom"&&(re=new Date(D),ae=new Date(T));return{startDate:re,endDate:ae}},Sl=()=>{const{startDate:V,endDate:re}=Hr();let ae=0,Pe=0;s.filter(pt=>{const qr=pt.createdAt?pt.createdAt.toDate():new Date;return qr>=V&&qr<=re}).forEach(pt=>{pt.type==="income"?ae+=pt.amount:Pe+=pt.amount}),l.forEach(pt=>{pt.type==="income"?ae+=pt.amount:Pe+=pt.amount}),w(ae),y(Pe),b(c-Pe)},Al=()=>{const{startDate:V,endDate:re}=Hr(),ae={};Di.forEach(Ee=>{ae[Ee]={name:Ee,expenses:0,budget:d[Ee]||0}}),s.filter(Ee=>{const pt=Ee.createdAt?Ee.createdAt.toDate():new Date;return pt>=V&&pt<=re}).forEach(Ee=>{Ee.type==="expense"&&Ee.category&&(ae[Ee.category].expenses+=Ee.amount)}),l.forEach(Ee=>{Ee.type==="expense"&&Ee.category&&(ae[Ee.category].expenses+=Ee.amount)}),k(Object.values(ae))},Ar=async V=>{if(!(!t||!i))try{const re=V==="income"?B:dt,ae=V==="income"?we:Mo,Pe=V==="expense"?Ms:"";if(re<=0||!ae.trim()||V==="expense"&&!Pe){Ke("Please fill in all fields correctly.","error");return}const Ee={type:V,amount:parseFloat(re),description:ae,category:Pe,createdAt:CU()},pt=Bi.split("/")[0],qr=qs(t,`/artifacts/${pt}/users/${i}/transactions`);ne?(await jT(zo(t,qr,ne.id),Ee),Ke("Transaction updated successfully!","success"),ye(null)):(await fg(qr,Ee),Ke("Transaction added successfully!","success")),Je(""),nt(""),Tn(""),Ds(""),Ls("")}catch(re){console.error("Error adding/updating transaction:",re),Ke("Failed to save transaction.","error")}},zc=V=>{ye(V),V.type==="income"?(nt(V.source),Je(V.amount)):(Ds(V.description),Tn(V.amount),Ls(V.category))},Mi=async(V,re)=>{if(!(!t||!i))try{const ae=Bi.split("/")[0],Pe=zo(t,`/artifacts/${ae}/users/${i}/${re}`,V);await IU(Pe),Ke("Item deleted successfully!","success")}catch(ae){console.error("Error deleting item:",ae),Ke("Failed to delete item.","error")}},Wc=async()=>{if(!(!t||!i)){if(Oi<=0||!$s.trim()||Ni==="expense"&&!Tl){Ke("Please fill in all recurring transaction fields.","error");return}try{const V={type:Ni,amount:parseFloat(Oi),description:$s,frequency:Ri,category:Ni==="expense"?Tl:""},re=Bi.split("/")[0];await fg(qs(t,`/artifacts/${re}/users/${i}/recurring`),V),Ke("Recurring transaction added!","success"),El(""),Fc(""),Uc(""),bl("monthly"),Fs("expense")}catch(V){console.error("Error adding recurring transaction:",V),Ke("Failed to add recurring transaction.","error")}}},Lo=async()=>{if(!t||!i)return;const V=parseFloat($c);if(isNaN(V)||V<=0){Ke("Please enter a valid budget amount.","error");return}try{const re=Bi.split("/")[0];await VT(zo(t,`/artifacts/${re}/users/${i}/budgets/overall`),{overallLimit:V,mode:"overall"},{merge:!0}),Ke("Overall budget limit saved!","success"),Vs("")}catch(re){console.error("Error saving budget limit:",re),Ke("Failed to save budget limit.","error")}},Kc=async()=>{if(!t||!i)return;const V=parseFloat(js);if(isNaN(V)||V<=0||!st){Ke("Please enter a valid amount and select a category.","error");return}try{const re={...d,[st]:V},ae=Bi.split("/")[0];await VT(zo(t,`/artifacts/${ae}/users/${i}/budgets/overall`),{categories:re,mode:"category"},{merge:!0}),Ke("Category budget saved!","success"),wl(""),St("")}catch(re){console.error("Error saving category budget:",re),Ke("Failed to save category budget.","error")}},Dt=async()=>{if(!(!t||!i)){if(!H.trim()||parseFloat(Nt)<=0){Ke("Please enter a valid goal name and target amount.","error");return}try{const V=Bi.split("/")[0];await fg(qs(t,`/artifacts/${V}/users/${i}/goals`),{name:H,target:parseFloat(Nt),current:0}),Ke("Savings goal created!","success"),Oe(""),je("")}catch(V){console.error("Error adding savings goal:",V),Ke("Failed to create savings goal.","error")}}},Hc=async()=>{if(!(!t||!i)){if(!te||parseFloat(W)<=0){Ke("Please select a goal and enter a valid contribution amount.","error");return}try{const V=Bi.split("/")[0],re=zo(t,`/artifacts/${V}/users/${i}/goals`,te),ae=N.find(Pe=>Pe.id===te);if(ae){const Pe=ae.current+parseFloat(W);await jT(re,{current:Pe}),Ke("Contribution added successfully!","success")}_e(""),J("")}catch(V){console.error("Error contributing to goal:",V),Ke("Failed to add contribution.","error")}}};return fe?M.createElement("div",{className:"min-h-screen flex flex-col items-center p-4 sm:p-6 md:p-8 font-sans bg-gray-100 text-gray-900"},M.createElement(Bc,{message:bn,onClose:()=>q(!1)}),M.createElement("div",{className:"w-full flex justify-end items-center mb-6"},M.createElement("div",{className:"flex items-center space-x-2"},M.createElement("p",{className:"text-xs text-gray-500"},"User ID: ",i))),M.createElement("div",{className:"w-full max-w-4xl bg-white p-6 sm:p-8 md:p-10 rounded-lg shadow-2xl"},M.createElement("h1",{className:"text-4xl font-extrabold text-center text-sky-600 mb-2"},"Budget Buddy"),M.createElement("p",{className:"text-center text-sm text-gray-600 mb-6"},"Your personal finance manager."),M.createElement("div",{className:"mb-8"},M.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-4"},"Budget Settings"),M.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},M.createElement("div",{className:"p-4 rounded-lg bg-gray-200 shadow-md"},M.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},"Set Overall Budget"),M.createElement("div",{className:"flex space-x-2"},M.createElement("input",{type:"number",placeholder:"e.g. 2000",value:$c,onChange:V=>Vs(V.target.value),className:"w-full p-2 rounded-lg bg-gray-100 text-gray-900 placeholder-gray-400 border border-gray-300 focus:outline-none focus:border-sky-500"}),M.createElement("button",{onClick:Lo,className:"bg-sky-600 hover:bg-sky-700 text-white font-bold py-2 px-4 rounded-lg shadow-lg transition-transform transform hover:scale-105"},"Set"))),M.createElement("div",{className:"p-4 rounded-lg bg-gray-200 shadow-md"},M.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},"Set Category Budgets"),M.createElement("div",{className:"flex space-x-2"},M.createElement("select",{value:st,onChange:V=>St(V.target.value),className:"w-full p-2 rounded-lg bg-gray-100 text-gray-900 border border-gray-300 focus:outline-none focus:border-sky-500"},M.createElement("option",{value:""},"Select Category"),Di.map(V=>M.createElement("option",{key:V,value:V},V))),M.createElement("input",{type:"number",placeholder:"Amount",value:js,onChange:V=>wl(V.target.value),className:"w-full p-2 rounded-lg bg-gray-100 text-gray-900 placeholder-gray-400 border border-gray-300 focus:outline-none focus:border-sky-500"}),M.createElement("button",{onClick:Kc,className:"bg-sky-600 hover:bg-sky-700 text-white font-bold py-2 px-4 rounded-lg shadow-lg transition-transform transform hover:scale-105"},"Set")))),M.createElement("div",{className:"flex justify-center sm:justify-end gap-4 mt-4"},M.createElement("select",{value:x,onChange:V=>R(V.target.value),className:"p-2 rounded-lg bg-gray-200 text-gray-900 border border-gray-300"},M.createElement("option",{value:"monthly"},"Monthly"),M.createElement("option",{value:"weekly"},"Weekly"),M.createElement("option",{value:"custom"},"Custom"))),x==="custom"&&M.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4"},M.createElement("input",{type:"date",value:D,onChange:V=>S(V.target.value),className:"p-2 rounded-lg bg-gray-200 text-gray-900 border border-gray-300"}),M.createElement("input",{type:"date",value:T,onChange:V=>I(V.target.value),className:"p-2 rounded-lg bg-gray-200 text-gray-900 border border-gray-300"}))),M.createElement("hr",{className:"border-gray-300 my-8"}),M.createElement("div",{className:"mb-8"},M.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-4"},"Summary"),ue==="overall"?M.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-center"},M.createElement("div",{className:"bg-gray-200 p-4 rounded-lg shadow-md"},M.createElement("p",{className:"text-lg text-gray-600"},"Overall Budget Limit"),M.createElement("p",{className:"text-2xl font-bold text-sky-600"},"$",c.toFixed(2))),M.createElement("div",{className:"bg-gray-200 p-4 rounded-lg shadow-md"},M.createElement("p",{className:"text-lg text-gray-600"},"Total Expenses"),M.createElement("p",{className:"text-2xl font-bold text-red-600"},"$",E.toFixed(2))),M.createElement("div",{className:"bg-gray-200 p-4 rounded-lg shadow-md"},M.createElement("p",{className:"text-lg text-gray-600"},"Remaining"),M.createElement("p",{className:`text-2xl font-bold ${v>=0?"text-emerald-600":"text-red-600"}`},"$",v.toFixed(2)))):M.createElement("div",{className:"space-y-4"},C.length>0?C.map(V=>M.createElement("div",{key:V.name,className:"bg-gray-200 p-4 rounded-lg shadow-md"},M.createElement("div",{className:"flex justify-between items-center mb-2"},M.createElement("p",{className:"text-lg text-gray-900 font-bold"},V.name),M.createElement("p",{className:"text-sm text-gray-600"},"$",V.expenses.toFixed(2)," / $",V.budget.toFixed(2))),M.createElement("div",{className:"w-full bg-gray-300 rounded-full h-2.5"},M.createElement("div",{className:`h-2.5 rounded-full ${V.expenses>V.budget?"bg-red-400":"bg-emerald-400"}`,style:{width:`${Math.min(100,V.expenses/V.budget*100)}%`}})))):M.createElement("p",{className:"text-gray-600 text-center"},"No expense data to display for this period."))),M.createElement("hr",{className:"border-gray-300 my-8"}),M.createElement("div",{className:"mb-8"},M.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-4"},"Spending by Category"),C.length>0?M.createElement("div",{className:"w-full h-80"},M.createElement(Wq,{width:"100%",height:"100%"},M.createElement(RJ,{data:C,margin:{top:20,right:30,left:0,bottom:5}},M.createElement(cE,{dataKey:"name",stroke:"#4b5563"}),M.createElement(fE,{stroke:"#4b5563"}),M.createElement(jq,{contentStyle:{backgroundColor:"#e5e7eb",border:"none",borderRadius:"8px"},itemStyle:{color:"#1f2937"}}),M.createElement(zv,{dataKey:"expenses",fill:"#f87171",radius:[10,10,0,0],name:"Expenses"}),ue==="category"&&M.createElement(zv,{dataKey:"budget",fill:"#14b8a6",radius:[10,10,0,0],name:"Category Budget"})))):M.createElement("p",{className:"text-gray-600 text-center"},"No expense data to display for this period.")),M.createElement("h1",{className:"text-4xl font-bold text-sky-400"},"Transactions"),M.createElement("p",{className:"text-center text-sm text-gray-600 mb-6"},"Manage all your one-time and recurring transactions."),M.createElement("hr",{className:"border-gray-300 my-8"}),M.createElement("div",{className:"mb-6"},M.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-4"},ne&&ne.type==="income"?"Edit Income":"Add One-Time Income"),M.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},M.createElement("input",{type:"text",placeholder:"Source (e.g., Paycheck)",value:we,onChange:V=>nt(V.target.value),className:"p-3 rounded-lg bg-gray-200 text-gray-900 placeholder-gray-400 border border-gray-300 focus:outline-none focus:border-sky-500",disabled:ne&&ne.type==="expense"}),M.createElement("input",{type:"number",placeholder:"Amount ($)",value:B,onChange:V=>Je(V.target.value),className:"p-3 rounded-lg bg-gray-200 text-gray-900 placeholder-gray-400 border border-gray-300 focus:outline-none focus:border-sky-500",disabled:ne&&ne.type==="expense"})),M.createElement("div",{className:"flex justify-center sm:justify-end gap-2"},ne&&ne.type==="income"&&M.createElement("button",{onClick:()=>ye(null),className:"bg-gray-400 hover:bg-gray-500 text-gray-900 font-bold py-3 px-6 rounded-lg shadow-lg transition-transform transform hover:scale-105 w-full sm:w-auto"},"Cancel"),M.createElement("button",{onClick:()=>Ar("income"),className:"bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-transform transform hover:scale-105 w-full sm:w-auto",disabled:ne&&ne.type==="income"},ne&&ne.type==="income"?"Update Income":"Add Income"))),M.createElement("div",{className:"mb-6"},M.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-4"},ne&&ne.type==="expense"?"Edit Expense":"Add One-Time Expense"),M.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},M.createElement("input",{type:"text",placeholder:"Description",value:Mo,onChange:V=>Ds(V.target.value),className:"p-3 rounded-lg bg-gray-200 text-gray-900 placeholder-gray-400 border border-gray-300 focus:outline-none focus:border-sky-500",disabled:ne&&ne.type==="income"}),M.createElement("input",{type:"number",placeholder:"Amount ($)",value:dt,onChange:V=>Tn(V.target.value),className:"p-3 rounded-lg bg-gray-200 text-gray-900 placeholder-gray-400 border border-gray-300 focus:outline-none focus:border-sky-500",disabled:ne&&ne.type==="income"}),M.createElement("select",{value:Ms,onChange:V=>Ls(V.target.value),className:"p-3 rounded-lg bg-gray-200 text-gray-900 border border-gray-300 focus:outline-none focus:border-sky-500",disabled:ne&&ne.type==="income"},M.createElement("option",{value:""},"Select Category"),Di.map(V=>M.createElement("option",{key:V,value:V},V)))),M.createElement("div",{className:"flex justify-center sm:justify-end gap-2"},ne&&ne.type==="expense"&&M.createElement("button",{onClick:()=>ye(null),className:"bg-gray-400 hover:bg-gray-500 text-gray-900 font-bold py-3 px-6 rounded-lg shadow-lg transition-transform transform hover:scale-105 w-full sm:w-auto"},"Cancel"),M.createElement("button",{onClick:()=>Ar("expense"),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-transform transform hover:scale-105 w-full sm:w-auto",disabled:ne&&ne.type==="income"},ne&&ne.type==="expense"?"Update Expense":"Add Expense"))),M.createElement("hr",{className:"border-gray-300 my-8"}),M.createElement("div",{className:"mb-6"},M.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-4"},"Set Recurring Transaction"),M.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},M.createElement("input",{type:"text",placeholder:"Description (e.g., Rent, Salary)",value:$s,onChange:V=>Fc(V.target.value),className:"p-3 rounded-lg bg-gray-200 text-gray-900 placeholder-gray-400 border border-gray-300 focus:outline-none focus:border-sky-500"}),M.createElement("input",{type:"number",placeholder:"Amount ($)",value:Oi,onChange:V=>El(V.target.value),className:"p-3 rounded-lg bg-gray-200 text-gray-900 placeholder-gray-400 border border-gray-300 focus:outline-none focus:border-sky-500"}),M.createElement("select",{value:Ri,onChange:V=>bl(V.target.value),className:"p-3 rounded-lg bg-gray-200 text-gray-900 border border-gray-300 focus:outline-none focus:border-sky-500"},M.createElement("option",{value:"monthly"},"Monthly"),M.createElement("option",{value:"weekly"},"Weekly")),M.createElement("select",{value:Ni,onChange:V=>Fs(V.target.value),className:"p-3 rounded-lg bg-gray-200 text-gray-900 border border-gray-300 focus:outline-none focus:border-sky-500"},M.createElement("option",{value:"expense"},"Expense"),M.createElement("option",{value:"income"},"Income")),Ni==="expense"&&M.createElement("select",{value:Tl,onChange:V=>Uc(V.target.value),className:"p-3 rounded-lg bg-gray-200 text-gray-900 border border-gray-300 focus:outline-none focus:border-sky-500"},M.createElement("option",{value:""},"Select Category"),Di.map(V=>M.createElement("option",{key:V,value:V},V)))),M.createElement("div",{className:"flex justify-end gap-2"},M.createElement("button",{onClick:Wc,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-transform transform hover:scale-105 w-full sm:w-auto"},"Add Recurring Transaction")),M.createElement("div",{className:"mt-6"},M.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-2"},"Your Recurring Transactions"),l.length===0?M.createElement("p",{className:"text-gray-600"},"No recurring transactions set up yet."):M.createElement("ul",{className:"space-y-4"},l.map(V=>M.createElement("li",{key:V.id,className:"bg-gray-200 p-4 rounded-lg shadow-md flex justify-between items-center"},M.createElement("div",null,M.createElement("p",{className:"text-lg font-bold text-gray-900"},V.description),M.createElement("p",{className:"text-sm text-gray-600"},V.type," - ",V.frequency)),M.createElement("div",{className:"flex items-center gap-4"},M.createElement("span",{className:`text-xl font-bold ${V.type==="income"?"text-emerald-300":"text-red-300"}`},V.type==="income"?"+":"-","$",V.amount.toFixed(2)),M.createElement("button",{onClick:()=>Mi(V.id,"recurring"),className:"p-2 rounded-full bg-red-600 hover:bg-red-700 text-white",title:"Delete Recurring Transaction"},M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},M.createElement("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm6 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"}))))))))),M.createElement("hr",{className:"border-gray-300 my-8"}),M.createElement("div",null,M.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-4"},"One-Time Transaction History"),s.length===0?M.createElement("p",{className:"text-gray-600 text-center"},"No transactions added yet."):M.createElement("ul",{className:"space-y-4"},s.filter(V=>{const{startDate:re,endDate:ae}=Hr(),Pe=V.createdAt?V.createdAt.toDate():new Date;return Pe>=re&&Pe<=ae}).map(V=>M.createElement("li",{key:V.id,className:"bg-gray-200 p-4 rounded-lg shadow-md flex justify-between items-center transition-all duration-300 transform hover:bg-gray-300"},M.createElement("div",{className:"flex flex-col"},M.createElement("p",{className:"text-lg font-bold text-gray-900"},V.description||V.source),M.createElement("p",{className:"text-sm text-gray-600"},V.category?V.category:"Income")),M.createElement("div",{className:"flex items-center gap-4"},M.createElement("span",{className:`text-xl font-bold ${V.type==="income"?"text-emerald-300":"text-red-300"}`},V.type==="income"?"+":"-","$",V.amount.toFixed(2)),M.createElement("button",{onClick:()=>zc(V),className:"p-2 rounded-full bg-sky-600 hover:bg-sky-700 text-white",title:"Edit Transaction"},M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},M.createElement("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zm-7.586 7.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.96 9.414L10 11.374V14h2.626l1.96-1.96-2.626-2.626z"}),M.createElement("path",{fillRule:"evenodd",d:"M4 16a2 2 0 01-2-2v-4a2 2 0 012-2h4a2 2 0 012 2v4a2 2 0 01-2 2H4zM16 4a2 2 0 00-2-2h-4a2 2 0 00-2 2v4a2 2 0 002 2h4a2 2 0 002-2V4z",clipRule:"evenodd"}))),M.createElement("button",{onClick:()=>Mi(V.id,"transactions"),className:"p-2 rounded-full bg-red-600 hover:bg-red-700 text-white",title:"Delete Transaction"},M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},M.createElement("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm6 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})))))))),M.createElement("h1",{className:"text-4xl font-bold text-sky-400 mt-12"},"Savings Goals"),M.createElement("p",{className:"text-center text-sm text-gray-600 mb-6"},"Create and track your progress towards financial goals."),M.createElement("hr",{className:"border-gray-300 my-8"}),M.createElement("div",{className:"mb-8"},M.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-4"},"Create New Goal"),M.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},M.createElement("input",{type:"text",placeholder:"Goal Name (e.g., Vacation)",value:H,onChange:V=>Oe(V.target.value),className:"p-3 rounded-lg bg-gray-200 text-gray-900 placeholder-gray-400 border border-gray-300 focus:outline-none focus:border-sky-500"}),M.createElement("input",{type:"number",placeholder:"Target Amount ($)",value:Nt,onChange:V=>je(V.target.value),className:"p-3 rounded-lg bg-gray-200 text-gray-900 placeholder-gray-400 border border-gray-300 focus:outline-none focus:border-sky-500"}),M.createElement("button",{onClick:Dt,className:"bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-transform transform hover:scale-105 w-full md:col-span-2"},"Create Goal"))),M.createElement("hr",{className:"border-gray-300 my-8"}),M.createElement("div",{className:"mt-6"},M.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-4"},"Your Goals"),N.length===0?M.createElement("p",{className:"text-gray-600"},"No savings goals created yet."):M.createElement("ul",{className:"space-y-4"},N.map(V=>{const re=Math.min(100,V.current/V.target*100);return M.createElement("li",{key:V.id,className:"bg-gray-200 p-4 rounded-lg shadow-md flex flex-col"},M.createElement("div",{className:"flex justify-between items-center mb-2"},M.createElement("p",{className:"text-lg font-bold text-gray-900"},V.name),M.createElement("span",{className:"text-sm font-semibold text-gray-600"},"$",V.current.toFixed(2)," / $",V.target.toFixed(2))),M.createElement("div",{className:"w-full bg-gray-300 rounded-full h-2.5 mb-2"},M.createElement("div",{className:"h-2.5 rounded-full bg-emerald-400",style:{width:`${re}%`}})),M.createElement("div",{className:"flex items-center gap-4 mt-2"},M.createElement("button",{onClick:()=>Mi(V.id,"goals"),className:"p-2 rounded-full bg-red-600 hover:bg-red-700 text-white",title:"Delete Goal"},M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},M.createElement("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm6 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"}))),M.createElement("select",{value:te,onChange:ae=>_e(ae.target.value),className:"p-2 rounded-lg bg-gray-200 text-gray-900 text-sm focus:outline-none focus:border-sky-500"},M.createElement("option",{value:""},"Contribute to goal"),N.map(ae=>M.createElement("option",{key:ae.id,value:ae.id},ae.name))),M.createElement("input",{type:"number",placeholder:"Amount",value:W,onChange:ae=>J(ae.target.value),className:"p-2 rounded-lg bg-gray-200 text-gray-900 placeholder-gray-400 text-sm w-24 focus:outline-none focus:border-sky-500"}),M.createElement("button",{onClick:Hc,className:"p-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white text-sm"},"Add")))}))))):M.createElement("div",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 md:p-8 font-sans bg-gray-100 text-gray-900"},M.createElement("div",{className:"text-xl font-bold text-sky-600"},"Loading..."))};$g.createRoot(document.getElementById("root")).render(M.createElement(M.StrictMode,null,M.createElement(NJ,null)));
